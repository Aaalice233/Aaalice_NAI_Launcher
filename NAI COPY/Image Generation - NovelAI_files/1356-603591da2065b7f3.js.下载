!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="7ddbf45e-ce4a-4954-9b8f-2dadbe50eb75",t._sentryDebugIdIdentifier="sentry-dbid-7ddbf45e-ce4a-4954-9b8f-2dadbe50eb75")}catch(t){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1356],{6084:(t,e,r)=>{r.d(e,{$L:()=>J,Ln:()=>m,Um:()=>x,Wg:()=>g,X9:()=>o,dL:()=>$,jP:()=>k,n9:()=>M,zy:()=>b});var n=r(72191);class i{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class s{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&s.empty)return s.empty}recover(t){let e=0,r=65535&t;if(!this.inverted)for(let t=0;t<r;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*r]+e+(t-(65535&t))/65536}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let n=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;let h=this.ranges[a+s],p=this.ranges[a+o],c=l+h;if(t<=c){let s=h?t==l?-1:t==c?1:e:e,o=l+n+(s<0?0:p);if(r)return o;let d=t==(e<0?l:c)?null:a/3+(t-l)*65536,u=t==l?2:t==c?1:4;return(e<0?t!=l:t!=c)&&(u|=8),new i(o,u,d)}n+=p-h}return r?t+n:new i(t+n,0,null)}touches(t,e){let r=0,n=65535&e,i=this.inverted?2:1,s=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let o=this.ranges[e]-(this.inverted?r:0);if(o>t)break;let a=this.ranges[e+i];if(t<=o+a&&e==3*n)return!0;r+=this.ranges[e+s]-a}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let n=0,i=0;n<this.ranges.length;n+=3){let s=this.ranges[n],o=s-(this.inverted?i:0),a=s+(this.inverted?0:i),l=this.ranges[n+e],h=this.ranges[n+r];t(o,o+l,a,a+h),i+=h-l}}invert(){return new s(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?s.empty:new s(t<0?[0,-t,0]:[0,0,t])}}s.empty=new s([]);class o{constructor(t,e,r=0,n=t?t.length:0){this.mirror=e,this.from=r,this.to=n,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new o(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),null!=e&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,r=this._maps.length;e<t._maps.length;e++){let n=t.getMirror(e);this.appendMap(t._maps[e],null!=n&&n<e?r+n:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,r=this._maps.length+t._maps.length;e>=0;e--){let n=t.getMirror(e);this.appendMap(t._maps[e].invert(),null!=n&&n>e?r-n-1:void 0)}}invert(){let t=new o;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,r){let n=0;for(let r=this.from;r<this.to;r++){let i=this._maps[r].mapResult(t,e);if(null!=i.recover){let e=this.getMirror(r);if(null!=e&&e>r&&e<this.to){r=e,t=this._maps[e].recover(i.recover);continue}}n|=i.delInfo,t=i.pos}return r?t:new i(t,n,null)}}let a=Object.create(null);class l{getMap(){return s.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw RangeError("Invalid input for Step.fromJSON");let r=a[e.stepType];if(!r)throw RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in a)throw RangeError("Duplicate use of step JSON ID "+t);return a[t]=e,e.prototype.jsonID=t,e}}class h{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new h(t,null)}static fail(t){return new h(null,t)}static fromReplace(t,e,r,i){try{return h.ok(t.replace(e,r,i))}catch(t){if(t instanceof n.vI)return h.fail(t.message);throw t}}}function p(t,e,r){let i=[];for(let n=0;n<t.childCount;n++){let s=t.child(n);s.content.size&&(s=s.copy(p(s.content,e,s))),s.isInline&&(s=e(s,r,n)),i.push(s)}return n.FK.fromArray(i)}class c extends l{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new n.Ji(p(e.content,(t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t,i),e.openStart,e.openEnd);return h.fromReplace(t,this.from,this.to,s)}invert(){return new d(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new c(e.pos,r.pos,this.mark)}merge(t){return t instanceof c&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new c(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new c(e.from,e.to,t.markFromJSON(e.mark))}}l.jsonID("addMark",c);class d extends l{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new n.Ji(p(e.content,t=>t.mark(this.mark.removeFromSet(t.marks)),t),e.openStart,e.openEnd);return h.fromReplace(t,this.from,this.to,r)}invert(){return new c(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new d(e.pos,r.pos,this.mark)}merge(t){return t instanceof d&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new d(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new d(e.from,e.to,t.markFromJSON(e.mark))}}l.jsonID("removeMark",d);class u extends l{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return h.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return h.fromReplace(t,this.pos,this.pos+1,new n.Ji(n.FK.from(r),0,+!e.isLeaf))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(t))return new u(this.pos,e.marks[r]);return new u(this.pos,this.mark)}}return new f(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new u(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new u(e.pos,t.markFromJSON(e.mark))}}l.jsonID("addNodeMark",u);class f extends l{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return h.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return h.fromReplace(t,this.pos,this.pos+1,new n.Ji(n.FK.from(r),0,+!e.isLeaf))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new u(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new f(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new f(e.pos,t.markFromJSON(e.mark))}}l.jsonID("removeNodeMark",f);class m extends l{constructor(t,e,r,n=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=n}apply(t){return this.structure&&y(t,this.from,this.to)?h.fail("Structure replace would overwrite content"):h.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new s([this.from,this.to-this.from,this.slice.size])}invert(t){return new m(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new m(e.pos,Math.max(e.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof m)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart)if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;else{let e=this.slice.size+t.slice.size==0?n.Ji.empty:new n.Ji(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new m(t.from,this.to,e,this.structure)}{let e=this.slice.size+t.slice.size==0?n.Ji.empty:new n.Ji(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new m(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new m(e.from,e.to,n.Ji.fromJSON(t,e.slice),!!e.structure)}}l.jsonID("replace",m);class g extends l{constructor(t,e,r,n,i,s,o=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=n,this.slice=i,this.insert=s,this.structure=o}apply(t){if(this.structure&&(y(t,this.from,this.gapFrom)||y(t,this.gapTo,this.to)))return h.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return h.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?h.fromReplace(t,this.from,this.to,r):h.fail("Content does not fit in gap")}getMap(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new g(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),n=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||n<e.pos||i>r.pos?null:new g(e.pos,r.pos,n,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new g(e.from,e.to,e.gapFrom,e.gapTo,n.Ji.fromJSON(t,e.slice),e.insert,!!e.structure)}}function y(t,e,r){let n=t.resolve(e),i=r-e,s=n.depth;for(;i>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,i--;if(i>0){let t=n.node(s).maybeChild(n.indexAfter(s));for(;i>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function w(t,e,r,i=r.contentMatch,s=!0){let o=t.doc.nodeAt(e),a=[],l=e+1;for(let e=0;e<o.childCount;e++){let h=o.child(e),p=l+h.nodeSize,c=i.matchType(h.type);if(c){i=c;for(let e=0;e<h.marks.length;e++)r.allowsMarkType(h.marks[e].type)||t.step(new d(l,p,h.marks[e]));if(s&&h.isText&&"pre"!=r.whitespace){let t,e=/\r?\n|\r/g,i;for(;t=e.exec(h.text);)i||(i=new n.Ji(n.FK.from(r.schema.text(" ",r.allowedMarks(h.marks))),0,0)),a.push(new m(l+t.index,l+t.index+t[0].length,i))}}else a.push(new m(l,p,n.Ji.empty));l=p}if(!i.validEnd){let e=i.fillBefore(n.FK.empty,!0);t.replace(l,l,new n.Ji(e,0,0))}for(let e=a.length-1;e>=0;e--)t.step(a[e])}function k(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let n=t.$from.node(r),i=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&n.canReplace(i,s,e))return r;if(0==r||n.type.spec.isolating||!((0==i||n.canReplace(i,n.childCount))&&(s==n.childCount||n.canReplace(0,s))))break}return null}function S(t,e,r,n){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let i=t.mapping.slice(n).map(r+1+s+o.index);t.replaceWith(i,i+1,e.type.schema.linebreakReplacement.create())}}})}function v(t,e,r,n){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let i=t.mapping.slice(n).map(r+1+s);t.replaceWith(i,i+1,e.type.schema.text("\n"))}})}function b(t,e,r=1,n){let i=t.resolve(e),s=i.depth-r,o=n&&n[n.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let t=i.depth-1,e=r-2;t>s;t--,e--){let r=i.node(t),s=i.index(t);if(r.type.spec.isolating)return!1;let o=r.content.cutByIndex(s,r.childCount),a=n&&n[e+1];a&&(o=o.replaceChild(0,a.type.create(a.attrs)));let l=n&&n[e]||r;if(!r.canReplace(s+1,r.childCount)||!l.type.validContent(o))return!1}let a=i.indexAfter(s),l=n&&n[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function M(t,e){var r,n;let i=t.resolve(e),s=i.index();return r=i.nodeBefore,n=i.nodeAfter,!!(r&&n&&!r.isLeaf&&function(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==n?t.type.schema.nodes.text:s.type;if(!(r=r.matchType(o))||!t.type.allowsMarks(s.marks))return!1}return r.validEnd}(r,n))&&i.parent.canReplace(s,s+1)}function x(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let t=0;t<r.openStart;t++)i=i.firstChild.content;for(let t=1;t<=(0==r.openStart&&r.size?2:1);t++)for(let e=n.depth;e>=0;e--){let r=e==n.depth?0:n.pos<=(n.start(e+1)+n.end(e+1))/2?-1:1,s=n.index(e)+ +(r>0),o=n.node(e),a=!1;if(1==t)a=o.canReplace(s,s,i);else{let t=o.contentMatchAt(s).findWrapping(i.firstChild.type);a=t&&o.canReplaceWith(s,s,t[0])}if(a)return 0==r?n.pos:r<0?n.before(e+1):n.after(e+1)}return null}function J(t,e,r=e,i=n.Ji.empty){if(e==r&&!i.size)return null;let s=t.resolve(e),o=t.resolve(r);return R(s,o,i)?new m(e,r,i):new N(s,o,i).fit()}function R(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}l.jsonID("replaceAround",g);class N{constructor(t,e,r){this.$from=t,this.$to=e,this.unplaced=r,this.frontier=[],this.placed=n.FK.empty;for(let e=0;e<=t.depth;e++){let r=t.node(e);this.frontier.push({type:r.type,match:r.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;e>0;e--)this.placed=n.FK.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&1==s.childCount;)s=s.firstChild.content,o--,a--;let l=new n.Ji(s,o,a);return t>-1?new g(r.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||r.pos!=this.$to.pos?new m(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,r=0,n=this.unplaced.openEnd;r<t;r++){let i=e.firstChild;if(e.childCount>1&&(n=0),i.type.spec.isolating&&n<=r){t=r;break}e=i.content}for(let e=1;e<=2;e++)for(let r=1==e?t:this.unplaced.openStart;r>=0;r--){let t=null,i=(r?(t=O(this.unplaced.content,r-1).firstChild).content:this.unplaced.content).firstChild;for(let s=this.depth;s>=0;s--){let{type:o,match:a}=this.frontier[s],l,h=null;if(1==e&&(i?a.matchType(i.type)||(h=a.fillBefore(n.FK.from(i),!1)):t&&o.compatibleContent(t.type)))return{sliceDepth:r,frontierDepth:s,parent:t,inject:h};if(2==e&&i&&(l=a.findWrapping(i.type)))return{sliceDepth:r,frontierDepth:s,parent:t,wrap:l};if(t&&a.matchType(t.type))break}}}openMore(){let{content:t,openStart:e,openEnd:r}=this.unplaced,i=O(t,e);return!!i.childCount&&!i.firstChild.isLeaf&&(this.unplaced=new n.Ji(t,e+1,Math.max(r,i.size+e>=t.size-r?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:r}=this.unplaced,i=O(t,e);if(i.childCount<=1&&e>0){let s=t.size-e<=e+i.size;this.unplaced=new n.Ji(C(t,e-1,1),e-1,s?e-1:r)}else this.unplaced=new n.Ji(C(t,e,1),e,r)}placeNodes({sliceDepth:t,frontierDepth:e,parent:r,inject:i,wrap:s}){for(;this.depth>e;)this.closeFrontierNode();if(s)for(let t=0;t<s.length;t++)this.openFrontierNode(s[t]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,h=0,p=[],{match:c,type:d}=this.frontier[e];if(i){for(let t=0;t<i.childCount;t++)p.push(i.child(t));c=c.matchFragment(i)}let u=a.size+t-(o.content.size-o.openEnd);for(;h<a.childCount;){let t=a.child(h),e=c.matchType(t.type);if(!e)break;(++h>1||0==l||t.content.size)&&(c=e,p.push(function t(e,r,i){if(r<=0)return e;let s=e.content;return r>1&&(s=s.replaceChild(0,t(s.firstChild,r-1,1==s.childCount?i-1:0))),r>0&&(s=e.type.contentMatch.fillBefore(s).append(s),i<=0&&(s=s.append(e.type.contentMatch.matchFragment(s).fillBefore(n.FK.empty,!0)))),e.copy(s)}(t.mark(d.allowedMarks(t.marks)),1==h?l:0,h==a.childCount?u:-1)))}let f=h==a.childCount;f||(u=-1),this.placed=F(this.placed,e,n.FK.from(p)),this.frontier[e].match=c,f&&u<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let t=0,e=a;t<u;t++){let t=e.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),e=t.content}this.unplaced=f?0==t?n.Ji.empty:new n.Ji(C(o.content,t-1,1),t-1,u<0?o.openEnd:t-1):new n.Ji(C(o.content,t,h),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!T(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return -1;let{depth:r}=this.$to,n=this.$to.after(r);for(;r>1&&n==this.$to.end(--r);)++n;return n}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:r,type:n}=this.frontier[e],i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=T(t,e,n,r,i);if(s){for(let r=e-1;r>=0;r--){let{match:e,type:n}=this.frontier[r],i=T(t,r,n,e,!0);if(!i||i.childCount)continue t}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=F(this.placed,e.depth,e.fit)),t=e.move;for(let r=e.depth+1;r<=t.depth;r++){let e=t.node(r),n=e.type.contentMatch.fillBefore(e.content,!0,t.index(r));this.openFrontierNode(e.type,e.attrs,n)}return t}openFrontierNode(t,e=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=F(this.placed,this.depth,n.FK.from(t.create(e,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(n.FK.empty,!0);t.childCount&&(this.placed=F(this.placed,this.frontier.length,t))}}function C(t,e,r){return 0==e?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(C(t.firstChild.content,e-1,r)))}function F(t,e,r){return 0==e?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(F(t.lastChild.content,e-1,r)))}function O(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function T(t,e,r,n,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!r.compatibleContent(s.type))return null;let a=n.fillBefore(s.content,!0,o);return a&&!function(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}(r,s.content,o)?a:null}function E(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let n=t.start(i);if(n<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(n==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==n-1)&&r.push(i)}return r}class I extends l{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return h.fail("No node at attribute step's position");let r=Object.create(null);for(let t in e.attrs)r[t]=e.attrs[t];r[this.attr]=this.value;let i=e.type.create(r,null,e.marks);return h.fromReplace(t,this.pos,this.pos+1,new n.Ji(n.FK.from(i),0,+!e.isLeaf))}getMap(){return s.empty}invert(t){return new I(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new I(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new I(e.pos,e.attr,e.value)}}l.jsonID("attr",I);class z extends l{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let r=t.type.create(e,t.content,t.marks);return h.ok(r)}getMap(){return s.empty}invert(t){return new z(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw RangeError("Invalid input for DocAttrStep.fromJSON");return new z(e.attr,e.value)}}l.jsonID("docAttr",z);let A=class extends Error{};(A=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r}).prototype=Object.create(Error.prototype),A.prototype.constructor=A,A.prototype.name="TransformError";class ${constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new o}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new A(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,r=n.Ji.empty){let i=J(this.doc,t,e,r);return i&&this.step(i),this}replaceWith(t,e,r){return this.replace(t,e,new n.Ji(n.FK.from(r),0,0))}delete(t,e){return this.replace(t,e,n.Ji.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,r){return!function(t,e,r,i){if(!i.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),o=t.doc.resolve(r);if(R(s,o,i))return t.step(new m(e,r,i));let a=E(s,t.doc.resolve(r));0==a[a.length-1]&&a.pop();let l=-(s.depth+1);a.unshift(l);for(let t=s.depth,e=s.pos-1;t>0;t--,e--){let r=s.node(t).type.spec;if(r.defining||r.definingAsContext||r.isolating)break;a.indexOf(t)>-1?l=t:s.before(t)==e&&a.splice(1,0,-t)}let h=a.indexOf(l),p=[],c=i.openStart;for(let t=i.content,e=0;;e++){let r=t.firstChild;if(p.push(r),e==i.openStart)break;t=r.content}for(let t=c-1;t>=0;t--){var d;let e=p[t],r=(d=e.type).spec.defining||d.spec.definingForContent;if(r&&!e.sameMarkup(s.node(Math.abs(l)-1)))c=t;else if(r||!e.type.isTextblock)break}for(let e=i.openStart;e>=0;e--){let l=(e+c+1)%(i.openStart+1),d=p[l];if(d)for(let e=0;e<a.length;e++){let p=a[(e+h)%a.length],c=!0;p<0&&(c=!1,p=-p);let u=s.node(p-1),f=s.index(p-1);if(u.canReplaceWith(f,f,d.type,d.marks))return t.replace(s.before(p),c?o.after(p):r,new n.Ji(function t(e,r,i,s,o){if(r<i){let n=e.firstChild;e=e.replaceChild(0,n.copy(t(n.content,r+1,i,s,n)))}if(r>s){let t=o.contentMatchAt(0),r=t.fillBefore(e).append(e);e=r.append(t.matchFragment(r).fillBefore(n.FK.empty,!0))}return e}(i.content,0,i.openStart,l),l,i.openEnd))}}let u=t.steps.length;for(let n=a.length-1;n>=0&&(t.replace(e,r,i),!(t.steps.length>u));n--){let t=a[n];t<0||(e=s.before(t),r=o.after(t))}}(this,t,e,r),this}replaceRangeWith(t,e,r){var i=t,s=e;if(!r.isInline&&i==s&&this.doc.resolve(i).parent.content.size){let t=function(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(0==n.parentOffset)for(let t=n.depth-1;t>=0;t--){let e=n.index(t);if(n.node(t).canReplaceWith(e,e,r))return n.before(t+1);if(e>0)return null}if(n.parentOffset==n.parent.content.size)for(let t=n.depth-1;t>=0;t--){let e=n.indexAfter(t);if(n.node(t).canReplaceWith(e,e,r))return n.after(t+1);if(e<n.node(t).childCount)break}return null}(this.doc,i,r.type);null!=t&&(i=s=t)}return this.replaceRange(i,s,new n.Ji(n.FK.from(r),0,0)),this}deleteRange(t,e){return!function(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),s=E(n,i);for(let e=0;e<s.length;e++){let r=s[e],o=e==s.length-1;if(o&&0==r||n.node(r).type.contentMatch.validEnd)return t.delete(n.start(r),i.end(r));if(r>0&&(o||n.node(r-1).canReplace(n.index(r-1),i.indexAfter(r-1))))return t.delete(n.before(r),i.after(r))}for(let s=1;s<=n.depth&&s<=i.depth;s++)if(e-n.start(s)==n.depth-s&&r>n.end(s)&&i.end(s)-r!=i.depth-s&&n.start(s-1)==i.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),i.index(s-1)))return t.delete(n.before(s),r);t.delete(e,r)}(this,t,e),this}lift(t,e){return!function(t,e,r){let{$from:i,$to:s,depth:o}=e,a=i.before(o+1),l=s.after(o+1),h=a,p=l,c=n.FK.empty,d=0;for(let t=o,e=!1;t>r;t--)e||i.index(t)>0?(e=!0,c=n.FK.from(i.node(t).copy(c)),d++):h--;let u=n.FK.empty,f=0;for(let t=o,e=!1;t>r;t--)e||s.after(t+1)<s.end(t)?(e=!0,u=n.FK.from(s.node(t).copy(u)),f++):p++;t.step(new g(h,p,a,l,new n.Ji(c.append(u),d,f),c.size-d,!0))}(this,t,e),this}join(t,e=1){return!function(t,e,r){let i=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-r),a=o.node().type;if(s&&a.inlineContent){let t="pre"==a.whitespace,e=!!a.contentMatch.matchType(s);t&&!e?i=!1:!t&&e&&(i=!0)}let l=t.steps.length;if(!1===i){let n=t.doc.resolve(e+r);v(t,n.node(),n.before(),l)}a.inlineContent&&w(t,e+r-1,a,o.node().contentMatchAt(o.index()),null==i);let h=t.mapping.slice(l),p=h.map(e-r);if(t.step(new m(p,h.map(e+r,-1),n.Ji.empty,!0)),!0===i){let e=t.doc.resolve(p);S(t,e.node(),e.before(),t.steps.length)}}(this,t,e),this}wrap(t,e){return!function(t,e,r){let i=n.FK.empty;for(let t=r.length-1;t>=0;t--){if(i.size){let e=r[t].type.contentMatch.matchFragment(i);if(!e||!e.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=n.FK.from(r[t].type.create(r[t].attrs,i))}let s=e.start,o=e.end;t.step(new g(s,o,s,o,new n.Ji(i,0,0),r.length,!0))}(this,t,e),this}setBlockType(t,e=t,r,i=null){var s=this;if(!r.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let o=s.steps.length;return s.doc.nodesBetween(t,e,(t,e)=>{var a,l,h;let p,c,d="function"==typeof i?i(t):i;if(t.isTextblock&&!t.hasMarkup(r,d)&&(a=s.doc,l=s.mapping.slice(o).map(e),h=r,c=(p=a.resolve(l)).index(),p.parent.canReplaceWith(c,c+1,h))){let i=null;if(r.schema.linebreakReplacement){let t="pre"==r.whitespace,e=!!r.contentMatch.matchType(r.schema.linebreakReplacement);t&&!e?i=!1:!t&&e&&(i=!0)}!1===i&&v(s,t,e,o),w(s,s.mapping.slice(o).map(e,1),r,void 0,null===i);let a=s.mapping.slice(o),l=a.map(e,1),h=a.map(e+t.nodeSize,1);return s.step(new g(l,h,l+1,h-1,new n.Ji(n.FK.from(r.create(d,null,t.marks)),0,0),1,!0)),!0===i&&S(s,t,e,o),!1}}),this}setNodeMarkup(t,e,r=null,i){return!function(t,e,r,i,s){let o=t.doc.nodeAt(e);if(!o)throw RangeError("No node at given position");r||(r=o.type);let a=r.create(i,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!r.validContent(o.content))throw RangeError("Invalid content for node type "+r.name);t.step(new g(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new n.Ji(n.FK.from(a),0,0),1,!0))}(this,t,e,r,i),this}setNodeAttribute(t,e,r){return this.step(new I(t,e,r)),this}setDocAttribute(t,e){return this.step(new z(t,e)),this}addNodeMark(t,e){return this.step(new u(t,e)),this}removeNodeMark(t,e){let r=this.doc.nodeAt(t);if(!r)throw RangeError("No node at position "+t);if(e instanceof n.CU)e.isInSet(r.marks)&&this.step(new f(t,e));else{let n=r.marks,i,s=[];for(;i=e.isInSet(n);)s.push(new f(t,i)),n=i.removeFromSet(n);for(let t=s.length-1;t>=0;t--)this.step(s[t])}return this}split(t,e=1,r){return!function(t,e,r=1,i){let s=t.doc.resolve(e),o=n.FK.empty,a=n.FK.empty;for(let t=s.depth,e=s.depth-r,l=r-1;t>e;t--,l--){o=n.FK.from(s.node(t).copy(o));let e=i&&i[l];a=n.FK.from(e?e.type.create(e.attrs,a):s.node(t).copy(a))}t.step(new m(e,e,new n.Ji(o.append(a),r,r),!0))}(this,t,e,r),this}addMark(t,e,r){var n;let i,s,o,a;return n=this,o=[],a=[],n.doc.nodesBetween(t,e,(n,l,h)=>{if(!n.isInline)return;let p=n.marks;if(!r.isInSet(p)&&h.type.allowsMarkType(r.type)){let h=Math.max(l,t),u=Math.min(l+n.nodeSize,e),f=r.addToSet(p);for(let t=0;t<p.length;t++)p[t].isInSet(f)||(i&&i.to==h&&i.mark.eq(p[t])?i.to=u:o.push(i=new d(h,u,p[t])));s&&s.to==h?s.to=u:a.push(s=new c(h,u,r))}}),o.forEach(t=>n.step(t)),a.forEach(t=>n.step(t)),this}removeMark(t,e,r){var i;let s,o;return i=this,s=[],o=0,i.doc.nodesBetween(t,e,(i,a)=>{if(!i.isInline)return;o++;let l=null;if(r instanceof n.sX){let t=i.marks,e;for(;e=r.isInSet(t);)(l||(l=[])).push(e),t=e.removeFromSet(t)}else r?r.isInSet(i.marks)&&(l=[r]):l=i.marks;if(l&&l.length){let r=Math.min(a+i.nodeSize,e);for(let e=0;e<l.length;e++){let n=l[e],i;for(let t=0;t<s.length;t++){let e=s[t];e.step==o-1&&n.eq(s[t].style)&&(i=e)}i?(i.to=r,i.step=o):s.push({style:n,from:Math.max(a,t),to:r,step:o})}}}),s.forEach(t=>i.step(new d(t.from,t.to,t.style))),this}clearIncompatible(t,e,r){return w(this,t,e,r),this}}},44531:(t,e,r)=>{r.d(e,{A:()=>b});var n=r(71055),i=r(66776),s=r(68658),o=r(95034),a=function(t){var e=s.useRef(t);return(0,o.A)(function(){e.current=t}),e},l=function(t,e){if("function"==typeof t)return void t(e);t.current=e};let h=function(t,e){var r=(0,s.useRef)();return(0,s.useCallback)(function(n){t.current=n,r.current&&l(r.current,null),r.current=e,e&&l(e,n)},[e])};var p={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},c=function(t){Object.keys(p).forEach(function(e){t.style.setProperty(e,p[e],"important")})},d=null,u=function(t,e){var r=t.scrollHeight;return"border-box"===e.sizingStyle.boxSizing?r+e.borderSize:r-e.paddingSize},f=function(){},m=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],g=!!document.documentElement.currentStyle,y=function(t){var e=window.getComputedStyle(t);if(null===e)return null;var r=m.reduce(function(t,r){return t[r]=e[r],t},{}),n=r.boxSizing;if(""===n)return null;g&&"border-box"===n&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:s}};function w(t,e,r){var n=a(r);s.useLayoutEffect(function(){var r=function(t){return n.current(t)};if(t)return t.addEventListener(e,r),function(){return t.removeEventListener(e,r)}},[])}var k=function(t){w(window,"resize",t)},S=function(t){w(document.fonts,"loadingdone",t)},v=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],b=s.forwardRef(function(t,e){var r=t.cacheMeasurements,o=t.maxRows,a=t.minRows,l=t.onChange,p=void 0===l?f:l,m=t.onHeightChange,g=void 0===m?f:m,w=(0,i.A)(t,v),b=void 0!==w.value,M=s.useRef(null),x=h(M,e),J=s.useRef(0),R=s.useRef(),N=function(){var t=M.current,e=r&&R.current?R.current:y(t);if(e){R.current=e;var n,i,s,l,h,p,f,m,w,k,S,v=(n=t.value||t.placeholder||"x",void 0===(i=a)&&(i=1),void 0===(s=o)&&(s=1/0),d||((d=document.createElement("textarea")).setAttribute("tabindex","-1"),d.setAttribute("aria-hidden","true"),c(d)),null===d.parentNode&&document.body.appendChild(d),l=e.paddingSize,h=e.borderSize,f=(p=e.sizingStyle).boxSizing,Object.keys(p).forEach(function(t){d.style[t]=p[t]}),c(d),d.value=n,m=u(d,e),d.value=n,m=u(d,e),d.value="x",k=(w=d.scrollHeight-l)*i,"border-box"===f&&(k=k+l+h),m=Math.max(k,m),S=w*s,"border-box"===f&&(S=S+l+h),[m=Math.min(S,m),w]),b=v[0],x=v[1];J.current!==b&&(J.current=b,t.style.setProperty("height",b+"px","important"),g(b,{rowHeight:x}))}};return s.useLayoutEffect(N),k(N),S(N),s.createElement("textarea",(0,n.A)({},w,{onChange:function(t){b||N(),p(t)},ref:x}))})},49882:(t,e,r)=>{r.d(e,{$t:()=>M,LN:()=>o,U3:()=>p,hs:()=>N,i5:()=>f,k_:()=>x,nh:()=>d});var n=r(72191),i=r(6084);let s=Object.create(null);class o{constructor(t,e,r){this.$anchor=t,this.$head=e,this.ranges=r||[new a(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=n.Ji.empty){let r=e.content.lastChild,i=null;for(let t=0;t<e.openEnd;t++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:h}=o[a],p=t.mapping.slice(s);t.replaceRange(p.map(l.pos),p.map(h.pos),a?n.Ji.empty:e),0==a&&y(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let r=t.steps.length,n=this.ranges;for(let i=0;i<n.length;i++){let{$from:s,$to:o}=n[i],a=t.mapping.slice(r),l=a.map(s.pos),h=a.map(o.pos);i?t.deleteRange(l,h):(t.replaceRangeWith(l,h,e),y(t,r,e.isInline?-1:1))}}static findFrom(t,e,r=!1){let n=t.parent.inlineContent?new p(t):g(t.node(0),t.parent,t.pos,t.index(),e,r);if(n)return n;for(let n=t.depth-1;n>=0;n--){let i=e<0?g(t.node(0),t.node(n),t.before(n+1),t.index(n),e,r):g(t.node(0),t.node(n),t.after(n+1),t.index(n)+1,e,r);if(i)return i}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new f(t.node(0))}static atStart(t){return g(t,t,0,0,1)||new f(t)}static atEnd(t){return g(t,t,t.content.size,t.childCount,-1)||new f(t)}static fromJSON(t,e){if(!e||!e.type)throw RangeError("Invalid input for Selection.fromJSON");let r=s[e.type];if(!r)throw RangeError(`No selection type ${e.type} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in s)throw RangeError("Duplicate use of selection JSON ID "+t);return s[t]=e,e.prototype.jsonID=t,e}getBookmark(){return p.between(this.$anchor,this.$head).getBookmark()}}o.prototype.visible=!0;class a{constructor(t,e){this.$from=t,this.$to=e}}let l=!1;function h(t){l||t.parent.inlineContent||(l=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class p extends o{constructor(t,e=t){h(t),h(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let r=t.resolve(e.map(this.head));if(!r.parent.inlineContent)return o.near(r);let n=t.resolve(e.map(this.anchor));return new p(n.parent.inlineContent?n:r,r)}replace(t,e=n.Ji.empty){if(super.replace(t,e),e==n.Ji.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof p&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new c(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new p(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,r=e){let n=t.resolve(e);return new this(n,r==e?n:t.resolve(r))}static between(t,e,r){let n=t.pos-e.pos;if((!r||n)&&(r=n>=0?1:-1),!e.parent.inlineContent){let t=o.findFrom(e,r,!0)||o.findFrom(e,-r,!0);if(!t)return o.near(e,r);e=t.$head}return t.parent.inlineContent||(0==n?t=e:(t=(o.findFrom(t,-r,!0)||o.findFrom(t,r,!0)).$anchor).pos<e.pos!=n<0&&(t=e)),new p(t,e)}}o.jsonID("text",p);class c{constructor(t,e){this.anchor=t,this.head=e}map(t){return new c(t.map(this.anchor),t.map(this.head))}resolve(t){return p.between(t.resolve(this.anchor),t.resolve(this.head))}}class d extends o{constructor(t){let e=t.nodeAfter;super(t,t.node(0).resolve(t.pos+e.nodeSize)),this.node=e}map(t,e){let{deleted:r,pos:n}=e.mapResult(this.anchor),i=t.resolve(n);return r?o.near(i):new d(i)}content(){return new n.Ji(n.FK.from(this.node),0,0)}eq(t){return t instanceof d&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new u(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new d(t.resolve(e.anchor))}static create(t,e){return new d(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}d.prototype.visible=!1,o.jsonID("node",d);class u{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:r}=t.mapResult(this.anchor);return e?new c(r,r):new u(r)}resolve(t){let e=t.resolve(this.anchor),r=e.nodeAfter;return r&&d.isSelectable(r)?new d(e):o.near(e)}}class f extends o{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=n.Ji.empty){if(e==n.Ji.empty){t.delete(0,t.doc.content.size);let e=o.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new f(t)}map(t){return new f(t)}eq(t){return t instanceof f}getBookmark(){return m}}o.jsonID("all",f);let m={map(){return this},resolve:t=>new f(t)};function g(t,e,r,n,i,s=!1){if(e.inlineContent)return p.create(t,r);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let n=e.child(o);if(n.isAtom){if(!s&&d.isSelectable(n))return d.create(t,r-(i<0?n.nodeSize:0))}else{let e=g(t,n,r+i,i<0?n.childCount:0,i,s);if(e)return e}r+=n.nodeSize*i}return null}function y(t,e,r){let n,s=t.steps.length-1;if(s<e)return;let a=t.steps[s];(a instanceof i.Ln||a instanceof i.Wg)&&(t.mapping.maps[s].forEach((t,e,r,i)=>{null==n&&(n=i)}),t.setSelection(o.near(t.doc.resolve(n),r)))}class w extends i.dL{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(1|this.updated)&-3,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return n.CU.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let r=this.selection;return e&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||n.CU.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,r){let n=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(n.text(t),!0):this.deleteSelection();{if(null==r&&(r=e),r=null==r?e:r,!t)return this.deleteRange(e,r);let i=this.storedMarks;if(!i){let t=this.doc.resolve(e);i=r==e?t.marks():t.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(e,r,n.text(t,i)),this.selection.empty||this.setSelection(o.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function k(t,e){return e&&t?t.bind(e):t}class S{constructor(t,e,r){this.name=t,this.init=k(e.init,r),this.apply=k(e.apply,r)}}let v=[new S("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new S("selection",{init:(t,e)=>t.selection||o.atStart(e.doc),apply:t=>t.selection}),new S("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,r,n)=>n.selection.$cursor?t.storedMarks:null}),new S("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e})];class b{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=v.slice(),e&&e.forEach(t=>{if(this.pluginsByKey[t.key])throw RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new S(t.key,t.spec.state,t))})}}class M{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=e){let e=this.config.plugins[r];if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],r=this.applyInner(t),n=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let o=this.config.plugins[s];if(o.spec.appendTransaction){let a=n?n[s].n:0,l=n?n[s].state:this,h=a<e.length&&o.spec.appendTransaction.call(o,a?e.slice(a):e,l,r);if(h&&r.filterTransaction(h,s)){if(h.setMeta("appendedTransaction",t),!n){n=[];for(let t=0;t<this.config.plugins.length;t++)n.push(t<s?{state:r,n:e.length}:{state:this,n:0})}e.push(h),r=r.applyInner(h),i=!0}n&&(n[s]={state:r,n:e.length})}}if(!i)return{state:r,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let e=new M(this.config),r=this.config.fields;for(let n=0;n<r.length;n++){let i=r[n];e[i.name]=i.apply(t,this[i.name],this,e)}return e}get tr(){return new w(this)}static create(t){let e=new b(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new M(e);for(let n=0;n<e.fields.length;n++)r[e.fields[n].name]=e.fields[n].init(t,r);return r}reconfigure(t){let e=new b(this.schema,t.plugins),r=e.fields,n=new M(e);for(let e=0;e<r.length;e++){let i=r[e].name;n[i]=this.hasOwnProperty(i)?this[i]:r[e].init(t,n)}return n}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(t=>t.toJSON())),t&&"object"==typeof t)for(let r in t){if("doc"==r||"selection"==r)throw RangeError("The JSON fields `doc` and `selection` are reserved");let n=t[r],i=n.spec.state;i&&i.toJSON&&(e[r]=i.toJSON.call(n,this[n.key]))}return e}static fromJSON(t,e,r){if(!e)throw RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw RangeError("Required config field 'schema' missing");let i=new b(t.schema,t.plugins),s=new M(i);return i.fields.forEach(i=>{if("doc"==i.name)s.doc=n.bP.fromJSON(t.schema,e.doc);else if("selection"==i.name)s.selection=o.fromJSON(s.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(s.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let n in r){let o=r[n],a=o.spec.state;if(o.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,n)){s[i.name]=a.fromJSON.call(o,t,e[n],s);return}}s[i.name]=i.init(t,s)}}),s}}class x{constructor(t){this.spec=t,this.props={},t.props&&function t(e,r,n){for(let i in e){let s=e[i];s instanceof Function?s=s.bind(r):"handleDOMEvents"==i&&(s=t(s,r,{})),n[i]=s}return n}(t.props,this,this.props),this.key=t.key?t.key.key:R("plugin")}getState(t){return t[this.key]}}let J=Object.create(null);function R(t){return t in J?t+"$"+ ++J[t]:(J[t]=0,t+"$")}class N{constructor(t="key"){this.key=R(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},52973:(t,e,r)=>{r.d(e,{z:()=>h});var n=r(68658),i=r(11711),s=r(80904),o=r(81348),a=r(74113),l=r(10797);function h(t,e={}){let{isStatic:r}=(0,n.useContext)(a.Q),p=(0,n.useRef)(null),c=(0,s.d)((0,i.S)(t)?t.get():t);return(0,n.useMemo)(()=>c.attach((t,n)=>r?n(t):(p.current&&p.current.stop(),p.current=(0,l.i0)({keyframes:[c.get(),t],velocity:c.getVelocity(),type:"spring",...e,onUpdate:n}),c.get())),[JSON.stringify(e)]),(0,o.T)(t,t=>c.set(parseFloat(t))),c}},80904:(t,e,r)=>{r.d(e,{d:()=>a});var n=r(68658),i=r(99594),s=r(74113),o=r(90186);function a(t){let e=(0,o.M)(()=>(0,i.O)(t)),{isStatic:r}=(0,n.useContext)(s.Q);if(r){let[,r]=(0,n.useState)(t);(0,n.useEffect)(()=>e.on("change",r),[])}return e}},81348:(t,e,r)=>{r.d(e,{T:()=>s,W:()=>o});var n=r(11711),i=r(28727);function s(t,e){(0,i.E)(()=>{if((0,n.S)(t))return e(t.get()),t.on("change",e)},[t,e])}function o(t,e,r){(0,i.E)(()=>{let n=t.map(t=>t.on("change",e));return()=>{n.forEach(t=>t()),r()}})}}}]);