!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c978ba55-a287-4318-8923-f8c3e66c6c42",e._sentryDebugIdIdentifier="sentry-dbid-c978ba55-a287-4318-8923-f8c3e66c6c42")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8936],{3004:(e,t,n)=>{n.d(t,{A:()=>r});let r={src:"/_next/static/media/confetti6.aef4e0a7.svg",height:17,width:17,blurWidth:0,blurHeight:0}},3067:(e,t,n)=>{n.d(t,{I:()=>u,W:()=>f});var r=n(94458),i=n(68658),o=n(27481),l=n(50866),a=n(9713),s=n(71928),d=n(74406),c=n(89441).Buffer;function f(e){let t=(0,i.useRef)(null);return[(0,r.jsx)(h,{...e,clickRef:t},"1"),()=>!!t.current&&(t.current(),!0)]}async function u(e,t,n,r,i){let d;if((0,a.oP)(e)){let t=await (0,a.eY)(e),n=t.find(e=>"naidata"===e.keyword)?.text??"";d=c.from(n,"base64").toString("utf8")}else{let t,n=(0,l.analyse)(new Uint8Array(e.slice(0,4096))),r="utf-8";n.length>0&&n[0].confidence>=90?r=n[0].name:n.length>0&&n[0].confidence>=25&&!n.some(e=>"utf-8"===e.name.toLowerCase())&&(r=n[0].name);try{t=new TextDecoder(r)}catch(e){(0,s.FF)(e,!1,"Unsupported encoding"),t=new TextDecoder}d=t.decode(e)}let f=t.endsWith(".txt")||t.endsWith(".text")?a.on.plainText:(0,a.nq)(d);return!i.allowedFileTypes||i.allowedFileTypes.includes(f)?await i.onFileImport({buff:e,name:t,size:n,text:d,type:f},r)??!0:(i.onRejectedFile?i.onRejectedFile(f):n<=2||d&&d.length<=2?(0,o.oR)("Unsupported file type. Is this file empty?",{type:"info"}):(0,o.oR)("Unsupported file type.",{type:"info"}),!1)}function h(e){let t=(0,i.useRef)(null);(0,i.useEffect)(()=>{e.clickRef.current=()=>!!t.current&&(t.current.click(),!0)});let n=async n=>{let r=[...n.target.files];if(!r)return;let i=!1;for(let[n,l]of r.entries()){try{await Promise.allSettled([l.arrayBuffer()]).then(async o=>{if("fulfilled"!==o[0].status)return;let a=l.name||(t.current?.value??"unknown");i=await u(c.from(o[0].value),a,l.size,n===r.length-1,e)})}catch(e){(0,s.vV)(e,!1,"Something went wrong while importing a file:"),(0,o.oR)("Something went wrong while importing a file: "+(e.message??e),{type:"error"})}if(i||!e.multifile)break}e.onAllFilesHandled&&e.onAllFilesHandled(),t.current&&(t.current.value="")},l=(0,i.useMemo)(()=>e.allowedFileTypes?(0,a._s)(e.allowedFileTypes):a.HS,[e.allowedFileTypes]);return(0,r.jsx)(r.Fragment,{children:d._r?(0,r.jsx)("input",{"aria-hidden":!0,type:"file",id:"file",ref:t,onChange:n,style:{display:"none"}}):(0,r.jsx)("input",{"aria-hidden":!0,type:"file",id:"file",accept:l,multiple:!0,ref:t,onChange:n,style:{display:"none"}})})}},32761:(e,t,n)=>{n.d(t,{R:()=>o,t:()=>i});var r=n(27481);let i=n(55805).Ay.div.withConfig({componentId:"sc-d9ac7852-0"})(["position:fixed;right:0;top:0;width:100%;z-index:1000;white-space:pre-wrap;.Toastify__toast-container{position:absolute;}.Toastify__toast{border-radius:2px;}.Toastify__close-button{color:",";}.Toastify__progress-bar{height:2px;}--toastify-toast-width:350px;--toastify-color-light:",";--toastify-color-progress-light:",";--toastify-color-progress-error:",";--toastify-color-progress-warning:",";--toastify-color-progress-success:",";--toastify-color-progress-info:",";--toastify-text-color-light:",";--toastify-font-family:",";--toastify-icon-color-error:",";--toastify-icon-color-warning:",";--toastify-icon-color-success:",";--toastify-icon-color-info:",";.Toastify__toast{padding-left:38px;}.Toastify__toast--error,.Toastify__toast--warning,.Toastify__toast--success,.Toastify__toast--info{padding-left:8px;}"],e=>e.theme.colors.textMain,e=>e.theme.colors.bg3,e=>e.theme.colors.textHeadings,e=>e.theme.colors.warning,e=>e.theme.colors.warning,e=>e.theme.colors.textMain,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textMain,e=>e.theme.fonts.default,e=>e.theme.colors.warning,e=>e.theme.colors.warning,e=>e.theme.colors.textMain,e=>e.theme.colors.textMain),o=(0,r.nk)({enter:"fade-in-right",exit:"fade-out-right"})},44490:(e,t,n)=>{n.d(t,{A:()=>r});let r={src:"/_next/static/media/confetti4.5caff479.svg",height:13,width:17,blurWidth:0,blurHeight:0}},78077:(e,t,n)=>{n.d(t,{A:()=>r});let r={src:"/_next/static/media/confetti3.2df9f019.svg",height:16,width:18,blurWidth:0,blurHeight:0}},84659:(e,t,n)=>{n.d(t,{Ay:()=>_,HF:()=>v,NB:()=>b,eg:()=>x,fL:()=>F});var r=n(94458),i=n(68658),o=n(98617),l=n(77256),a=n(55805),s=n(27481),d=n(97223),c=n(89077),f=n(71928),u=n(92704),h=n(94063),g=n(3067),y=n(47644),p=n(13795),m=n(2834),w=n(89441).Buffer;let v=a.Ay.div.withConfig({componentId:"sc-9b5cb238-0"})(["position:",";width:100%;height:100%;left:0;top:0;visibility:",";background-color:",";transition:background-color 0.08s linear;z-index:12000;display:flex;justify-content:center;align-items:center;"],e=>e.fixed?"fixed":"absolute",e=>e.visible?"visible":"hidden",e=>e.visible?(0,y.No)(.5,e.theme.colors.bg0):"rgba(0, 0, 0, 0);"),x=a.Ay.div.withConfig({componentId:"sc-9b5cb238-1"})(["background:",";border-radius:10px;padding:20px;opacity:",";transition:opacity 0.06s linear;"],e=>(0,y.No)(.4,e.theme.colors.bg0),e=>+!!e.visible);var b=function(e){return e[e.None=0]="None",e[e.Fixed=1]="Fixed",e[e.Absolute=2]="Absolute",e}({}),F=function(e){return e[e.None=0]="None",e[e.Default=1]="Default",e[e.Direct=2]="Direct",e}({});function _(e){let t=async(t,n)=>await e.onImportFile(t,n),[n,l]=(0,g.W)({onFileImport:t,onAllFilesHandled:e.onAllFilesHandled,onRejectedFile:e.onRejectedFile,multifile:!0,allowedFileTypes:e.allowedFileTypes});return e.buttonClickRef&&(e.buttonClickRef.current=l),(0,r.jsxs)(h._d,{children:[0===e.button?e.children?(0,r.jsx)(c.Dp,{style:{width:"100%"},onClick:()=>{l()},children:e.children}):null:2===e.button?e.children:(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(c.uW,{onClick:()=>{l()},children:[(0,r.jsx)(u.z52,{}),"Import File"]}),(0,r.jsx)("div",{children:"You can also drag a file or paste copied text into the output box to import"})]}),n,0===e.overlay?(0,r.jsx)(r.Fragment,{}):1===e.overlay&&"undefined"!=typeof document?(0,o.createPortal)((0,r.jsx)(R,{fixed:!0,overlayParentRef:e.overlayParentRef,handleImport:t}),document.body):(0,r.jsx)(R,{ignoreModals:!0,overlayParentRef:e.overlayParentRef,allowedFileTypes:e.allowedFileTypes,handleImport:t,onRejectedFile:e.onRejectedFile,onAllFilesHandled:e.onAllFilesHandled})]})}function R(e){let t=(0,m.md)(d.LI),n=(0,m.md)(d.A6),o=(0,m.md)(d.x1),a=(0,m.Xr)(d.P8),c=(0,i.useRef)(null),[u,h]=(0,i.useState)(!1),y=(0,i.useRef)(null);(0,i.useEffect)(()=>{let r=r=>{(e.ignoreModals||!t)&&!n&&r.dataTransfer?.types.includes("Files")&&(y.current=r.target,h(!0))},i=e=>{(e.target===y.current||e.target===document)&&h(!1)};return e.overlayParentRef?(e.overlayParentRef.current?.addEventListener("dragenter",r),e.overlayParentRef.current?.addEventListener("dragleave",i)):(document.addEventListener("dragenter",r),document.addEventListener("dragleave",i)),()=>{e.overlayParentRef?(e.overlayParentRef.current?.removeEventListener("dragenter",r),e.overlayParentRef.current?.removeEventListener("dragleave",i)):(document.removeEventListener("dragenter",r),document.removeEventListener("dragleave",i))}},[n,t,e.ignoreModals,e.overlayParentRef]);let b=async t=>{let n=t.dataTransfer.files;if(h(!1),0===n.length)return;t.preventDefault(),t.stopPropagation(),a(!1);let r=[],i=[];for(let e of n)i.push(e.name),r.push(e.arrayBuffer());await Promise.allSettled(r).then(async t=>{let r=!1;for(let[o,l]of t.entries()){if("fulfilled"!==l.status)continue;let a=i[o];try{r=await (0,g.I)(w.from(l.value),a,n[o].size,o===t.length-1,{onFileImport:e.handleImport,allowedFileTypes:e.allowedFileTypes,onRejectedFile:e.onRejectedFile})}catch(e){(0,f.vV)(e,!1,"Something went wrong while importing a file:"),(0,s.oR)("Something went wrong while importing a file: "+(e.message??e),{type:"error"})}if(r)break}e.onAllFilesHandled&&e.onAllFilesHandled()})};return(0,r.jsx)(v,{visible:u,fixed:e.fixed,ref:c,onDrop:b,onDragOver:e=>{e.stopPropagation(),e.preventDefault()},onClick:e=>{h(!1),e.preventDefault()},children:(0,r.jsx)(x,{visible:u,children:(0,r.jsx)(l.t76,{style:{width:"50px",height:"50px",color:o?.colors?.textMain??p.SS.colors.textMain}})})})}},85703:(e,t,n)=>{n.d(t,{e:()=>y});var r=n(68658),i=n(48370),o=n(53875),l=n(84601),a=n(79630),s=n(71928),d=n(17391),c=n(97223),f=n(17309),u=n(2834),h=n(73060),g=n(88587);function y(e,t,n){let y=!(arguments.length>3)||void 0===arguments[3]||arguments[3],p=!(arguments.length>4)||void 0===arguments[4]||arguments[4],m=(0,d.w)(y),w=(0,u.md)((0,c.ey)("authenticated")),v=(0,u.md)((0,c.ey)("setupComplete")),x=(0,r.useRef)(!1),b=async(n,r)=>{try{let e=(0,f.Lg)("forceProdBackendUse");"true"===e&&(g.e2.forceProd=!0)}catch(e){(0,s.vV)(e,!1)}try{let t=await (0,i.zH)("",r,n).login(),s=new o.KJ(n,r);if(s.subscription=t.subscription??new o.Bx,s.settings=t.settings??new l.tl,s.authenticated=t.session.authenticated,s.priority=t.priority??new o.Wl,s.information=t.information??new o._C,s.hasKeystore=t.session.hasKeystore,s.keystoreReady=t.session.keystoreReady,a.C.keystore=t.session.keystore,"sso"!==s.information.loginMethod&&!s.keystoreReady)throw Error("Keystore not ready after login");await m(s,!1),e&&e()}catch(e){(0,s.vV)(e,!1),p&&_(),t&&t(e)}},F=(0,h.yF)((0,r.useCallback)(async e=>{let t=JSON.parse(JSON.stringify(e(c.Nn)));await m(t)},[m])),_=async()=>{let t=new o.KJ("","",!0);t.subscription=new o.Bx;let n=(0,f.Lg)("noAccountSettings");t.settings=new l.tl;try{t.settings={...t.settings,...n?JSON.parse(n):{}}}catch(e){(0,s.vV)(e)}t.settings.remoteDefault=!1,t.authenticated=!0,t.priority=new o.Wl,await m(t),e&&e()},R=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(R.current)return;if(R.current=!0,w&&!v&&y){F().then(()=>{e&&e()}),x.current=!0;return}if(w){e&&e(),x.current=!0;return}let r=(0,f.Lg)("session");if(!r){if(n&&!x.current){_(),x.current=!0;return}t&&t("no session"),x.current=!0;return}let i=JSON.parse(r);if(!i||!i.auth_token){t&&t("invalid session"),x.current=!0;return}b(i.auth_token,i.encryption_key),x.current=!0},[w])}},86463:(e,t,n)=>{n.d(t,{A:()=>r});let r={src:"/_next/static/media/confetti5.d95377d6.svg",height:11,width:27,blurWidth:0,blurHeight:0}},91729:(e,t,n)=>{n.d(t,{A:()=>r});let r={src:"/_next/static/media/confetti7.ce4ee980.svg",height:20,width:18,blurWidth:0,blurHeight:0}},97080:(e,t,n)=>{n.d(t,{A:()=>r});let r={src:"/_next/static/media/confetti2.10552cd5.svg",height:18,width:14,blurWidth:0,blurHeight:0}},99755:(e,t,n)=>{n.d(t,{A:()=>r});let r={src:"/_next/static/media/confetti1.662de696.svg",height:19,width:21,blurWidth:0,blurHeight:0}}}]);