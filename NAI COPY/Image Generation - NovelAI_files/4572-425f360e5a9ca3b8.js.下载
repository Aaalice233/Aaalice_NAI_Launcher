!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="edf82eaa-66d9-467e-afed-b69477b4f893",e._sentryDebugIdIdentifier="sentry-dbid-edf82eaa-66d9-467e-afed-b69477b4f893")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4572],{6152:(e,t,i)=>{"use strict";i.d(t,{A:()=>l,h:()=>h});var n=i(94458),o=i(68658),r=i(94286),a=i(82708),s=i(55805),c=i(89077),d=i(47644);function l(e){let t=(0,o.useRef)(e.choices.map(()=>!1)),[i,s]=(0,o.useState)(0);return(0,n.jsxs)("div",{children:[(0,n.jsx)(r.u,{notShown:!0,children:e.choices.map((o,r)=>(0,n.jsxs)("label",{children:[e.names[r],(0,n.jsx)("input",{defaultChecked:e.selected===o,type:"radio",name:e.name,value:o,disabled:e.disabled,onClick:()=>{e.onChoiceSelected(o)},onFocus:()=>{Array.from({length:e.choices.length}).fill(!1)[r]=!0,t.current[r]=!0,s(i+1)},onBlur:()=>{t.current[r]=!1,s(i+1)}})]},r))}),(0,n.jsx)("div",{children:e.choices.map((i,o)=>(0,n.jsx)(a.FE,{selected:e.selected===i,onClick:()=>{e.disabled||e.onChoiceSelected(i)},disabled:e.disabled,focused:t.current[o],children:e.names[o]},o))})]})}function h(e){let t=(0,o.useRef)(e.choices.map(()=>!1)),[i,a]=(0,o.useState)(0);return(0,n.jsxs)("div",{children:[(0,n.jsx)(r.u,{notShown:!0,children:e.choices.map((o,r)=>(0,n.jsxs)("label",{children:[e.names[r],(0,n.jsx)("input",{defaultChecked:e.selected===o,type:"radio",name:e.name,value:o,disabled:e.disabled,onClick:()=>{e.onChoiceSelected(o)},onFocus:()=>{Array.from({length:e.choices.length}).fill(!1)[r]=!0,t.current[r]=!0,a(i+1)},onBlur:()=>{t.current[r]=!1,a(i+1)}})]},r))}),(0,n.jsx)(p,{children:e.choices.map((t,i)=>(0,n.jsx)(u,{selected:e.selected===t,onClick:()=>{e.disabled||e.onChoiceSelected(t)},disabled:e.disabled,children:e.names[i]},i))})]})}let g=(0,s.AH)(["position:relative;&:hover{&:after{content:'';background-color:",";position:absolute;height:100%;width:100%;top:0;left:0;font-size:20px;border-radius:4px;}}"],e=>(0,d.No)(.9,e.theme.colors.textMain)),u=(0,s.Ay)(c.Dp).withConfig({componentId:"sc-8a62db1d-0"})(["display:flex;align-items:center;justify-content:center;gap:4px;padding:7px 16px;border-radius:4px;"," ",""],e=>e.selected?(0,s.AH)(["background-color:",";"],e.theme.colors.bg3):(0,s.AH)(["opacity:0.6;"]),g),p=s.Ay.div.withConfig({componentId:"sc-8a62db1d-1"})(["display:flex;gap:4px;background-color:",";border:1px solid ",";padding:4px;border-radius:8px;"],e=>e.theme.colors.bg0,e=>e.theme.colors.bg3)},8255:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>F,CP:()=>R,J1:()=>B,R6:()=>G,SW:()=>_,t:()=>A});var n=i(37856),o=i(27868),r=i(73060),a=i(8925),s=i(48370),c=i(68658),d=i(85536),l=i(69777),h=i(27481),g=i(73484),u=i(97223),p=i(39612),m=i(21715),x=i(71928),f=i(9713),b=i(92356),y=i(89441).Buffer;class w{}(0,l.PL)(w,{mask:(0,l.lq)((0,l.MY)()),information_extracted:(0,l.MY)()});var v=function(e){return e.v4full="v4full",e.v4curated="v4curated",e.v4_5full="v4-5full",e.v4_5curated="v4-5curated",e.custom="custom",e}(v||{});function j(e){switch(e){case s.oM.naiDiffusionV4CuratedPreview:return"v4curated";case s.oM.naiDiffusionV4Full:return"v4full";case s.oM.naiDiffusionv4_5Curated:return"v4-5curated";case s.oM.naiDiffusionV4_5Full:return"v4-5full";case s.oM.custom:return"custom"}throw Error(`Model ${e} does not have a corresponding encoding key`)}var A=function(e){return e.image="image",e.encoding="encoding",e}({});class S{}(0,l.PL)(S,{encoding:(0,l.MY)(),params:(0,l.lq)((0,l.Ik)(w))});class I{}(0,l.PL)(I,{identifier:(0,l.MY)(),version:(0,l.MY)(),type:(0,l.MY)(),image:(0,l.lq)((0,l.MY)()),id:(0,l.MY)(),encodings:(0,l.Tj)((0,l.Tj)((0,l.Ik)(S))),name:(0,l.lq)((0,l.MY)()),thumbnail:(0,l.lq)((0,l.MY)()),createdAt:(0,l.p6)()});class k{}(0,l.PL)(k,{model:(0,l.MY)(),information_extracted:(0,l.MY)(),strength:(0,l.MY)(),mask:(0,l.lq)((0,l.MY)())});class C extends I{}(0,l.PL)(C,{identifier:(0,l.MY)(),version:(0,l.MY)(),type:(0,l.MY)(),image:(0,l.lq)((0,l.MY)()),id:(0,l.MY)(),encodings:(0,l.Tj)((0,l.Tj)((0,l.Ik)(S))),name:(0,l.lq)((0,l.MY)()),thumbnail:(0,l.lq)((0,l.MY)()),createdAt:(0,l.p6)(),importInfo:(0,l.Ik)(k)});class T{}(0,l.PL)(T,{identifier:(0,l.MY)(),version:(0,l.MY)(),vibes:(0,l.p_)((0,l.Ik)(C))});class N{constructor(){this.db=null,this.cache=new Map,(0,a.A)().then(()=>{(0,n.P2)("vibetransfer",1,{upgrade(e){e.createObjectStore("vibecache",{keyPath:"id"})}}).then(e=>{this.db=e})}),setInterval(()=>{this.cache.clear()},18e4)}async get(e){if(!this.db)return null;let t=this.cache.get(e);return t||this.db.get("vibecache",e).then(t=>{if(t){let i=(0,l.iu)(I,t);return this.cache.set(e,i),i}return null})}async set(e,t){this.db&&(null===t?await this.db.delete("vibecache",e):(await this.db.put("vibecache",(0,l.lK)(I,t)),this.cache.set(e,t)))}async delete(e){this.db&&(await this.db.delete("vibecache",e),this.cache.delete(e))}}let M=new N;function B(){return M}async function E(e){let t=Object.entries(e).sort((e,t)=>e[0].localeCompare(t[0],"en")).filter(e=>{let[t,i]=e;return null!=i}).map(e=>{let[t,i]=e;return"object"==typeof i?`${t}:${JSON.stringify(i)}`:`${t}:${i}`}).join(",");return(0,d.Y)(t)}async function L(e){return(0,d.Y)(`${e}`)}(0,o.Iz)(e=>(0,o.tG)(`${e}`,null,{getItem:async e=>M.get(e),setItem:async(e,t)=>{M.set(e,t)},removeItem:async e=>{M.delete(e)},subscribe:void 0}));let _={vibeTransferStore:M,registeredCallbacks:[],async get(e){return this.vibeTransferStore.get(e)},async set(e,t){this.vibeTransferStore.set(e,t)},async getEncoding(e,t,i){t=(0,p.Fo)(t);let n=await M.get(e);if(!n)return null;let o=j(t),r="image"===n.type?await E(i):"unknown",a=n.encodings[o]?.[r];return a?a.encoding:null},async setEncoding(e,t,i,n){t=(0,p.Fo)(t);let o=await M.get(e);if(!o)return;let r=j(t),a=i?await E(i):"unknown";for(let t of(o.encodings[r]||(o.encodings[r]={}),o.encodings[r][a]={encoding:n,params:i},await M.set(e,o),this.registeredCallbacks))t()},async add(e,t){let i=await L(e),n=await M.get(i),o=!1;if(n?.encodings&&t){for(let e of Object.keys(n.encodings))if(j(t)!==e){o=!0;break}}if(n&&!o)return n.id;let r={identifier:"novelai-vibe-transfer",version:1,type:t?"encoding":"image",image:t?void 0:e,id:i,encodings:{},name:`${i.slice(0,6)}-${i.slice(-6)}`,thumbnail:void 0,createdAt:new Date};if(t){let i=j(t);r.encodings[i]={unknown:{encoding:e,params:void 0}}}return"image"===r.type&&e&&(r.thumbnail=await (0,b.p)(e,256)),await M.set(i,r),i},delete:async e=>M.delete(e),async exists(e,t,i){t=(0,p.Fo)(t);let n=await M.get(e);if(!n)return!1;let o=j(t),r="image"===n.type?await E(i):"unknown";return!!n.encodings[o]?.[r]},async considerDelete(e){let t=await M.get(e);t&&0===Object.keys(t.encodings).length&&await M.delete(e)},async getPrice(e,t,i,n){i=(0,p.Fo)(i);let o=await M.get(e);if(!o)return{exists:!1,price:0};if("encoding"===o.type)return{exists:!0,price:0};if("image"===o.type)return await this.getEncoding(e,i,n)?{exists:!0,price:0}:{exists:!1,price:2};return{exists:!1,price:-999}},registerEncodingSetCallback(e){-1===this.registeredCallbacks.indexOf(e)&&this.registeredCallbacks.push(e)},unregisterEncodingSetCallback(e){let t=this.registeredCallbacks.indexOf(e);-1!==t&&this.registeredCallbacks.splice(t,1)},async makeImageTypeIntoEncoding(e,t){if("image"!==e.type)return null;e=(0,l.iu)(I,(0,l.lK)(I,e));let i=await E({information_extracted:t.information_extracted,mask:t.mask}),n=e.encodings[j(t.model)]?.[i];if(!n)return null;let o=await (0,d.Y)(n.encoding);return{...e,id:o,type:"encoding",image:void 0,thumbnail:void 0,encodings:{[j(t.model)]:{unknown:n}}}},async export(e,t,i){return this.vibeTransferStore.get(e).then(async e=>{if(!e)return null;let n={...e,importInfo:t};if(i&&"image"===e.type){let i=await this.makeImageTypeIntoEncoding(e,t);if(!i)return null;n={...i,importInfo:t}}return JSON.stringify((0,l.lK)(C,n),void 0,2)})},async exportBundle(e,t,i){let n=[];for(let[o,r]of e.entries()){let e=await this.vibeTransferStore.get(r);if(!e)return null;let a={...e,importInfo:t[o]};if(i&&"image"===e.type){let i=await this.makeImageTypeIntoEncoding(e,t[o]);if(!i)return null;a={...i,importInfo:t[o]}}n.push(a)}return JSON.stringify((0,l.lK)(T,{identifier:"novelai-vibe-transfer-bundle",version:1,vibes:n}),void 0,2)},async import(e){let t=(0,l.iu)(C,JSON.parse(e));if(!/^[\da-f]{64}$/.test(t.id))return null;if("image"===t.type&&await L(t.image??"")!==t.id)return(0,h.oR)("Import failed: Image hash doesn't match id",{type:"error"}),null;if("encoding"===t.type){let e=Object.values(t.encodings).flatMap(e=>Object.values(e))[0];if(!e)return(0,h.oR)("Import failed: Encoding not found",{type:"error"}),null;if(await (0,d.Y)(e.encoding)!==t.id)return(0,h.oR)("Import failed: Encoding hash doesn't match id",{type:"error"}),null}if(t.thumbnail&&!/^data:image\/[^;]+;base64,/.test(t.thumbnail))return(0,h.oR)("Import failed: Thumbnail is not a base64 string",{type:"error"}),null;if(t){let e=await this.vibeTransferStore.get(t.id);if(e)for(let i of Object.keys(e.encodings))if(t.encodings[i])for(let n of Object.keys(e.encodings[i]))t.encodings[i][n]||(t.encodings[i][n]=e.encodings[i][n]);else t.encodings[i]=e.encodings[i];return await this.vibeTransferStore.set(t.id,t),{id:t.id,importInfo:t.importInfo}}return null},async importBundle(e){let t=(0,l.iu)(T,JSON.parse(e));return(await Promise.all(t.vibes.map(async e=>await this.import(JSON.stringify(e))))).filter(e=>null!==e)},async setProperties(e,t){let i=await this.vibeTransferStore.get(e);i&&(Object.assign(i,t),await this.vibeTransferStore.set(e,i))},vibeWorksForModel(e,t){if("image"===e.type)return!0;let i=j(t);return!!e.encodings[i]}};function F(){let e=(0,g.B2)(),t=(0,r.yF)((0,c.useCallback)(async(t,i,n)=>{let{id:o,image:r,model:a,params:c}=n,d=t(u.Nn);if((0,s.PE)(a).encodedVibes)return(0,s._L)(d,r,c.information_extracted,a===s.oM.custom?s.oM.naiDiffusionV4_5Full:a,c.mask).request().then(async e=>(_.setEncoding(o,a,c,e),e)).catch(e=>{let t=`[${e.correlationId}] Error encoding vibe transfer image: `+(e.message??e);(0,h.oR)(t,{type:"error",toastId:"error-generating-image-2"}),h.oR.update("error-generating-image-2",{render:t,type:"error"})});(0,h.oR)(e.image.vibeTransferEncodeNotSupported,{type:"error"})},[e.image.vibeTransferEncodeNotSupported]));return(0,c.useMemo)(()=>({get:e=>_.get(e),set:(e,t)=>_.set(e,t),getEncoding:(e,t,i)=>_.getEncoding(e,t,i),setEncoding:(e,t,i,n)=>_.setEncoding(e,t,i,n),add:(e,t)=>_.add(e,t),delete:e=>_.delete(e),exists:(e,t,i)=>_.exists(e,t,i),considerDelete:e=>_.considerDelete(e),getPrice:(e,t,i,n)=>_.getPrice(e,t,i,n),export:(e,t,i)=>_.export(e,t,i),import:e=>_.import(e),exportBundle:(e,t,i)=>_.exportBundle(e,t,i),importBundle:e=>_.importBundle(e),setProperties:(e,t)=>_.setProperties(e,t),encodeVibeImage:e=>{let{id:i,image:n,model:o,params:r}=e;return t({id:i,image:n,model:o,params:r})}}),[t])}function G(){let e=(0,g.B2)(),t=F(),i=(0,r.yF)((0,c.useCallback)(async(i,n,o)=>{let r=i(p.j3);t.import(o).then(t=>{if(!t)return void(0,h.oR)(e.image.vibeImportFailed,{type:"error"});let{id:i,importInfo:o}=t;if(i){let t=o?.model??r;o?.model&&n(p.j3,o.model);let a=(0,p.hg)(t);n((0,p.Gc)(t),e=>[...e,{id:i,information_extracted:o?.information_extracted??a.information_extracted,strength:o?.strength??a.strength,mask:o?.mask,enabled:!0}]),(0,h.oR)(e.image.vibeImported)}})},[e.image.vibeImportFailed,e.image.vibeImported,t])),n=(0,r.yF)((0,c.useCallback)(async(i,n,o)=>{let r=i(p.j3),a=await t.importBundle(o);if(!a)return void(0,h.oR)(e.image.vibeImportFailed,{type:"error"});let s=[],c=null;for(let e of a){let{id:t,importInfo:i}=e;if(t){null===c&&(c=i?.model??r),i?.model&&n(p.j3,i.model);let e=(0,p.hg)(c);s.push({id:t,information_extracted:i?.information_extracted??e.information_extracted,strength:i?.strength??e.strength,mask:i?.mask,enabled:!0})}}if(!c)return void(0,h.oR)(e.image.vibeImportFailed,{type:"error"});n((0,p.Gc)(c),e=>[...e,...s]),(0,h.oR)((0,m.LP)(e.image.vibeImportedX,s.length))},[e.image.vibeImportFailed,e.image.vibeImportedX,t])),o=(0,r.yF)((0,c.useCallback)(async(i,n,o)=>{let r=i(p.j3),a=[],c=r,d=[...o].filter(e=>e.type.startsWith("image/")),l=[...o].filter(e=>!e.type.startsWith("image/")),g=await Promise.all(l.map(async e=>await e.text())),u=l.filter((e,t)=>{try{let e=g[t],i=JSON.parse(e);return"novelai-vibe-transfer"===i.identifier}catch{return!1}}),x=l.filter((e,t)=>{try{let e=g[t],i=JSON.parse(e);return"novelai-vibe-transfer-bundle"===i.identifier}catch{return!1}});for(let e of d){let i=y.from(await e.arrayBuffer()),n=await R(i);if(n){let e=JSON.parse(n);if("novelai-vibe-transfer"===e.identifier){u.push(new Blob([n],{type:"application/json"}));continue}if("novelai-vibe-transfer-bundle"===e.identifier){x.push(new Blob([n],{type:"application/json"}));continue}}let o=y.from(i).toString("base64"),s=await t.add(o),c=(0,p.hg)(r);a.push({id:s,information_extracted:c.information_extracted,strength:c.strength,mask:void 0,enabled:!0})}for(let i of u){let n=await i.text(),o=await t.import(n);if(!o)return void(0,h.oR)(e.image.vibeImportFailed,{type:"error"});let{id:s,importInfo:d}=o;if(s){c=d?.model??r;let e=(0,p.hg)(c);a.push({id:s,information_extracted:d?.information_extracted??e.information_extracted,strength:d?.strength??e.strength,mask:d?.mask,enabled:!0})}}for(let i of x){let n=await i.text(),o=await t.importBundle(n);if(!o)return void(0,h.oR)(e.image.vibeImportFailed,{type:"error"});for(let e of o){let{id:t,importInfo:i}=e;if(t){c=i?.model??r;let e=(0,p.hg)(c);a.push({id:t,information_extracted:i?.information_extracted??e.information_extracted,strength:i?.strength??e.strength,mask:i?.mask,enabled:!0})}}}if(!c)return void(0,h.oR)(e.image.vibeImportFailed,{type:"error"});(0,s.PE)(c).vibetransfer||(c=(0,s.o3)(c)),c!==r&&n(p.j3,c),n((0,p.Gc)(c),e=>[...e,...a]),(0,h.oR)((0,m.LP)(e.image.vibeImportedX,a.length))},[e.image.vibeImportFailed,e.image.vibeImportedX,t]));return(0,c.useMemo)(()=>({importVibe:i,importVibeBundle:n,importManyFilesAsVibes:o}),[i,n,o])}async function R(e){try{let t=(await (0,f.eY)(e)).find(e=>"naidata"===e.keyword);if(t){let e=new TextDecoder,i=y.from(t.text,"base64"),n=e.decode(i);try{let e=JSON.parse(n);if("novelai-vibe-transfer"===e.identifier||"novelai-vibe-transfer-bundle"===e.identifier)return n}catch{}}}catch(e){(0,x.vV)("Error reading image: "+e)}return null}},8403:(e,t,i)=>{"use strict";i.d(t,{Jn:()=>r,SY:()=>l,SZ:()=>a,_m:()=>c,hI:()=>s,m$:()=>d,ov:()=>g,yB:()=>h});var n=i(55805),o=i(76599);let r=n.Ay.div.withConfig({componentId:"sc-4d36b56-0"})(["display:flex;flex-direction:column;font-size:1rem;height:100%;width:100%;margin:auto;gap:30px;align-items:center;"]),a=n.Ay.div.withConfig({componentId:"sc-4d36b56-1"})(["color:",";font-size:1.1rem;width:100% !important;font-family:",";"],e=>e.theme.colors.textHeadings,e=>e.theme.fonts.headings),s=n.Ay.div.withConfig({componentId:"sc-4d36b56-2"})(["margin:auto;display:flex;align-items:center;flex-direction:column;text-align:center;font-size:0.8rem;width:100%;> div{display:flex;justify-content:space-around;gap:20px;width:100%;> div{flex:1 1 100%;}}> div:nth-child(2){opacity:0.8;font-size:0.65rem;}"]),c=n.Ay.div.withConfig({componentId:"sc-4d36b56-3"})(["overflow-y:auto;display:flex;flex-direction:column;gap:25px;margin-bottom:10px;> div:nth-child(2n-1){background:",";}> div{padding:20px;}"],e=>e.theme.colors.bg1),d=(0,n.Ay)(o.fN).withConfig({componentId:"sc-4d36b56-4"})(["width:100%;padding-bottom:8px;text-align:center;"]),l=n.Ay.div.withConfig({componentId:"sc-4d36b56-5"})(["text-align:center;color:",";"],e=>e.theme.colors.warning),h=n.Ay.div.withConfig({componentId:"sc-4d36b56-6"})(["text-align:center;color:",";border:1px solid ",";padding:8px;border-radius:3px;"],e=>e.theme.colors.textUser,e=>e.theme.colors.textUser),g=n.Ay.div.withConfig({componentId:"sc-4d36b56-7"})(["text-align:left;color:",";border:1px solid ",";padding:8px;border-radius:3px;"],e=>e.theme.colors.textMain,e=>e.theme.colors.textMain)},12185:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TutorialStates:()=>ea,default:()=>es,tutorialStep:()=>er});var n=i(94458),o=i(52502),r=i(55805),a=i(68658),s=i(98617),c=i(88743),d=i(97223),l=i(89077),h=i(92704),g=i(41963),u=i(13502),p=i(79630),m=i(36012),x=i(22447),f=i(21153),b=i(40291);let y=JSON.parse('{"storyContainerVersion":1,"metadata":{"storyMetadataVersion":1,"id":"086cf074-b232-4438-90fa-240efa598135","title":"Tutorial: Crystal Dragon Encounter","description":"Your Tutorial Encounter! \\nBattle a crystal dragon alongside your witch companion Galena while you learn how to control NovelAI! ","textPreview":"The splendor before my eyes left me breathless, a vaulted ceiling painted with scenes from an ancient tale; tapestries that stretched across three walls depicting tales of heroes long dead.\\nHowever, as fate would have it, I was thoroughly distracted ","isTA":false,"favorite":false,"tags":["tutorial","fantasy","witch","battle","dragon"],"createdAt":1691778176466,"lastUpdatedAt":1691778180901,"isModified":true,"hasDocument":true},"content":{"storyContentVersion":6,"settings":{"parameters":{"textGenerationSettingsVersion":5,"temperature":1.35,"max_length":40,"min_length":1,"top_k":15,"top_p":0.85,"top_a":0.1,"typical_p":1,"tail_free_sampling":0.915,"repetition_penalty":2.8,"repetition_penalty_range":2048,"repetition_penalty_slope":0.02,"repetition_penalty_frequency":0.02,"repetition_penalty_presence":0,"repetition_penalty_default_whitelist":true,"cfg_scale":1,"cfg_uc":"","phrase_rep_pen":"aggressive","top_g":0,"mirostat_tau":0,"mirostat_lr":1,"order":[{"id":"cfg","enabled":false},{"id":"top_p","enabled":true},{"id":"tfs","enabled":true},{"id":"temperature","enabled":true},{"id":"top_a","enabled":true},{"id":"top_k","enabled":true},{"id":"typical_p","enabled":false},{"id":"top_g","enabled":false},{"id":"mirostat","enabled":false}]},"preset":"default-carefree","trimResponses":true,"banBrackets":true,"prefix":"vanilla","dynamicPenaltyRange":false,"prefixMode":0,"mode":0,"model":"kayra-v1"},"document":"1BQA1HJAldZiAAACDMEIwQXBB8ENwQSFy0MfiCTIVqjs1HJBk8EEwQTBBAHBzL2CAZHUckKTwQjBBMEGAArMvQKQy0Ls/QFZaRFAQQHBzQFqggGRQgAKzQFqApDLQuDI0MmpsIBBAcHMZ4IBkUIACsxnApDLQs5r245LS4BBAcHMgoIBkUIACsyCApDLQxD0GTtmrgxBAaCCAZACkJXLQx+IJMhWqOzLQuz9AVlpEUDLQuDI0MmpsIDLQs5r245LS4DLQxD0GTtmrgzUHgDUckOTwQTBB8EFy0MObW5ILgrIy0MBFVY4YdEQgstDDm1uSC4KyNQfANRyRJeiaWTBBsEIwQXBB8EEwQvLQw5tbkguCsjUAADUcwCRy0MBFVY4YdEQ1AAAgNf/Z/NUAGR+b9LUAADLQwEVVjhh0RDUHwBEy0MBFVY4YdEQy0MObW5ILgrI1HMAkNQAAIXLQx+IJMhWqOzUckWTwQTBB8EFAEEBwcy9ggGRQgAKzL0CkADLQuz9AVlpEUBFAEEBwc0BaoIBkUIACs0BagKQy0MfiCTIVqjsy0LgyNDJqbCARQBBAcHMZ4IBkUIACsxnApDLQuz9AVlpEUDLQs5r245LS4BFAEEBwcyCggGRQgAKzIICkMtC4MjQyamwgMtDEPQZO2auDEUAQQGgggGQApDLQs5r245LS4DX/4RSgwBkfm/U1AAAgAGg2gasc2VjdGlvbnNvcmRlcmhpc3RvcnlkaXJ0eVNlY3Rpb25zc3RlcHR5cGV0ZXh0bWV0YVRoZSBzcGxlbmRvciBiZWZvcmUgbXkgZXllcyBsZWZ0IG1lIGJyZWF0aGxlc3MsIGEgdmF1bHRlZCBjZWlsaW5nIHBhaW50ZWQgd2l0aCBzY2VuZXMgZnJvbSBhbiBhbmNpZW50IHRhbGU7IHRhcGVzdHJpZXMgdGhhdCBzdHJldGNoZWQgYWNyb3NzIHRocmVlIHdhbGxzIGRlcGljdGluZyB0YWxlcyBvZiBoZXJvZXMgbG9uZyBkZWFkLnBvc2l0aW9uZGF0YWxlbmd0aEhvd2V2ZXIsIGFzIGZhdGUgd291bGQgaGF2ZSBpdCwgSSB3YXMgdGhvcm91Z2hseSBkaXN0cmFjdGVkIGJ5IHRoZSBmbHVycnkgb2YgbWFnaWMgZXhwbG9zaW9ucyBvYmxpdGVyYXRpbmcgbXkgdmlzaW9uIGV2ZXJ5IHRpbWUgYSBtYWdpYyBzcGVsbCBoaXQgaXRzIHRhcmdldDogdGhlIGRyYWdvbi4gQWZ0ZXIgYWxsLCBJIHdhcyBhIG1lcmUgaHVtYW4gaW4gdGhlIGNvbXBhbnkgb2YgdHdvIG1hZ2ljYWwgYmVpbmdzLCBteSBjb21wYW5pb24gR2FsZW5hLCBhIHdpdGNoLCBhbmQgYSBmZWFyc29tZSBjcnlzdGFsIGRyYWdvbi4gTXkgcHJlc2VuY2UgaGVyZSB3YXMgbm90IG9ubHkgYW4gaG9ub3IgYnV0IGFsc28gYSBncmF2ZSBkYW5nZXIuIllvdSBrbm93IHdoYXQgdG8gZG8sIHJpZ2h0PyEiIEdhbGVuYSBzaG91dGVkIGF0IG1lIGFzIHNoZSB0aHJldyBhbm90aGVyIGZpcmViYWxsIGF0IHRoZSBkcmFnb24ncyBoZWFkLkkgaGFkIGJlZW4gdGFza2VkIHdpdGggYXNzaXN0aW5nIEdhbGVuYSBvbiB0aGlzIHF1ZXN0IHRvIHNhdmUgdGhlIHdvcmxkIGZyb20gdGhlIGV2aWwgb2YgYSBkcmFnb24uIEJ1dCBob3cgY291bGQgSSBwb3NzaWJseSBoZWxwPyByb290Y3VycmVudG5vZGVzcGFyZW50Y2hpbGRyZW5yb3V0ZWNoYW5nZXNkYXRlZ2VuUG9zaXRpb250eXBlc2VjdGlvbmFmdGVyVGhlIHNwbGVuZG9yIGJlZm9yZSBteSBleWVzIGxlZnQgbWUgYnJlYXRobGVzcywgYSB2YXVsdGVkIGNlaWxpbmcgcGFpbnRlZCB3aXRoIHNjZW5lcyBmcm9tIGFuIGFuY2llbnQgdGFsZTsgdGFwZXN0cmllcyB0aGF0IHN0cmV0Y2hlZCBhY3Jvc3MgdGhyZWUgd2FsbHMgZGVwaWN0aW5nIHRhbGVzIG9mIGhlcm9lcyBsb25nIGRlYWQuSG93ZXZlciwgYXMgZmF0ZSB3b3VsZCBoYXZlIGl0LCBJIHdhcyB0aG9yb3VnaGx5IGRpc3RyYWN0ZWQgYnkgdGhlIGZsdXJyeSBvZiBtYWdpYyBleHBsb3Npb25zIG9ibGl0ZXJhdGluZyBteSB2aXNpb24gZXZlcnkgdGltZSBhIG1hZ2ljIHNwZWxsIGhpdCBpdHMgdGFyZ2V0OiB0aGUgZHJhZ29uLiBBZnRlciBhbGwsIEkgd2FzIGEgbWVyZSBodW1hbiBpbiB0aGUgY29tcGFueSBvZiB0d28gbWFnaWNhbCBiZWluZ3MsIG15IGNvbXBhbmlvbiBHYWxlbmEsIGEgd2l0Y2gsIGFuZCBhIGZlYXJzb21lIGNyeXN0YWwgZHJhZ29uLiBNeSBwcmVzZW5jZSBoZXJlIHdhcyBub3Qgb25seSBhbiBob25vciBidXQgYWxzbyBhIGdyYXZlIGRhbmdlci4iWW91IGtub3cgd2hhdCB0byBkbywgcmlnaHQ/ISIgR2FsZW5hIHNob3V0ZWQgYXQgbWUgYXMgc2hlIHRocmV3IGFub3RoZXIgZmlyZWJhbGwgYXQgdGhlIGRyYWdvbidzIGhlYWQuSSBoYWQgYmVlbiB0YXNrZWQgd2l0aCBhc3Npc3RpbmcgR2FsZW5hIG9uIHRoaXMgcXVlc3QgdG8gc2F2ZSB0aGUgd29ybGQgZnJvbSB0aGUgZXZpbCBvZiBhIGRyYWdvbi4gQnV0IGhvdyBjb3VsZCBJIHBvc3NpYmx5IGhlbHA/IA==","context":[{"text":"[ Tags: magic, dragons; Genre: epic fantasy ]\\nThis is an epic fantasy story. My witch companion, Galena, and I are tasked to defeat a crystal dragon to protect the kingdom. ","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":800,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":0}},{"text":"My witch companion, Galena, is currently fighting a crystal dragon.","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":1,"budgetPriority":-400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-4}}],"lorebook":{"lorebookVersion":5,"entries":[{"text":"Galena, the witch of the tower. Galena\'s eyes are obscured by a translucent ribbon that drapes across her face like a veil and is braided into her long, luscious hair. The religious sect of Simja used to keep Galena confined to the tower for her whole life until her marriage to the king. Once free, Galena discovered her magical powers she employs to protect the kingdom from all types of magical enemies.","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1638423588371,"displayName":"Galena the witch of the tower","id":"74180e75-5c1d-415c-9b35-8dd7cb7428f3","keys":["Galena","witch","ribbon","tower"],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"4be2c28c-a715-47e0-abf5-830172b67ede","loreBiasGroups":[{"phrases":[{"sequences":[],"sequence":"witch","type":2},{"sequences":[],"sequence":"ribbon","type":2},{"sequences":[],"sequence":"veil","type":2}],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0.07,"enabled":true,"whenInactive":false}]},{"text":"The religion of Simja is a mighty entity with a firm hold over their own military. Strange history led to a custom of raising witches in the mighty tower structure of a sprawling religious stronghold, Simja. The witch of the tower is forbidden to ever leave the stronghold and forbidden all outside contact until their weddings to whichever king can convince them to provide fortitude and advancements to their creed. The women raised within the stronghold of Simja are infused with magical powers. ","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1633478891368,"displayName":"Simja","id":"2cca700d-9599-48d3-81e0-dd800bf2e834","keys":["Simja","religion","creed","magic","tower"],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"","loreBiasGroups":[{"phrases":[],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}]},{"text":"Crystal dragons were created from the corpses of defeated wyverns when ancient kingdoms fell under demonic influence during the Great War. These beasts possess incredible strength coupled with magical powers. Their scales are covered in crystal shards that give them both physical protection and mystical properties. They are magnificent in their appearance.","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1638423622779,"displayName":"Crystal Dragon","id":"9232c7f8-d128-4c1e-b201-29ecc825afd7","keys":["crystal","sparkle","dragon","wyvern","beast"],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"4be2c28c-a715-47e0-abf5-830172b67ede","loreBiasGroups":[{"phrases":[{"sequences":[],"sequence":"dragon","type":2}],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0.07,"enabled":true,"whenInactive":false}]}],"settings":{"orderByKeyLocations":false},"categories":[{"name":"Characters","id":"4be2c28c-a715-47e0-abf5-830172b67ede","enabled":true,"createSubcontext":false,"subcontextSettings":{"text":"","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1633483574108,"displayName":"New Lorebook Entry","id":"5a862bc7-f541-4812-bec6-e8ecc8ff6425","keys":[],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"","loreBiasGroups":[{"phrases":[],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}]},"useCategoryDefaults":true,"categoryDefaults":{"text":"","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1633478644543,"displayName":"New Lorebook Entry","id":"3aefc0bd-f98d-48da-81ea-4c2cd48db082","keys":[],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"","loreBiasGroups":[{"phrases":[],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}]},"categoryBiasGroups":[{"phrases":[],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}],"open":true}]},"storyContextConfig":{"prefix":"","suffix":"","tokenBudget":1,"reservedTokens":512,"budgetPriority":0,"trimDirection":"trimTop","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1,"allowInsertionInside":true},"ephemeralContext":[],"contextDefaults":{"ephemeralDefaults":[{"text":"","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":1,"budgetPriority":-10000,"trimDirection":"doNotTrim","insertionType":"newline","maximumTrimType":"newline","insertionPosition":-2},"startingStep":1,"delay":0,"duration":1,"repeat":false,"reverse":false}],"loreDefaults":[{"text":"","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1686007762436,"displayName":"New Lorebook Entry","id":"cf921f75-1106-4c6b-b45f-e08dc90824de","keys":[],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"","loreBiasGroups":[{"phrases":[],"ensureSequenceFinish":false,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}]}]},"settingsDirty":false,"phraseBiasGroups":[{"phrases":[],"ensureSequenceFinish":false,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}],"bannedSequenceGroups":[{"sequences":[],"enabled":true}]}}'),w=JSON.parse('{"storyContainerVersion":1,"metadata":{"storyMetadataVersion":1,"id":"a6f1e71d-cf4e-4a49-9ea1-367e206553f7","title":"Text Adventure Tutorial: Crystal Dragon Encounter","description":"Your Text Adventure Tutorial Encounter! \\nBattle a crystal dragon alongside your witch companion Galena while you learn how to control NovelAI! ","textPreview":"The splendor before my eyes left me breathless, a vaulted ceiling painted with scenes from an ancient tale; tapestries that stretched across three walls depicting tales of heroes long dead.\\nHowever, as fate would have it, I was thoroughly distracted ","isTA":true,"favorite":false,"tags":["tutorial","fantasy","witch","battle","dragon"],"createdAt":1691778218322,"lastUpdatedAt":1691778223942,"isModified":true,"hasDocument":true},"content":{"storyContentVersion":6,"settings":{"parameters":{"textGenerationSettingsVersion":5,"temperature":1.35,"max_length":40,"min_length":1,"top_k":15,"top_p":0.85,"top_a":0.1,"typical_p":1,"tail_free_sampling":0.915,"repetition_penalty":2.8,"repetition_penalty_range":2048,"repetition_penalty_slope":0.02,"repetition_penalty_frequency":0.02,"repetition_penalty_presence":0,"repetition_penalty_default_whitelist":true,"cfg_scale":1,"cfg_uc":"","phrase_rep_pen":"aggressive","top_g":0,"mirostat_tau":0,"mirostat_lr":1,"order":[{"id":"cfg","enabled":false},{"id":"top_p","enabled":true},{"id":"tfs","enabled":true},{"id":"temperature","enabled":true},{"id":"top_a","enabled":true},{"id":"top_k","enabled":true},{"id":"typical_p","enabled":false},{"id":"top_g","enabled":false},{"id":"mirostat","enabled":false}]},"preset":"default-carefree","trimResponses":true,"banBrackets":true,"prefix":"vanilla","dynamicPenaltyRange":false,"prefixMode":0,"mode":1,"model":"kayra-v1"},"document":"1BQA1HJAldZiAAACDMEIwQXBB8ENwQSFy0MfiCTIVqjs1HJBk8EEwQTBBAHBzL2CAZHUckKTwQjBBMEGAArMvQKQy0Ls/QFZaRFAQQHBzQFqggGRQgAKzQFqApDLQuDI0MmpsIBBAcHMZ4IBkUIACsxnApDLQs5r245LS4BBAcHMgoIBkUIACsyCApDLQxD0GTtmrgxBAaCCAZACkJXLQx+IJMhWqOzLQuz9AVlpEUDLQuDI0MmpsIDLQs5r245LS4DLQxD0GTtmrgzUHgDUckOTwQTBB8EFy0MObW5ILgrIy0MBFVY4YdEQgstDDm1uSC4KyNQfANRyRJeiaWTBBsEIwQXBB8EEwQvLQw5tbkguCsjUAADUcwCRy0MBFVY4YdEQ1AAAgNf/Z/NUAGR+b9LUAADLQwEVVjhh0RDUHwBEy0MBFVY4YdEQy0MObW5ILgrI1HMAkNQAAIXLQx+IJMhWqOzUckWTwQTBB8EFAEEBwcy9ggGRQgAKzL0CkADLQuz9AVlpEUBFAEEBwc0BaoIBkUIACs0BagKQy0MfiCTIVqjsy0LgyNDJqbCARQBBAcHMZ4IBkUIACsxnApDLQuz9AVlpEUDLQs5r245LS4BFAEEBwcyCggGRQgAKzIICkMtC4MjQyamwgMtDEPQZO2auDEUAQQGgggGQApDLQs5r245LS4DX/4RSgwBkfm/U1AAAgAGg2gasc2VjdGlvbnNvcmRlcmhpc3RvcnlkaXJ0eVNlY3Rpb25zc3RlcHR5cGV0ZXh0bWV0YVRoZSBzcGxlbmRvciBiZWZvcmUgbXkgZXllcyBsZWZ0IG1lIGJyZWF0aGxlc3MsIGEgdmF1bHRlZCBjZWlsaW5nIHBhaW50ZWQgd2l0aCBzY2VuZXMgZnJvbSBhbiBhbmNpZW50IHRhbGU7IHRhcGVzdHJpZXMgdGhhdCBzdHJldGNoZWQgYWNyb3NzIHRocmVlIHdhbGxzIGRlcGljdGluZyB0YWxlcyBvZiBoZXJvZXMgbG9uZyBkZWFkLnBvc2l0aW9uZGF0YWxlbmd0aEhvd2V2ZXIsIGFzIGZhdGUgd291bGQgaGF2ZSBpdCwgSSB3YXMgdGhvcm91Z2hseSBkaXN0cmFjdGVkIGJ5IHRoZSBmbHVycnkgb2YgbWFnaWMgZXhwbG9zaW9ucyBvYmxpdGVyYXRpbmcgbXkgdmlzaW9uIGV2ZXJ5IHRpbWUgYSBtYWdpYyBzcGVsbCBoaXQgaXRzIHRhcmdldDogdGhlIGRyYWdvbi4gQWZ0ZXIgYWxsLCBJIHdhcyBhIG1lcmUgaHVtYW4gaW4gdGhlIGNvbXBhbnkgb2YgdHdvIG1hZ2ljYWwgYmVpbmdzLCBteSBjb21wYW5pb24gR2FsZW5hLCBhIHdpdGNoLCBhbmQgYSBmZWFyc29tZSBjcnlzdGFsIGRyYWdvbi4gTXkgcHJlc2VuY2UgaGVyZSB3YXMgbm90IG9ubHkgYW4gaG9ub3IgYnV0IGFsc28gYSBncmF2ZSBkYW5nZXIuIllvdSBrbm93IHdoYXQgdG8gZG8sIHJpZ2h0PyEiIEdhbGVuYSBzaG91dGVkIGF0IG1lIGFzIHNoZSB0aHJldyBhbm90aGVyIGZpcmViYWxsIGF0IHRoZSBkcmFnb24ncyBoZWFkLkkgaGFkIGJlZW4gdGFza2VkIHdpdGggYXNzaXN0aW5nIEdhbGVuYSBvbiB0aGlzIHF1ZXN0IHRvIHNhdmUgdGhlIHdvcmxkIGZyb20gdGhlIGV2aWwgb2YgYSBkcmFnb24uIEJ1dCBob3cgY291bGQgSSBwb3NzaWJseSBoZWxwPyByb290Y3VycmVudG5vZGVzcGFyZW50Y2hpbGRyZW5yb3V0ZWNoYW5nZXNkYXRlZ2VuUG9zaXRpb250eXBlc2VjdGlvbmFmdGVyVGhlIHNwbGVuZG9yIGJlZm9yZSBteSBleWVzIGxlZnQgbWUgYnJlYXRobGVzcywgYSB2YXVsdGVkIGNlaWxpbmcgcGFpbnRlZCB3aXRoIHNjZW5lcyBmcm9tIGFuIGFuY2llbnQgdGFsZTsgdGFwZXN0cmllcyB0aGF0IHN0cmV0Y2hlZCBhY3Jvc3MgdGhyZWUgd2FsbHMgZGVwaWN0aW5nIHRhbGVzIG9mIGhlcm9lcyBsb25nIGRlYWQuSG93ZXZlciwgYXMgZmF0ZSB3b3VsZCBoYXZlIGl0LCBJIHdhcyB0aG9yb3VnaGx5IGRpc3RyYWN0ZWQgYnkgdGhlIGZsdXJyeSBvZiBtYWdpYyBleHBsb3Npb25zIG9ibGl0ZXJhdGluZyBteSB2aXNpb24gZXZlcnkgdGltZSBhIG1hZ2ljIHNwZWxsIGhpdCBpdHMgdGFyZ2V0OiB0aGUgZHJhZ29uLiBBZnRlciBhbGwsIEkgd2FzIGEgbWVyZSBodW1hbiBpbiB0aGUgY29tcGFueSBvZiB0d28gbWFnaWNhbCBiZWluZ3MsIG15IGNvbXBhbmlvbiBHYWxlbmEsIGEgd2l0Y2gsIGFuZCBhIGZlYXJzb21lIGNyeXN0YWwgZHJhZ29uLiBNeSBwcmVzZW5jZSBoZXJlIHdhcyBub3Qgb25seSBhbiBob25vciBidXQgYWxzbyBhIGdyYXZlIGRhbmdlci4iWW91IGtub3cgd2hhdCB0byBkbywgcmlnaHQ/ISIgR2FsZW5hIHNob3V0ZWQgYXQgbWUgYXMgc2hlIHRocmV3IGFub3RoZXIgZmlyZWJhbGwgYXQgdGhlIGRyYWdvbidzIGhlYWQuSSBoYWQgYmVlbiB0YXNrZWQgd2l0aCBhc3Npc3RpbmcgR2FsZW5hIG9uIHRoaXMgcXVlc3QgdG8gc2F2ZSB0aGUgd29ybGQgZnJvbSB0aGUgZXZpbCBvZiBhIGRyYWdvbi4gQnV0IGhvdyBjb3VsZCBJIHBvc3NpYmx5IGhlbHA/IA==","context":[{"text":"[ Tags: magic, dragons; Genre: epic fantasy ]\\nThis is an epic fantasy story. My witch companion, Galena, and I are tasked to defeat a crystal dragon to protect the kingdom. ","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":800,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":0}},{"text":"My witch companion, Galena, is currently fighting a crystal dragon.","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":1,"budgetPriority":-400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-4}}],"lorebook":{"lorebookVersion":5,"entries":[{"text":"Galena, the witch of the tower. Galena\'s eyes are obscured by a translucent ribbon that drapes across her face like a veil and is braided into her long, luscious hair. The religious sect of Simja used to keep Galena confined to the tower for her whole life until her marriage to the king. Once free, Galena discovered her magical powers she employs to protect the kingdom from all types of magical enemies.","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1638423588371,"displayName":"Galena the witch of the tower","id":"74180e75-5c1d-415c-9b35-8dd7cb7428f3","keys":["Galena","witch","ribbon","tower"],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"4be2c28c-a715-47e0-abf5-830172b67ede","loreBiasGroups":[{"phrases":[{"sequences":[],"sequence":"witch","type":2},{"sequences":[],"sequence":"ribbon","type":2},{"sequences":[],"sequence":"veil","type":2}],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0.07,"enabled":true,"whenInactive":false}]},{"text":"The religion of Simja is a mighty entity with a firm hold over their own military. Strange history led to a custom of raising witches in the mighty tower structure of a sprawling religious stronghold, Simja. The witch of the tower is forbidden to ever leave the stronghold and forbidden all outside contact until their weddings to whichever king can convince them to provide fortitude and advancements to their creed. The women raised within the stronghold of Simja are infused with magical powers. ","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1633478891368,"displayName":"Simja","id":"2cca700d-9599-48d3-81e0-dd800bf2e834","keys":["Simja","religion","creed","magic","tower"],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"","loreBiasGroups":[{"phrases":[],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}]},{"text":"Crystal dragons were created from the corpses of defeated wyverns when ancient kingdoms fell under demonic influence during the Great War. These beasts possess incredible strength coupled with magical powers. Their scales are covered in crystal shards that give them both physical protection and mystical properties. They are magnificent in their appearance.","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1638423622779,"displayName":"Crystal Dragon","id":"9232c7f8-d128-4c1e-b201-29ecc825afd7","keys":["crystal","sparkle","dragon","wyvern","beast"],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"4be2c28c-a715-47e0-abf5-830172b67ede","loreBiasGroups":[{"phrases":[{"sequences":[],"sequence":"dragon","type":2}],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0.07,"enabled":true,"whenInactive":false}]}],"settings":{"orderByKeyLocations":false},"categories":[{"name":"Characters","id":"4be2c28c-a715-47e0-abf5-830172b67ede","enabled":true,"createSubcontext":false,"subcontextSettings":{"text":"","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1633483574108,"displayName":"New Lorebook Entry","id":"5a862bc7-f541-4812-bec6-e8ecc8ff6425","keys":[],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"","loreBiasGroups":[{"phrases":[],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}]},"useCategoryDefaults":true,"categoryDefaults":{"text":"","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1633478644543,"displayName":"New Lorebook Entry","id":"3aefc0bd-f98d-48da-81ea-4c2cd48db082","keys":[],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"","loreBiasGroups":[{"phrases":[],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}]},"categoryBiasGroups":[{"phrases":[],"ensure_sequence_finish":false,"ensureSequenceFinish":false,"generate_once":true,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}],"open":true}]},"storyContextConfig":{"prefix":"","suffix":"","tokenBudget":1,"reservedTokens":512,"budgetPriority":0,"trimDirection":"trimTop","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1,"allowInsertionInside":true},"ephemeralContext":[],"contextDefaults":{"ephemeralDefaults":[{"text":"","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":1,"budgetPriority":-10000,"trimDirection":"doNotTrim","insertionType":"newline","maximumTrimType":"newline","insertionPosition":-2},"startingStep":1,"delay":0,"duration":1,"repeat":false,"reverse":false}],"loreDefaults":[{"text":"","contextConfig":{"prefix":"","suffix":"\\n","tokenBudget":1,"reservedTokens":0,"budgetPriority":400,"trimDirection":"trimBottom","insertionType":"newline","maximumTrimType":"sentence","insertionPosition":-1},"lastUpdatedAt":1686007762436,"displayName":"New Lorebook Entry","id":"cf921f75-1106-4c6b-b45f-e08dc90824de","keys":[],"searchRange":1000,"enabled":true,"forceActivation":false,"keyRelative":false,"nonStoryActivatable":false,"category":"","loreBiasGroups":[{"phrases":[],"ensureSequenceFinish":false,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}]}]},"settingsDirty":false,"phraseBiasGroups":[{"phrases":[],"ensureSequenceFinish":false,"generateOnce":true,"bias":0,"enabled":true,"whenInactive":false}],"bannedSequenceGroups":[{"sequences":[],"enabled":true}]}}');var v=i(71928),j=i(84601),A=i(52746),S=i(29857),I=i(44334),k=i(2834),C=i(27524),T=i(98883),N=i(38474),M=i(73484);let B=r.Ay.span.withConfig({componentId:"sc-7af90e06-0"})(["color:",";"],e=>e.theme.colors.textHeadings),E=r.Ay.span.withConfig({componentId:"sc-7af90e06-1"})(["color:",";font-weight:600;"],e=>e.theme.colors.textPrompt),L=r.Ay.span.withConfig({componentId:"sc-7af90e06-2"})(["color:",";font-weight:600;"],e=>e.theme.colors.textUser),_=r.Ay.span.withConfig({componentId:"sc-7af90e06-3"})(["color:",";font-weight:600;"],e=>e.theme.colors.textAI),F=r.Ay.span.withConfig({componentId:"sc-7af90e06-4"})(["color:",";font-weight:600;"],e=>e.theme.colors.textEdit),G=r.Ay.span.withConfig({componentId:"sc-7af90e06-5"})(["background-color:",";font-weight:600;"],e=>e.theme.colors.textHighlight),R=r.Ay.div.withConfig({componentId:"sc-7af90e06-6"})(["padding:10px;padding-left:60px;border:1px solid ",";position:relative;overflow:hidden;font-size:0.9rem;margin-top:1rem;background:",";&:not(:last-child){margin-bottom:1rem;}&::before{content:'';width:68px;height:68px;position:absolute;left:-16px;bottom:-8px;display:block;background-position:center;background-size:contain;background-repeat:no-repeat;background-image:url(",");@media (forced-colors:active){forced-color-adjust:none;}}"],e=>e.theme.colors.bg3,e=>e.theme.colors.bg1,f.A.src),D=r.Ay.div.withConfig({componentId:"sc-7af90e06-7"})(["display:flex;flex-direction:column;align-items:center;padding:40px 30px 10px 30px;font-weight:600;background-color:",";max-width:440px;text-align:center;"],e=>e.theme.colors.bg1),P=r.Ay.div.withConfig({componentId:"sc-7af90e06-8"})(["position:absolute;width:100%;height:100%;top:0;left:0;mask-repeat:no-repeat;background-color:",";mask-image:url(",");"],e=>e.theme.colors.bg3,m.A.src),O=r.Ay.div.withConfig({componentId:"sc-7af90e06-9"})(["position:relative;> div{height:2.125rem;width:2.125rem;background-color:",";}"],e=>e.theme.colors.textHeadings),W=r.Ay.div.withConfig({componentId:"sc-7af90e06-10"})(["position:relative;font-size:1.375rem;color:",";font-family:",";padding:20px 0;"],e=>e.theme.colors.textHeadings,e=>e.theme.fonts.headings),H=r.Ay.div.withConfig({componentId:"sc-7af90e06-11"})(["position:relative;font-size:0.875rem;line-height:1.5rem;padding:0 30px;"]),Y=r.Ay.div.withConfig({componentId:"sc-7af90e06-12"})(["position:relative;color:",";padding:40px 0 20px 0;font-weight:bold;"],e=>e.theme.colors.textHeadings),z=r.Ay.div.withConfig({componentId:"sc-7af90e06-13"})(["position:relative;display:grid;width:100%;gap:20px;grid-template-columns:1fr 1fr;> button{padding:29px 10px 18px 10px;display:flex;flex-direction:column;> div:first-child{height:1.9rem !important;width:3rem;margin-bottom:10px;}> div:last-child{font-size:0.875rem;font-weight:500;}}"]),U=r.Ay.div.withConfig({componentId:"sc-7af90e06-14"})(["opacity:0.7;background:none;padding:30px;&:not(:last-child){padding-bottom:0;}"]),Z=r.Ay.div.withConfig({componentId:"sc-7af90e06-15"})(["padding:20px 0;width:100%;position:relative;button{padding:14px;background:",";width:100%;justify-content:space-around;}&:not(:last-child){padding-bottom:0;}"],e=>e.theme.colors.bg2),V=(0,r.Ay)(l.ur).withConfig({componentId:"sc-7af90e06-16"})(["margin-top:30px;margin-bottom:30px;width:100%;display:flex;justify-content:space-around;color:",";border:1px solid ",";"],e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings),q=r.Ay.div.withConfig({componentId:"sc-7af90e06-17"})(["background-color:",";min-width:250px;max-width:350px;min-height:200px;display:flex;flex-direction:column;font-size:1rem;font-weight:600;max-height:calc(var(--app-height,100%) - 20px);overflow:auto;"],e=>e.theme.colors.bg2),K=r.Ay.div.withConfig({componentId:"sc-7af90e06-18"})(["padding:20px 20px 5px 20px;display:flex;justify-content:space-between;align-items:center;"]),X=r.Ay.div.withConfig({componentId:"sc-7af90e06-19"})(["color:",";font-family:",";font-size:1.125rem;"],e=>e.theme.colors.textHeadings,e=>e.theme.fonts.headings),J=r.Ay.div.withConfig({componentId:"sc-7af90e06-20"})(["font-size:0.875rem;opacity:0.5;flex:0 0 auto;"]),Q=r.Ay.div.withConfig({componentId:"sc-7af90e06-21"})(["color:",";"],e=>e.theme.colors.textHeadings),$=r.Ay.div.withConfig({componentId:"sc-7af90e06-22"})(["font-size:0.875rem;"]),ee=r.Ay.div.withConfig({componentId:"sc-7af90e06-23"})(["font-size:0.875rem;opacity:0.5;"]),et=r.Ay.div.withConfig({componentId:"sc-7af90e06-24"})(["padding:5px 20px 20px 20px;font-weight:400;"]),ei=(0,r.Ay)(l.ur).withConfig({componentId:"sc-7af90e06-25"})(["background:",";gap:2px;"],e=>e.theme.colors.bg2),en=r.Ay.div.withConfig({componentId:"sc-7af90e06-26"})(["margin-top:auto;padding:20px;display:flex;border-top:1px solid ",";> button{display:flex;align-items:center;}> :first-child{opacity:0.6;color:",";margin-right:auto;}> :nth-child(2){color:",";margin-right:20px;div{margin-right:10px;background-color:",";}}> :nth-child(3){color:",";div{margin-left:10px;height:15px;background-color:",";}}"],e=>e.theme.colors.bg3,e=>e.theme.colors.textMain,e=>e.theme.colors.textMain,e=>e.theme.colors.textMain,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings);function eo(e){let{continuous:t,index:i,step:o,backProps:r,closeProps:s,primaryProps:c,tooltipProps:u,size:p}=e,[m,f]=(0,k.fp)(d.Nn),[b,y]=(0,k.fp)(d.sT),[w,v]=(0,k.fp)(d.xD),[j,A]=(0,k.fp)(d.Ee),S=(0,k.Xr)(d.IG),I=(0,k.Xr)(d.EN),T=(0,k.Xr)(d.Vh),N=(0,k.Xr)(d.Lo),M=(0,k.Xr)(d.Ej),B=(0,k.Xr)(d.k2);return(0,a.useEffect)(()=>{if("string"==typeof o.target){let e=document.querySelector(o.target);e&&(e.getBoundingClientRect().bottom>(window.visualViewport?.height||window.innerHeight)&&e.scrollIntoView(!1),e.getBoundingClientRect().top<0&&e.scrollIntoView())}},[o.target]),(0,n.jsxs)(q,{...u,children:[(0,n.jsxs)(K,{children:[o.title&&(0,n.jsx)(X,{children:o.title}),(0,n.jsxs)(J,{children:[i+1,"/",p]})]}),(0,n.jsx)(et,{children:o.content}),(0,n.jsxs)(en,{children:[(0,n.jsx)(l.Dp,{...s,onClick:()=>{let e="Unknown";switch(b.state){case 0:e="Writing Editor";break;case 1:e="Text Adventure";break;case 3:e="Advanced Tutorial"}(0,C.I4)("TutorialEarlyFinish",{props:{step:o.title?.toString()??"No step title?",type:e}}),y(e=>({...e,state:-1}));let t={...m,settings:{...m.settings,tutorialSeen:!0}};S(!1),f(t),(0,g.c7)(t).saveSettings(t.settings)},children:"Skip Tutorial"}),i>0?(0,n.jsx)(l.Dp,{...r,onClick:e=>{let t=o.title?.toString()??"";if(0===b.state||1===b.state){if("Final Touches"===t)return void setTimeout(()=>r.onClick(e),1);if("The Options Sidebar"===t){1200>(window.visualViewport?.width||window.innerWidth)&&A(!1),setTimeout(()=>r.onClick(e),1);return}if("Your Library"===t&&!j){A(!0),1200>(window.visualViewport?.width||window.innerWidth)&&v(!1),setTimeout(()=>r.onClick(e),500);return}}if(3===b.state){if(!j&&["AI Modules","Memory","Author's Note 1/2","Author's Note 2/2","Lorebook","Lorebook Entries"].includes(t)){A(!0),setTimeout(()=>r.onClick(e),100);return}if("Lorebook Entries"===t){I(!1),setTimeout(()=>r.onClick(e),100);return}if("Lorebook Generation 1/3"===t&&T("74180e75-5c1d-415c-9b35-8dd7cb7428f3"),"Lorebook Generation 2/3"===t&&N(!1),"Lorebook Generation Context"===t){N(!0),setTimeout(()=>r.onClick(e),1);return}if("Lorebook Keys"===t){M(!0),N(!0),setTimeout(()=>r.onClick(e),1);return}if("View Story Stats"===t){I(!0),setTimeout(()=>r.onClick(e),100);return}}r.onClick(e)},children:"Back"}):(0,n.jsx)("div",{}),t?(0,n.jsx)(l.Dp,{...c,onClick:e=>{let t=o.title?.toString()??"";if(0===b.state||1===b.state){if("Leave Your Mark"===t){setTimeout(()=>c.onClick(e),1),v(!0);return}if("Final Touches"===t&&B(0),"Final Touches"===t&&!j){A(!0),setTimeout(()=>c.onClick(e),500),B(0);return}if("The Options Sidebar"===t&&B(2),"Preset this!"===t&&!w){B(0),1200>(window.visualViewport?.width||window.innerWidth)&&A(!1),v(!0),setTimeout(()=>c.onClick(e),500);return}"Your Library"===t&&y(e=>({...e,state:2})),"Send It Away!"===t&&(0,x.bN)(x.I7.editorRequest),"A New Direction"===t&&(0,x.bN)(x.I7.inputRetry)}if(3===b.state){if(!j&&["The Story Tab Tutorial","AI Modules","Memory","Author's Note 1/2","Author's Note 2/2"].includes(t)){A(!0),setTimeout(()=>c.onClick(e),500);return}if("Lorebook"===t){I(!0),N(!1),setTimeout(()=>c.onClick(e),500),T("74180e75-5c1d-415c-9b35-8dd7cb7428f3");return}if("Lorebook Entries"===t&&T("74180e75-5c1d-415c-9b35-8dd7cb7428f3"),"Lorebook Generation 1/3"===t){N(!0),setTimeout(()=>c.onClick(e),1);return}if("Lorebook Generation 3/3"===t){M(!0),setTimeout(()=>c.onClick(e),1);return}if("Lorebook Keys"===t){I(!1),setTimeout(()=>c.onClick(e),1);return}"Saving & Exporting"===t&&y(e=>({...e,state:4}))}c.onClick(e)},children:o.title?.toString()==="Send It Away!"?(0,n.jsxs)(n.Fragment,{children:["Send ",(0,n.jsx)(h.qxZ,{style:{marginLeft:"5px"}})]}):o.title?.toString()==="A New Direction"?(0,n.jsxs)(n.Fragment,{children:["Retry ",(0,n.jsx)(h.jfu,{style:{marginLeft:"5px"}})]}):(0,n.jsxs)(n.Fragment,{children:["Next ",(0,n.jsx)(h.flY,{})]})}):(0,n.jsx)("div",{style:{width:"6ch"}})]})]})}let er=0;var ea=function(e){return e[e.WELCOME_SCREEN=-1]="WELCOME_SCREEN",e[e.EDITOR_TUTORIAL=0]="EDITOR_TUTORIAL",e[e.ADVENTURE_TUTORIAL=1]="ADVENTURE_TUTORIAL",e[e.BASIC_COMPLETE=2]="BASIC_COMPLETE",e[e.ADVANCED_TUTORIAL=3]="ADVANCED_TUTORIAL",e[e.ADVANCED_COMPLETE=4]="ADVANCED_COMPLETE",e}({});function es(){let e,t=(0,M.B2)(),[i,r]=(0,k.fp)(d.Nn),c=(0,k.md)(d.x1),[u,m]=(0,k.fp)(d.sT),[x,f]=(0,k.fp)(d.om),y=(0,k.Xr)((0,d.nU)("")),w=(0,k.Xr)(d.p_),[q,K]=(0,k.fp)(d.IG),X=(0,N.useRouter)();(0,a.useEffect)(()=>{if(X.isReady&&X.query.showTutorial){K(!0);let e={...X.query};delete e.showTutorial,X.replace({pathname:X.pathname,query:e},void 0,{shallow:!0})}},[X,X.isReady,X.query,X.query.showTutorial,K]);let J=(0,k.Xr)(d.Ee),et=(0,k.Xr)(d.k2),en=()=>{let e={...i,settings:{...i.settings,tutorialSeen:!0}};r(e),(0,g.c7)(e).saveSettings(e.settings)},[er,ea]=(0,a.useState)(""),es=(0,a.useMemo)(()=>[{disableBeacon:!0,target:".ProseMirror",placement:"left-start",isFixed:!0,title:"Behold, Your Canvas.",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["This field is your workspace, a sandbox for"," ",(0,n.jsx)(B,{children:"your imagination"}),"!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["You can type ",(0,n.jsx)("strong",{children:"anything"})," into this field for the AI to pick up from your input."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ",(0,n.jsx)("strong",{children:"Proper English"})," will produce better results, but"," ",(0,n.jsx)("strong",{children:"dont let that stop you"})," from"," ",(0,n.jsx)(B,{children:"experimenting around"})," with the AI! The AI will pick up from your input so if you use grammatically correct English it will output on in the same vein."]})]})},{disableBeacon:!0,target:".ProseMirror",placement:"left-start",isFixed:!0,title:"A Prompt Introduction",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["This text is a ",(0,n.jsx)(B,{children:"Prompt"}),", text written before the first AI generation. ",(0,n.jsx)(B,{children:"It is the basis of your AI-generated story."})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["A ",(0,n.jsx)(B,{children:"Prompt"})," can be empty, consist of a single word, a sentence or as much text as youd like. By default,"," ",(0,n.jsx)(E,{children:"Prompts are uniquely color coded."})]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","The more initial text your Prompt has, the better the AIs outputs will be."]}),(0,n.jsxs)("div",{children:["Feel free to add to or replace the existing ",(0,n.jsx)(B,{children:"Prompt"})," if you like, then hit"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Next"})}),"."]})]})},{disableBeacon:!0,target:".send.button",placement:"top",title:"Send It Away!",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["That's it! Now its time to send this beauty of a"," ",(0,n.jsx)(B,{children:"Prompt"})," off to the AI."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","You dont even need to finish sentences or have to enter text at all.",(0,n.jsx)("br",{}),"The AI can pick up ",(0,n.jsx)("strong",{children:"without any input"})," from your side."]}),(0,n.jsxs)("div",{children:["Hit"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Send"})})," ","and watch the AI do the rest of the work.",(0,n.jsxs)("i",{children:[" ","You can also use ",(0,n.jsx)(B,{children:"Ctrl + Enter"})," whenever you are done typing!"]})]})]})},{disableBeacon:!0,target:".ProseMirror",placement:"left-start",title:"Its Alive!",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["As you can see, by default"," ",(0,n.jsx)(_,{children:(0,n.jsx)(B,{children:"all AI-generated text is displayed in its own color."})})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["You mightve also noticed that"," ",(0,n.jsx)(L,{children:"any new text you write after the first generation"})," ","will appear ",(0,n.jsx)(L,{children:"color coded"})," as well!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Also, any ",(0,n.jsx)(F,{children:"edits"})," you make to your story will be"," ",(0,n.jsx)(F,{children:"color coded"})," so that you can easily track how"," ",(0,n.jsx)(_,{children:"the AI"})," and ",(0,n.jsx)(L,{children:"you"})," ","collaborate!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Everything you"," ",(0,n.jsx)(L,{children:(0,n.jsx)("strong",{children:"write"})})," ","and"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"generate"})})," ","will be added to your"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Context"})})," ",(0,n.jsx)(B,{children:"This is the extent of what the AI can remember. The exact amount depends on your subscription tier and the model being used."})]}),(0,n.jsx)(R,{children:(0,n.jsxs)("i",{children:["Keep your context limit in mind as you enter long"," ",(0,n.jsx)(E,{children:"prompts"})," or ",(0,n.jsx)(L,{children:"text inputs"}),"!"]})})]})},{disableBeacon:!0,target:".retry.button",placement:"top",title:"A New Direction",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"This text we just generated is pretty neat, but lets see the other sweet outputs we can get!"}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Go ahead and hit the"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Retry"})})," ","button to make the AI replace what was just generated with something else."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","Dont worry about losing the previous ",(0,n.jsx)(_,{children:"AI generation"})," ","if you liked it! You can come back to it at any time."," ",(0,n.jsx)("i",{children:"Well cover that in just a bit."})]})]})},{disableBeacon:!0,target:".ProseMirror, .send, .retry",placement:"left-start",title:"Sending and Replacing",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"The old generation has now been replaced by the new one."}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","If you ",(0,n.jsx)("strong",{children:"hover"})," over the ",(0,n.jsx)("strong",{children:"Retry"})," button you can see exactly ",(0,n.jsx)(G,{children:"which text will be affected"}),"!"]}),(0,n.jsxs)("div",{children:["To recap, hit"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Send"})})," ","to generate something completely new, and hit"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Retry"})})," ","to replace your last generation with a new one."]})]})},{disableBeacon:!0,target:".undo-redo",placement:"top",title:"Undoing Your Mistakes",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsxs)(B,{children:["You can ",(0,n.jsx)("strong",{children:"Undo"})," and ",(0,n.jsx)("strong",{children:"Redo"})," changes to the Story, including entire generations."]})}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["NovelAI keeps track of your generation history, which can be found by clicking the number next to"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Redo"})}),","," ",(0,n.jsxs)("i",{children:["after pressing"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Undo"})})]})," ","at least once."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","You can even"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Undo"})})," ","all the way back to the prompt of your story at any time!"]})]})},{disableBeacon:!0,target:".conversation-title",placement:"bottom-end",title:"Leave Your Mark",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["This story is truly ",(0,n.jsx)("strong",{children:"a masterpiece"}),". It signifies your first steps into the AI-generated universe!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Go ahead and click the"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Story Title"})})," ","to edit your Story's name."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","You can toggle to hide your default Story title visibility in your"," ",(0,n.jsx)("strong",{children:"Interface Settings"}),"!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:`.sidebar-story-card[data-id="${er}"], .story-metadata-modal`,placement:"right-start",title:"Final Touches",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["Alternatively you can click the"," ",(0,n.jsxs)(B,{children:[(0,n.jsx)(h.qUP,{highlight:!0,style:{display:"inline-block",position:"relative",top:"5px"}})," ",(0,n.jsx)("strong",{children:"Edit icon"})]})," ","here to edit the Storys info."]}),(0,n.jsxs)("div",{children:["You can also easily"," ",(0,n.jsx)(h.d7y,{highlight:!0,style:{display:"inline-block",position:"relative",top:"4px",width:"15px"}})," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Delete"})}),","," ",(0,n.jsx)(h.TdU,{highlight:!0,style:{display:"inline-block",position:"relative",top:"4px",width:"15px"}})," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Duplicate"})})," ","or"," ",(0,n.jsx)(h.GP3,{highlight:!0,style:{display:"inline-block",position:"relative",top:"3px",height:"14px"}})," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Export"})})," ","in the left sidebar menu!"]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip: "})}),"All of the options seen in the story info are purely cosmetic and for your own organization.",(0,n.jsx)("br",{}),(0,n.jsx)(B,{children:"They dont affect the AI or your story!"})," "]}),(0,n.jsxs)("div",{children:["Theres just one last thing to cover before we let you go..."," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"the Sidebars"})}),"!"," "]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".infobar",placement:"left-start",title:"The Options Sidebar",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["Here youll find story-unique options that let you influence the AIs outputs. You can also"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Export"})}),","," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Duplicate"})})," ","or"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Delete"})})," ","your story, and much, much more."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","All these settings are ",(0,n.jsx)("strong",{children:"unique to your story."})," Your settings"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"do not carry over"})})," ","between individual stories."]}),(0,n.jsxs)("div",{children:["It may ",(0,n.jsx)("strong",{children:"look"})," threatening,",(0,n.jsx)(B,{children:" but luckily all of it is entirely optional."}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Should you decide to check it out now, there are simple descriptions of what the various options do to help you get started."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["We'll cover all these sections in ",(0,n.jsx)("strong",{children:"another Tutorial"}),"!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".infobar",placement:"left-start",title:"Preset this!",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Due to the flexibility of AI-assisted storytelling, it is hard to define a specific setting that would encompass all writing methods."}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Because of this, we have come up with various"," ",(0,n.jsx)("strong",{children:"Setting Configuration Presets"})," that assist the AI in different aspects."]}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:"While the descriptions might seem vague at first, you might be surprised with the results you get by using different presets."}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","Switching your preset might help get the AI back on track if the AI completely goes off the rails, outputs nonsense or begins to loop!"]}),(0,n.jsxs)("div",{children:["Now, let's head to the left Sidebar, ",(0,n.jsx)("strong",{children:"the Menubar"}),"!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".menubar",placement:"right-start",title:"Your Library",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Here youll find all of your existing stories laid out nice and neat."}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["At the top you can access the"," ",(0,n.jsxs)(B,{children:[(0,n.jsx)(h.Zes,{highlight:!0,style:{display:"inline-block",position:"relative",top:"3px"}})," ",(0,n.jsx)("strong",{children:"User Settings "})]}),"to customize your NovelAI experience just the way you like it."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Adjust the"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"AI Settings"})}),", customize your visual"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Interface"})})," ","and"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Theme"})})," ","colors and adjust your"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Account Settings"})}),". You can also view our"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Hotkeys"})})," ","to navigate NovelAI through your keyboard!"]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip: "})}),"You don't need to use the Import Button, you can drag and drop files directly into the editor!"]}),(0,n.jsxs)("div",{children:["The buttons to start a"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"New Story"})})," ","and to"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Import Files"})})," ","supported by NovelAI are found at the bottom."]})]})}],[er]),el=(0,a.useMemo)(()=>[{disableBeacon:!0,target:".conversation-input-container",placement:"left-start",isFixed:!0,title:"Your Adventure Begins.",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)(B,{children:"This is where all the action takes place. "})}),(0,n.jsxs)("div",{children:["The three buttons below the text area allow you to select"," ",(0,n.jsx)(B,{children:"what kind of input"})," you want to send for the AI to work with."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(B,{children:[(0,n.jsx)(h.rhX,{highlight:!0,style:{display:"inline-block",position:"relative",top:"5px",width:"13px",marginRight:"4px"}})," ",(0,n.jsx)("strong",{children:"Do"})]})," ","lets you perform an action."]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(B,{children:[(0,n.jsx)(h.QDs,{highlight:!0,style:{display:"inline-block",position:"relative",top:"6px",width:"13px",marginRight:"4px"}})," ",(0,n.jsx)("strong",{children:"Say"})]})," ","lets you speak as yourself."]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)(B,{children:[(0,n.jsx)(h.RuZ,{highlight:!0,style:{display:"inline-block",position:"relative",top:"5px",width:"13px",marginRight:"4px"}})," ",(0,n.jsx)("strong",{children:"Story"})]})," ","lets you write the story directly."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","You don't even need to finish your action sentences, use a"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"* Symbol"})})," ","to let the AI fill in the rest for you!",(0,n.jsx)("br",{}),"The AI could also pick up ",(0,n.jsx)("strong",{children:"without any input"})," from your side - just hit"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Send!"})})]})]})},{disableBeacon:!0,target:".ProseMirror",placement:"left-start",isFixed:!0,title:"This World is Yours to Control",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["This text is a ",(0,n.jsx)(B,{children:"Prompt"}),", text written before the first AI generation. ",(0,n.jsx)(B,{children:"It is the basis of your AI-generated story."})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["A ",(0,n.jsx)(B,{children:"Prompt"})," can be empty, consist of a single word, a sentence or as much text as youd like. By default,"," ",(0,n.jsx)(E,{children:"Prompts are uniquely color coded."})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)(B,{children:"The text in these boxes is completely editable."})," Feel free to"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"cut"})}),","," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"add"})})," ","or"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"edit"})})," ","any section of the text"," ",(0,n.jsx)("i",{children:(0,n.jsx)("strong",{children:"at any time"})}),"."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","If you want to generate more text for any action just hit"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Send"})})," ","again!"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Type out something"})," in response to the given"," ",(0,n.jsx)(E,{children:"Prompt"}),", then hit Next."," "]})]})},{disableBeacon:!0,target:".send.button",placement:"top",title:"Send It Away!",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Now that you have some text entered, its time to send it off to the AI."}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ",(0,n.jsx)("strong",{children:"Proper English"})," will produce better results but"," ",(0,n.jsx)("strong",{children:"dont let that stop you"})," from"," ",(0,n.jsx)(B,{children:"experimenting around"})," with the AI! The AI will pick up from your input so if you use grammatically correct English it will output on in the same vein."]}),(0,n.jsxs)("div",{children:["Hit"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Send"})})," ","and watch the AI do the rest of the work."]})]})},{disableBeacon:!0,target:".ProseMirror",placement:"left-end",title:"Its Alive!",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["As you can see, by default"," ",(0,n.jsx)(_,{children:(0,n.jsx)(B,{children:"all AI-generated text is displayed in its own color."})})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["You mightve also noticed that"," ",(0,n.jsx)(L,{children:"any new text you write after the first generation"})," ","will appear ",(0,n.jsx)(L,{children:"color coded"})," as well!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Also, any ",(0,n.jsx)(F,{children:"edits"})," you make to your story will be"," ",(0,n.jsx)(F,{children:"color coded"})," so that you can easily track how"," ",(0,n.jsx)(_,{children:"the AI"})," and ",(0,n.jsx)(L,{children:"you"})," ","collaborate!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Everything you"," ",(0,n.jsx)(L,{children:(0,n.jsx)("strong",{children:"write"})})," ","and"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"generate"})})," ","will be added to your"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Context"})})," ","(Depending on your subscription tier: around 4000 / 8000 characters consisting of your story text and prompt setup is sent to the AI)."," ",(0,n.jsx)(B,{children:"This is the extent of what the AI can remember."})]}),(0,n.jsx)(R,{children:(0,n.jsxs)("i",{children:["Keep your context limit in mind as you enter long"," ",(0,n.jsx)(E,{children:"prompts"})," or ",(0,n.jsx)(L,{children:"text inputs"}),"!"]})})]})},{disableBeacon:!0,target:".retry.button",placement:"top",title:"A New Direction",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"This text we just generated is pretty neat, but lets see the other sweet outputs we can get!"}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Go ahead and hit the"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Retry"})})," ","button to make the AI replace what was just generated with something else."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","Dont worry about losing the previous ",(0,n.jsx)(_,{children:"AI generation"})," ","if you liked it! You can come back to it at any time."," ",(0,n.jsx)("i",{children:"Well cover that in just a bit."})]})]})},{disableBeacon:!0,target:".ProseMirror, .send, .retry",placement:"left-end",title:"Sending and Replacing",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"The old generation has now been replaced by the new one."}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","If you ",(0,n.jsx)("strong",{children:"hover"})," over the ",(0,n.jsx)("strong",{children:"Retry"})," button you can see exactly ",(0,n.jsx)(G,{children:"which text will be affected"}),"!"]}),(0,n.jsxs)("div",{children:["To recap, hit"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Send"})})," ","to generate something completely new, and hit"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Retry"})})," ","to replace your last generation with a new one."]})]})},{disableBeacon:!0,target:".undo-redo, .redo-menu",placement:"top",title:"Undoing Your Mistakes",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsxs)(B,{children:["You can ",(0,n.jsx)("strong",{children:"Undo"})," and ",(0,n.jsx)("strong",{children:"Redo"})," changes to the Story, including entire generations."]})}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["NovelAI keeps track of your generation history, which can be found by clicking the number next to"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Redo"})}),","," ",(0,n.jsxs)("i",{children:["after pressing"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Undo"})})]})," ","at least once."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","You can even"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Undo"})})," ","all the way back to the prompt of your story at any time!"]})]})},{disableBeacon:!0,target:".conversation-title",placement:"bottom-end",title:"Leave Your Mark",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["This story is truly ",(0,n.jsx)("strong",{children:"a masterpiece"}),". It signifies your first steps into the AI-generated universe!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Go ahead and click the"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Story Title"})})," ","to edit your Story's name."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","You can toggle to hide your default Story title visibility in your"," ",(0,n.jsx)("strong",{children:"Interface Settings"}),"!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:`.sidebar-story-card[data-id="${er}"], .story-metadata-modal`,placement:"right-start",title:"Final Touches",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["Alternatively you can click the"," ",(0,n.jsxs)(B,{children:[(0,n.jsx)(h.qUP,{highlight:!0,style:{display:"inline-block",position:"relative",top:"5px"}})," ",(0,n.jsx)("strong",{children:"Edit icon"})]})," ","here to edit the Storys info."]}),(0,n.jsxs)("div",{children:["You can also easily"," ",(0,n.jsx)(h.d7y,{highlight:!0,style:{display:"inline-block",position:"relative",top:"4px",width:"15px"}})," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Delete"})}),","," ",(0,n.jsx)(h.TdU,{highlight:!0,style:{display:"inline-block",position:"relative",top:"4px",width:"15px"}})," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Duplicate"})})," ","or"," ",(0,n.jsx)(h.GP3,{highlight:!0,style:{display:"inline-block",position:"relative",top:"3px",height:"14px"}})," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Export"})})," ","in the left sidebar menu!"]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip: "})}),"All of the options seen in the story info are purely cosmetic and for your own organization.",(0,n.jsx)("br",{}),(0,n.jsx)(B,{children:"They dont affect the AI or your story!"})," "]}),(0,n.jsxs)("div",{children:["Theres just one last thing to cover before we let you go..."," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"the Sidebars"})}),"!"," "]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".infobar",placement:"left-start",title:"Preset this!",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Due to the flexibility of AI-assisted storytelling, it is hard to define a specific setting that would encompass all writing methods."}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Because of this, we have come up with various"," ",(0,n.jsx)("strong",{children:"Setting Configuration Presets"})," that assist the AI in different aspects."]}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:"While the descriptions might seem vague at first, you might be surprised with the results you get by using different presets."}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","Switching your preset might help get the AI back on track if the AI completely goes off the rails, outputs nonsense or begins to loop!"]}),(0,n.jsxs)("div",{children:["Now, let's head to the left Sidebar, ",(0,n.jsx)("strong",{children:"the Menubar"}),"!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".menubar",placement:"right-start",title:"Your Library",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Here youll find all of your existing stories laid out nice and neat."}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["At the top you can access the"," ",(0,n.jsxs)(B,{children:[(0,n.jsx)(h.Zes,{highlight:!0,style:{display:"inline-block",position:"relative",top:"3px"}})," ",(0,n.jsx)("strong",{children:"User Settings "})]}),"to customize your NovelAI experience just the way you like it."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Adjust the"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"AI Settings"})}),", customize your visual"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Interface"})})," ","and"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Theme"})})," ","colors and adjust your"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Account Settings"})}),". You can also view our"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Hotkeys"})})," ","to navigate NovelAI through your keyboard!"]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip: "})}),"You don't need to use the Import Button, you can drag and drop files directly into the editor!"]}),(0,n.jsxs)("div",{children:["The buttons to start a"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"New Story"})})," ","and to"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Import Files"})})," ","supported by NovelAI are found at the bottom."]})]})}],[er]),eh=(0,a.useMemo)(()=>[{disableBeacon:!0,spotlightClicks:!1,target:".infobar",placement:"left-start",isFixed:!0,title:"The Story Tab Tutorial",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Welcome back!"}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Now let's look at the tools we can use to"," ",(0,n.jsx)(B,{children:"lead our Story "}),"exactly where we want it to go!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["In this Tutorial we will exclusively cover the"," ",(0,n.jsx)("strong",{children:"Story-unique Settings"})," in our right ",(0,n.jsx)("strong",{children:"Sidebar"})," ","menu."]}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:"Here you find a variety of neat tools that let you control how the AI will interact with your story!"}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip: "})}),"Remember all the information you enter here is exclusive to the selected",(0,n.jsx)(B,{children:" Story "})," - Settings ",(0,n.jsx)("strong",{children:"will not carry over"})," ","between multiple Stories.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(B,{children:"Duplicate"})," or ",(0,n.jsx)(B,{children:"Export"})," a"," ",(0,n.jsx)(B,{children:"Story"}),", and it will retain all your Story Settings though!",(0,n.jsx)("br",{})]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".ai-module-card",placement:"left-start",isFixed:!0,title:"AI Modules",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["Load up an"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"AI Module"})})," ","to focus the AI into a desired genre, setting or world:"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"AI Modules"})})," ","let you quickly draw upon specific topics, emulate famous authors, writing styles or give the AI reference material."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Click"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"All Modules"})})," ","to open the"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"AI Module Browser "})}),"for easy navigation."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","Alternately, you can use AI Modules created by the community, make one using your own writing, or use the writing of your favorite author! Provided you have the text to do so, of course.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"All the Custom AI Modules you create or load into NovelAI are"," ",(0,n.jsx)("strong",{children:"automatically saved"})," and visible in the"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"AI Module Browser"})}),"!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".memory-card",placement:"left-start",isFixed:!0,title:"Memory",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["The"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Memory"})})," ","field can be used to store broad details related to your current setting, your character, their companions and what has previously happened in your story."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Updating this field with"," ",(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"important story elements"})})," ","as they take place will help the AI stay more consistent."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Memory"})})," ","is inserted at the top of your ",(0,n.jsx)("strong",{children:"Story Context"}),", before anything else. The AI will ",(0,n.jsx)("strong",{children:"never"})," forget information you place here!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".an-card",placement:"left-start",isFixed:!0,title:"Author's Note",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["Describe just about ",(0,n.jsx)("i",{children:"anything"})," with a few short sentences and lend your story a focus, details, moods or give it premonitions to make something happen."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","The text in your Author's Note is one of most recent things the AI sees in your Story Context, supercharging its influence over your story!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".lorebook-access-card, .lorebook",placement:"left-start",isFixed:!0,title:"Lorebook",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["The"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Lorebook"})})," ","is used to store information ",(0,n.jsx)("i",{children:"that is not always relevant"}),", which the AI refers to only when a ",(0,n.jsx)("i",{children:"custom"})," keyword is activated."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","The information stored in your Lorebook doesn't take up any space in your Story Context unless triggered by a keyword!"]}),(0,n.jsxs)("div",{children:["Your"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Lorebook"})})," ","helps the AI refer to any information you provide or generate for the specific elements in your story, such as characters, events, or locations."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["It's time to take an in-depth look at the"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Lorebook"})})," ","and how to generate text with it!"]})]})},{disableBeacon:!0,target:".lorebook-inserted-text",placement:"left-start",isFixed:!0,title:"Lorebook Entries",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["Let's take a look at this example",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:" Lorebook"})})," ","entry for a Character!"]}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:"Galena is our witch companion in the Tutorial scenario, tasked with defeating the dragon alongside you."}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["In her description we ",(0,n.jsx)("strong",{children:"cover her role"})," in our story - being a witch. Then we briefly cover an important aspect of her"," ",(0,n.jsx)("strong",{children:"physical appearance"})," that we want the AI to focus on. Followed by a snippet of ",(0,n.jsx)("strong",{children:"her backstory"})," and ",(0,n.jsx)("strong",{children:"a purpose"})," ","for her in the setup of our immediate encounter."]}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:(0,n.jsx)("strong",{children:"All of the above is optional, but the more the AI has to work with the better it can continue your setup!"})}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","Writing your Lorebook in the same tense and perspective as your story will yield more consistent results!"]})]})},{disableBeacon:!0,target:".lorebook-inserted-text",placement:"left-start",isFixed:!0,title:"Hammer Time",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"The AI isn't perfect and no matter how detailed you write your Lorebook description, there is a chance for it to mess up."}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:"However there are a handful of tricks you can employ to ensure a higher success rate for the AI to correctly refer to the information you put down in your descriptions!"}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{children:"You can hammer in a certain feature such as a physical descriptor by using different synonyms for the same thing."}),(0,n.jsx)("br",{}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Example:"})})," ","We could give Galena green eyes by putting the word ",(0,n.jsx)("i",{children:'"green"'})," ","before the mention of her eyes in our Lorebook description. Then at the end we could describe how"," ",(0,n.jsx)("i",{children:'"She tends to keep her verdant gaze averted at all times."'})," or"," ",(0,n.jsx)("i",{children:'"It was hard for me to concentrate whenever Galena\'s emerald stare focused on me."'})," ",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"This shows the AI that this is the type of output we desire and it will continue on in the same style."]})]})},{disableBeacon:!0,target:".generate-toggle",placement:"left-start",isFixed:!0,title:"Lorebook Generation 1/3",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Don't feel like writing your own description or want to see what the AI can come up with instead? No problem!"}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[" ","We got just the right tool for that!"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Lorebook Generation"})})," ","will come to the rescue of your imagination!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Enable the"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Lorebook Generation"})})," ","menu by hitting the"," ",(0,n.jsx)("strong",{children:(0,n.jsxs)(B,{children:[(0,n.jsx)(b.Zt,{style:{display:"inline-block"}}),"Generate button"]})})]})]})},{disableBeacon:!0,target:".lorebook-generation-select",placement:"left-start",isFixed:!0,title:"Lorebook Generation 2/3",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"First we are going to decide what we want to generate! Luckily we have a whole range of available options."}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"General:"})})," ","A little bit of ",(0,n.jsx)("strong",{children:"everything"}),", making it somewhat unfocused, but able to pull from a wide variety of information."," "]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Person:"})})," ","Generate ",(0,n.jsx)("strong",{children:"people"}),", whether human, alien, or some other life form."]}),(0,n.jsx)("br",{})," ",(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Place:"})})," ","Hamlets, futuristic cities, far off planets, and other ",(0,n.jsx)("strong",{children:"places"})," ","are the domain of this type."," "]}),(0,n.jsx)("br",{})," ",(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Thing:"})})," ","Generate material ",(0,n.jsx)("strong",{children:"things"})," like a cursed weapon, deadly disease, or fantastical creatures."," "]}),(0,n.jsx)("br",{})," ",(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Faction:"})})," ","Noble Houses, Druidic Orders, and Corporations would all fall under the"," ",(0,n.jsx)("strong",{children:"factions"})," type."]}),(0,n.jsx)("br",{})," ",(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Concept:"})})," ","As the name suggests, ",(0,n.jsx)("strong",{children:"concepts"})," are pretty vague. It works best for immaterial things like laws, spells, or technologies."," "]}),(0,n.jsx)("br",{})," ",(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"History:"})})," ","Generate descriptions of events such as notable natural disasters, important festivals, or other ",(0,n.jsx)("strong",{children:"historic"})," occurrences."," "]}),(0,n.jsx)("br",{})," "]})},{disableBeacon:!0,target:".lorebook-generate",placement:"left-start",isFixed:!0,title:"Lorebook Generation 3/3",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Here we put a short description for the target or focus of our generation."}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["As always, ",(0,n.jsx)("i",{children:"the sky is the limit"}),"!"]}),(0,n.jsxs)("div",{children:["Experiment with your generation prompts to see what works best for"," ",(0,n.jsx)("strong",{children:"you"}),"!"]}),(0,n.jsx)("br",{}),"You can generate different outputs or continue generating by pressing the"," ",(0,n.jsxs)(B,{children:[(0,n.jsx)(h.qxZ,{highlight:!0,style:{display:"inline-block",position:"relative",top:"5px",width:"10px",marginRight:"4px"}}),(0,n.jsx)("strong",{children:"Send Button"})]})," ","or retry the previous AI generation with the"," ",(0,n.jsxs)("strong",{children:[(0,n.jsxs)(B,{children:[(0,n.jsx)(h.jfu,{highlight:!0,style:{display:"inline-block",position:"relative",top:"5px",width:"13px",marginRight:"4px"}}),"Reload Button"]}),"."]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","View and restore any previous AI generations by opening the"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Generation History"})})," ","below the generation buttons! Please keep in mind that they are session-specific and will be lost if you ",(0,n.jsx)("strong",{children:"reload"})," NovelAI."]})]})},{disableBeacon:!0,target:".lorebook-add-context",placement:"left-start",isFixed:!0,title:"Lorebook Generation Context",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["As an advanced feature you can select the Add Context option to let the AI refer to your"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Memory"})})," ","and/or"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Author's Note"})}),". ",(0,n.jsx)("i",{children:"This is not enabled by default and must be activated manually."})]}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","The Generator does not know what your Story Text includes and it can only",(0,n.jsx)("strong",{children:" reference"})," the"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Memory"})})," ","or"," ",(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Author's Note"})})," ","if it is enabled by you!"]})]})},{disableBeacon:!0,target:".lorebook-keys",placement:"left-start",isFixed:!0,title:"Lorebook Keys",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"The most important part of your Lorebook! You have to assign Lorebook Keys to each of your entries or the AI will not be able to refer to their information when the subjects of your Lorebook appear in your story!"}),(0,n.jsxs)(R,{children:[(0,n.jsx)(B,{children:(0,n.jsx)("strong",{children:"Tip:"})})," ","Pick as ",(0,n.jsx)("strong",{children:"many"})," or as ",(0,n.jsx)("strong",{children:"few"})," keys that encompass your Lorebook subject. You can have them naturally appear in the story text or force them to activate through your inputs whenever you want the AI to call up the desired Lorebook information!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".story-stats-button",placement:"left-start",isFixed:!0,title:"View Story Stats",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Here you can find detailed information regarding your story, as well as some handy trim options!"}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:["Take a closer look at how your story is set up! Explore just how much, or little you've worked with the AI to create your latest masterpiece!"," "]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Generate Additional Stats"})})," ","analyzes your data to show you your total word and sentence count alongside your most used words!"]}),(0,n.jsx)("strong",{}),(0,n.jsxs)(R,{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Tip:"})})," ",(0,n.jsx)("strong",{children:"Trimming"})," your story removes your ",(0,n.jsx)("strong",{children:"Retry"})," story branches! ",(0,n.jsx)("strong",{children:"Flattening"})," your story removes your"," ",(0,n.jsx)("strong",{children:"Edit"})," history!"]})]})},{disableBeacon:!0,spotlightClicks:!1,target:".infobar-export",placement:"left-start",isFixed:!0,title:"Saving & Exporting",content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:["Whew! that's all a lot to take in! Luckily, we are at the last step,",(0,n.jsx)(B,{children:"Saving & Exporting"})," your work!"]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Export to File:"})})," ","Downloads the story as a .story file. This includes"," ",(0,n.jsx)("strong",{children:"all your Retry & Edit branches"}),"."," "]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Export as Scenario:"})})," ","Downloads the story as a .scenario file. This excludes all your Retry & Edit branches, turning your story text into the starting"," ",(0,n.jsx)(E,{children:"prompt text"}),"."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Export to Clipboard:"})})," ","Copies your story to your clipboard in JSON format."," ",(0,n.jsx)("i",{children:"If your story is very long it might lag!"})]}),(0,n.jsxs)(R,{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B,{children:"Tip:"})}),"Keep in mind which export versions retain your previous generations & retry branches before you share them, since others may view those!"]})]})}],[]);switch(u.state){case 0:default:e=es;break;case 1:e=el;break;case 3:e=eh}let[eg,eu]=(0,a.useState)(!1);(0,k.md)(d.x1);let{trialActivated:ep}=(0,T.R9)();return!i.noAccount&&ep&&i.keystoreReady?(0,n.jsxs)(n.Fragment,{children:[!q&&(0,j.cv)(i.settings,"tutorialSeen")||700>(window.visualViewport?.width||window.innerWidth)?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(A.A,{onRequestClose:()=>{},isOpen:-1===u.state,type:A.q.Large,children:(0,n.jsxs)(D,{children:[(0,n.jsx)(P,{}),(0,n.jsx)(O,{children:(0,n.jsx)(h.C65,{})}),(0,n.jsx)(W,{children:t.textTutorial.welcome}),(0,n.jsx)(H,{style:{whiteSpace:"pre-wrap"},children:t.textTutorial.welcomeDesc}),(0,n.jsx)(Y,{children:t.textTutorial.chooseATutorial}),(0,n.jsxs)(z,{children:[(0,n.jsxs)(ei,{disabled:eg,onClick:async()=>{(0,C.I4)("TutorialSelect",{props:{option:"Storyteller"}});let e=await ec();p.C.stories.set(e.metadata.id,e.metadata),p.C.storyContentCache.set(e.metadata.id,e.content),f([e.metadata.id,...x]),w({loaded:!1,id:e.metadata.id}),y(e.metadata.save(!0)),ea(e.metadata.id),eu(!0);try{await new Promise((e,t)=>{let i=n=>{n>=100&&t(null),document.querySelector(".ProseMirror")?setTimeout(()=>e(null),100):setTimeout(()=>i(n+1),100)};setTimeout(()=>i(0),100)})}catch(e){eu(!1),(0,v.vV)(e,!1)}setTimeout(()=>{m(e=>({...e,state:0})),eu(!1)},100)},children:[(0,n.jsx)(h.N$i,{}),(0,n.jsx)(Q,{children:t.textTutorial.storyteller}),(0,n.jsx)($,{children:t.textTutorial.storytellerDesc}),(0,n.jsx)(ee,{children:t.textTutorial.recommended})]}),(0,n.jsxs)(ei,{disabled:eg,onClick:async()=>{(0,C.I4)("TutorialSelect",{props:{option:"Text Adventure"}});let e=await ed();p.C.stories.set(e.metadata.id,e.metadata),p.C.storyContentCache.set(e.metadata.id,e.content),f([e.metadata.id,...x]),w({loaded:!1,id:e.metadata.id}),y(e.metadata.save(!0)),ea(e.metadata.id),eu(!0);try{await new Promise((e,t)=>{let i=n=>{n>=100&&t(null),document.querySelector(".ProseMirror")?setTimeout(()=>e(null),100):setTimeout(()=>i(n+1),100)};setTimeout(()=>i(0),100)})}catch(e){eu(!1),(0,v.vV)(e,!1)}setTimeout(()=>{m(e=>({...e,state:1})),eu(!1)},100)},children:[(0,n.jsx)(h.aNL,{}),(0,n.jsx)(Q,{children:t.textTutorial.textAdventure}),(0,n.jsx)($,{children:t.textTutorial.textAdventureDesc}),(0,n.jsx)(ee,{children:t.textTutorial.workInProgress})]})]}),(0,j.cv)(i.settings,"tutorialSeen")&&(0,n.jsx)(Z,{children:(0,n.jsx)(l.ur,{onClick:async()=>{(0,C.I4)("TutorialSelect",{props:{option:"Advanced Tutorial"}});let e=await ec();p.C.stories.set(e.metadata.id,e.metadata),p.C.storyContentCache.set(e.metadata.id,e.content),f([e.metadata.id,...x]),w({loaded:!1,id:e.metadata.id}),y(e.metadata.save(!0)),J(!0),et(0),ea(e.metadata.id),eu(!0);try{await new Promise((e,t)=>{let i=n=>{n>=100&&t(null),document.querySelector(".ProseMirror")?setTimeout(()=>e(null),100):setTimeout(()=>i(n+1),100)};setTimeout(()=>i(0),100)})}catch(e){eu(!1),(0,v.vV)(e,!1)}setTimeout(()=>m(e=>({...e,state:3})),100)},children:t.textTutorial.advancedTutorial})}),(0,n.jsx)(U,{children:(0,n.jsx)(l.Dp,{onClick:()=>{(0,C.I4)("TutorialSelect",{props:{option:"Skip"}}),en(),K(!1)},children:t.textTutorial.noThanks})})]})}),(0,n.jsx)(A.A,{onRequestClose:()=>{},isOpen:2===u.state,type:A.q.Large,children:(0,n.jsxs)(D,{style:{maxWidth:"350px"},children:[(0,n.jsx)(O,{children:(0,n.jsx)(h.Wdv,{})}),(0,n.jsx)(W,{children:t.textTutorial.youreReadyToGo}),(0,n.jsx)(H,{children:t.textTutorial.congratulations}),(0,n.jsx)(V,{style:{marginBottom:"20px"},onClick:()=>{(0,C.I4)("TutorialFinish",{props:{option:"Basic Tutorial"}}),m(e=>({...e,state:-1})),K(!1),en()},children:t.textTutorial.letMeIn}),(0,n.jsxs)(H,{style:{marginBottom:"20px"},children:[t.textTutorial.returnText[0],(0,n.jsx)(B,{children:t.textTutorial.returnText[1]}),t.textTutorial.returnText[2],"\xa0",(0,n.jsx)(S.fh,{className:"user-avatar",style:{marginRight:"0",cursor:"normal",display:"inline-block",height:"1.5rem",width:"1.5rem",position:"relative",top:"-2px"},children:(0,n.jsx)(I.H,{size:26})}),"\xa0",(0,n.jsx)(B,{children:t.textTutorial.returnText[3]}),t.textTutorial.returnText[4],(0,n.jsx)("br",{}),t.textTutorial.advancedTutorialText[0],(0,n.jsx)(B,{children:t.textTutorial.advancedTutorialText[1]}),t.textTutorial.advancedTutorialText[2]]})]})}),(0,n.jsx)(A.A,{onRequestClose:()=>{},isOpen:4===u.state,type:A.q.Large,children:(0,n.jsxs)(D,{style:{maxWidth:"350px"},children:[(0,n.jsx)(O,{children:(0,n.jsx)(h.Wdv,{})}),(0,n.jsx)(W,{children:t.textTutorial.huzzah}),(0,n.jsx)(H,{style:{whiteSpace:"pre-wrap"},children:t.textTutorial.advancedComplete}),(0,n.jsx)(V,{onClick:()=>{(0,C.I4)("TutorialFinish",{props:{option:"Advanced Tutorial"}}),m(e=>({...e,state:-1})),K(!1),en()},children:t.textTutorial.letsGo})]})}),(0,s.createPortal)((0,n.jsx)(o.Ay,{steps:e,run:0===u.state||1===u.state||3===u.state,tooltipComponent:eo,continuous:!0,showProgress:!0,styles:{options:{arrowColor:c.colors.bg2}},disableOverlayClose:!0,spotlightClicks:!0,disableScrollParentFix:!0,disableScrolling:!0,floaterProps:{disableAnimation:!0},getHelpers:e=>m(t=>({state:t.state,next:e.next,prev:e.prev}))}),document.body)]}):(0,n.jsx)(n.Fragment,{})}async function ec(){let e=u.HB.deserialize(JSON.stringify(y));return e.metadata.createdAt=new Date,e.metadata.lastUpdatedAt=new Date,e.metadata.id=(0,c.A)(),e}async function ed(){let e=u.HB.deserialize(JSON.stringify(w));return e.metadata.createdAt=new Date,e.metadata.lastUpdatedAt=new Date,e.metadata.id=(0,c.A)(),e}},13331:(e,t,i)=>{"use strict";i.d(t,{C2:()=>L,Hd:()=>E,Ij:()=>B});var n=i(27481),o=i(39612),r=i(48370),a=i(97223),s=i(71928),c=i(46181),d=i(73484),l=i(83513),h=i(50761),g=i(2834),u=i(20790),p=i(8255),m=i(73060),x=i(68658),f=i(9713),b=i(84601),y=i(21715),w=i(16143),v=i(98883),j=i(78072),A=i(67665),S=i(61695),I=i(89441).Buffer;let k="";function C(e){let t=new Map;return async function(){for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];let r=function(e){let t=e.map(e=>I.isBuffer(e)?`buffer:${e.toString("base64")}`:e&&"object"==typeof e?JSON.stringify(e):String(e)).join("|");return(0,A.createHmac)("sha256","image-function-cache-key").update(t).digest("hex")}(n);if(t.has(r)){let e=t.get(r);return I.isBuffer(e)?I.from(e):e}let a=await e(...n),s=I.isBuffer(a)?I.from(a):a;return t.set(r,s),I.isBuffer(a)?I.from(a):a}}let T=C(o.k2),N=C(o.rX);async function M(e,t,i){if(i=JSON.parse(JSON.stringify(i)),t.includes(o.Gp)||i.uc.includes(o.Gp)||i.characterPrompts.some(e=>e.prompt.includes(o.Gp)||e.uc.includes(o.Gp))){let n=I.isBuffer(e)?e:await j.W3.getImageBuffer(e.data[0]);if(!n)return{prompt:t,params:i};let o=(await (0,f.eY)(n)).find(e=>"Comment"===e.keyword);if(o){let e=JSON.parse(o.text);e&&e.actual_prompts&&(t===e.prompt&&(t=e.actual_prompts?.prompt?.base_caption),i.uc===e.uc&&(i.uc=e.actual_prompts?.negative_prompt?.base_caption),i.characterPrompts.length===e.v4_prompt.caption.char_captions.length&&(i.characterPrompts=e.v4_prompt?.caption?.char_captions?.map((t,n)=>({...i.characterPrompts[n],prompt:t.char_caption===i.characterPrompts[n].prompt?e.actual_prompts?.prompt?.char_captions[n]?.char_caption??i.characterPrompts[n].prompt:i.characterPrompts[n].prompt}))),i.characterPrompts.length===e.v4_negative_prompt.caption.char_captions.length&&(i.characterPrompts=e.v4_negative_prompt?.caption?.char_captions?.map((t,n)=>({...i.characterPrompts[n],uc:t.char_caption===i.characterPrompts[n].uc?e.actual_prompts?.negative_prompt?.char_captions[n]?.char_caption??i.characterPrompts[n].uc:i.characterPrompts[n].uc}))))}}return{prompt:t,params:i}}function B(){let{capture:e}=(0,l.A)(),t=(0,d.B2)(),i=(0,g.md)(a.Nn);(0,g.Xr)(a.Uv),(0,g.Xr)(a.ms);let[h,f]=(0,g.fp)(a.A6),[A,C]=(0,g.fp)(a.Ui),T=(0,p.Ay)(),B=(0,g.Xr)(o.tv),E=(0,g.md)(o.Sr),L=(0,g.Xr)(a.Ak),_=(0,w.C)(),{remainingImageActions:F}=(0,v.R9)(),G=(0,g.Xr)(a.Wg),R=(0,S.Q)(),D=(0,m.yF)((0,x.useCallback)(async(e,i,d,l,g,u,m,x,w,v,j,A,S)=>{let I=e(a.Nn);if(h){(0,n.oR)("Already generating an image",{type:"info"}),f(!1),A();return}if(I.noAccount||!(0,c.Tx)(I)){L(!0),f(!1),A();return}try{let e={...g};if((e.width??0)*(e.height??0)>o.xM){(0,n.oR)(`Image size is too large. Total size cannot exceed ${o.xM} pixels.`,{type:"error"}),f(!1),A();return}let i=(0,r.PE)(d);if(i.autoSmea&&(e.autoSmea&&e.width*e.height>=(0,o.XW)(d)?e.sm=!0:e.autoSmea&&(e.sm=!1,e.sm_dyn=!1),delete e.autoSmea),void 0===e.seed&&(e.seed=(0,o.vo)()),e.image&&(e.image=await (0,o.rX)(e.image,S?.transparent?"transparent":"white",e.height,e.width,!1),e.image&&(e.sm=!1,e.sm_dyn=!1),void 0===e.extra_noise_seed&&(e.extra_noise_seed=e.seed-1)),S?.action==="img2img"&&(e.color_correct=!1),e.mask&&(e.mask=await N(e.mask,"black",e.height,e.width,!1,!1)),i.img2imgInpainting&&e.mask&&(e.inpaintImg2ImgStrength??1)!==1?e.img2img={strength:e.inpaintImg2ImgStrength??1,color_correct:!0}:delete e.img2img,e.controlnet_condition&&(e.controlnet_condition=await N(e.controlnet_condition,"white",e.height,e.width,!1)),m.length>0&&i.vibetransfer&&0===x.length){let o=!1,r=(0,p.J1)();if(i.encodedVibes){if(!e.mask){let i=[],a=[];for(let[e,c]of m.entries()){if(!1===c.enabled){a.push(e);continue}let l=await r.get(c.id);if(l){let r=await p.SW.getEncoding(c.id,d,{information_extracted:c.information_extracted,mask:c.mask}).catch(e=>{(0,s.vV)(e),(0,n.oR)(t.image.vibeTransferStorageFailedToAccess+`
${e.message??e}`,{type:"error"}),o=!0});if(o)return void f(!1);if(r)i.push(r);else{if(l.type===p.t.encoding){a.push(e);continue}if(!l.image){(0,n.oR)(t.image.vibeTransferNoImageCantEncode,{type:"error"}),f(!1);return}let r=await T.encodeVibeImage({id:c.id,image:l.image,model:d,params:{information_extracted:c.information_extracted,mask:c.mask}}).catch(e=>{if(e?.statusCode===401){(0,n.oR)(t.image.sessionExpired,{type:"error"}),o=!0;return}(0,n.oR)(`[${e.correlationId}] Error encoding vibe transfer image: `+(e.message??e),{type:"error",toastId:"error-generating-image-2"}),n.oR.update("error-generating-image-2",{render:`[${e.correlationId}] Error encoding vibe transfer image: `+(e.message??e),type:"error"}),o=!0});if(o)return void f(!1);if(r)i.push(r);else{(0,n.oR)(t.image.vibeTransferNoImageButRequired,{type:"error"}),f(!1);return}}}else{(0,n.oR)(t.image.vibeTransferNotInStorage,{type:"error"}),f(!1);return}}if(e.reference_image_multiple=i,e.reference_strength_multiple=[...m].filter((e,t)=>!a.includes(t)).map(e=>e.strength),e.normalize_reference_strength_multiple&&e.reference_strength_multiple.length>1){let t=e.reference_strength_multiple.reduce((e,t)=>e+Math.abs(t),0);0!==t&&t>1&&(e.reference_strength_multiple=e.reference_strength_multiple.map(e=>e/t))}}}else{m=m.filter(e=>!1!==e.enabled);let i=await Promise.all(m.map(async e=>{let i=await r.get(e.id);if(i){if(i.image)return i.image;throw Error(t.image.vibeTransferNoImageButRequired)}throw Error(t.image.vibeTransferNotInStorage)}));e.reference_image_multiple=await Promise.all(i.map(async e=>await N(e,"black",448,448,!1,!0,!0))),e.reference_information_extracted_multiple=m.map(e=>e.information_extracted),e.reference_strength_multiple=m.map(e=>e.strength)}}if(x.length>0&&i.characterReferences&&!e.mask){let t=x.map(e=>e.image.toString("base64"));e.director_reference_images=await Promise.all(t.map(async e=>(0,o.Q6)(e,d))),e.director_reference_descriptions=x.map(e=>({caption:{base_caption:e.description,char_captions:[]},legacy_uc:!1})),e.director_reference_information_extracted=x.map(e=>e.information_extracted),e.director_reference_strength_values=x.map(e=>1),e.director_reference_secondary_strength_values=x.map(e=>1-e.fidelity)}if(!(0,o.Dk)(e,d)){(0,n.oR)("Invalid parameters",{type:"error"}),f(!1),A();return}!i.hasFurryMode||l!==r.qx.furry||u.startsWith("fur dataset")||u.startsWith("background dataset")||(u="fur dataset, "+u);let a=JSON.stringify({prompt:u,model:d,...e});if(a===k&&!S?.force&&!u.includes(o.Gp)&&!e.uc.includes(o.Gp)&&!e.characterPrompts.some(e=>e.prompt.includes(o.Gp)||e.uc.includes(o.Gp))){(0,n.oR)("Identical parameters to last generation. You may want to change or remove the image seed.",{type:"info"}),f(!1),A();return}if(e.height%(0,o.$d)(d)!=0&&(e.height=(0,o.If)(e.height,(0,o.$d)(d))),e.width%(0,o.$d)(d)!=0&&(e.width=(0,o.If)(e.width,(0,o.$d)(d))),e.n_samples=(0,o.wQ)(e.width,e.height,e.n_samples),(0,o.k5)(e,d)){(0,n.oR)(`This combination of sampling type (${e.sampler}) and steps (${e.steps}) is known to error. Please change either setting and try again.`,{type:"warning"}),f(!1),A();return}(0,r.PE)(d).v4Prompts&&(e.characterPrompts=e.characterPrompts.filter(e=>e.prompt.length>0&&(e.enabled??!0)),e.v4_prompt={},e.v4_prompt.caption={base_caption:u},e.v4_prompt.caption.char_captions=e.characterPrompts.map(e=>({char_caption:e.prompt,centers:[{x:e.center.x,y:e.center.y}]})),e.v4_negative_prompt={},e.v4_negative_prompt.caption={base_caption:e.uc},e.v4_negative_prompt.caption.char_captions=e.characterPrompts.map(e=>({char_caption:e.uc,centers:[{x:e.center.x,y:e.center.y}]})),e.v4_prompt.use_coords=e.use_coords,e.v4_prompt.use_order=!0,e.v4_negative_prompt.legacy_uc=e.legacy_uc);let h=(0,o.t1)({height:e.height,width:e.width,steps:e.steps,characterRef:x.length>0&&!!i.characterReferences}),M=(0,c.ax)(I.subscription)&&3===I.subscription.tier&&h,L=(0,r.r2)(I,u,d,S?.action||"generate",{...e},F>0&&(0,o.t1)({height:e.height,width:e.width,steps:e.steps}));if(f(!0),await w(e),S?.noStream!==!0&&(0,b.cv)(I.settings,"streamImageGeneration")&&i.streamedResponses&&E<3){let i=Array.from({length:e.n_samples},()=>!1);L.requestStream(async(t,n,o,r,s)=>{if(r&&(r=Math.round(100*r)/100),B(r),k=a,n&&await v(n,`${t}`,e,o),o&&(i[t]=!0),s){for(let e=0;e<8;e++)i.some(e=>!e)&&await new Promise(e=>setTimeout(e,1e3));f(!1),j(),B(1),setTimeout(()=>{B(e=>1===e?null:e)},400)}},async(o,r,a)=>{if(void 0===o)throw(0,s.UD)(r,{correlationId:r.correlationId,fatal:!0,streamed:!0}),r;(0,s.UD)(r,{correlationId:r.correlationId,fatal:!1,streamed:!0}),await v(null,`${o}`,e,!0),i[o]=!0,(0,n.oR)(`[${r.correlationId}] `+(0,y.LP)(t.image.imageXFailedWithErrorY,(o+1).toString(),r.message),{type:"error"}),a&&(f(!1),j(),B(null))}).catch(e=>{if(A(),e?.message.includes("Not enough Anlas"))return void _();if(e?.statusCode===401){(0,n.oR)(t.image.sessionExpired,{type:"error"}),R();return}if(e?.message.toLowerCase().includes("recaptcha"))return void G(!0);if((0,s.UD)(e,{correlationId:e.correlationId,fatal:!0,streamed:!0}),f(!1),B(null),"Failed to fetch"===e.message)return void(0,n.oR)("Unable to connect to NovelAI, please check your internet connection.",{type:"error"});if(e.message.includes("not available for active Paddle subscribers")){C(!0),(0,n.oR)("You must migrate your subscription to use this model.");return}(0,n.oR)(`[${e.correlationId}] `+`${e.message??JSON.stringify(e)??"There was an error generating your image."}`.replace(/training steps/g,"Anlas"),{type:"error"})})}else{let i=!1,o=5,r=setTimeout(()=>{i=!0,(0,n.oR)(`[${L.id}] Generation timed out.`,{type:"error"}),f(!1)},12e4),c=()=>{o--,L.request().then(async t=>{if(!i){for(let[i,n]of(clearTimeout(r),k=a,Object.entries(t)))await v(n,i,e,!0);f(!1),j()}}).catch(e=>{if(A(),e?.statusCode===402)return void _();if(e?.statusCode===401){(0,n.oR)(t.image.sessionExpired,{type:"error"}),R();return}if(e?.message.toLowerCase().includes("recaptcha"))return void G(!0);if((0,s.UD)(e,{correlationId:e.correlationId,fatal:!0,streamed:!1}),!i){if(o>0&&e?.statusCode>=500&&M)return void c();if(clearTimeout(r),f(!1),"Failed to fetch"===e.message)return void(0,n.oR)("Unable to connect to NovelAI, please check your internet connection.",{type:"error"});if(e.message.includes("not available for active Paddle subscribers")){C(!0),f(!1),(0,n.oR)("You must migrate your subscription to use this model.");return}(0,n.oR)(`[${e.correlationId}] `+`${e.message??JSON.stringify(e)??"There was an error generating your image."}`.replace(/training steps/g,"Anlas"),{type:"error"})}})};c()}}catch(t){if(A(),t.message.includes("not available for active Paddle subscribers")){C(!0),f(!1),(0,n.oR)("You must migrate your subscription to use this model.");return}(0,s.UD)(t,{correlationId:t.correlationId,fatal:!0,streamed:!1});let e=`[${t.correlationId}] Error generating image: `+(t.message??t);(0,n.oR)(e,{type:"error",toastId:"error-generating-image-2"}),n.oR.update("error-generating-image-2",{render:e,type:"error"}),f(!1);return}},[h,f,L,_,C,E]));return{generateNormal:e=>{let t={...e.params};e.initImage&&(t.image=e.initImage.toString("base64")),t.characterPrompts=e.characterPrompts||[];let i=e.params.qualityToggle?(0,o.vG)(e.prompt,e.model):e.prompt;t.uc=e.options.skipUcSolve?e.negPrompt:(0,o.s3)(e.model,e.params.ucPreset,i,e.negPrompt),D(e.model,e.modelMode,t,i,e.referenceImages,e.characterReferences,e.onStartingGeneration,e.onImage,e.onComplete,e.onCancel,{force:e.options.force,action:e.initImage?"img2img":"generate",transparent:e.options.transparent,noStream:e.options.noStream,skipUcSolve:e.options.skipUcSolve})},generateEnhance:async e=>{let i={...e.params};i.width=Math.floor(e.enhanceImage.width*e.enhanceScale),i.height=Math.floor(e.enhanceImage.height*e.enhanceScale),i.n_samples=1;let a=await j.W3.getBase64Image(e.enhanceImage.data[e.selectedVariant]);if(!a)return void(0,n.oR)(t.image.imageNotFoundInStorage,{type:"error"});i.image=a;let s=e.params.qualityToggle?(0,o.vG)(e.prompt,e.model):e.prompt;i.uc=(0,o.s3)(e.model,e.params.ucPreset,s,e.negPrompt),i.strength=e.enhanceStrength,i.noise=e.enhanceNoise,i.seed=(0,o.vo)(),i.characterPrompts=e.characterPrompts||[];let c=await M(e.enhanceImage.promptRandomizerOriginImage??e.enhanceImage,s,i);s=c.prompt,i=c.params;let d=s;if((0,r.PE)(e.model).enhancePromptAdd&&!s.includes("upscaled, blurry")){let e=", -2::upscaled, blurry::,",t=d.match(o.US);if(t){let i=t.index??0;d=d.slice(0,i)+e+d.slice(i,d.length)}else d+=e}D(e.model,e.modelMode,i,d,e.referenceImages,e.characterReferences,e.onStartingGeneration,async(t,i,n,o)=>{await e.onImage(t,i,{...n},o)},e.onComplete,e.onCancel,{action:"img2img"})},generateVariations:async e=>{let{p:i,variationImage:r,selectedVariant:a,referenceImages:s,characterReferences:c,onStartingGeneration:d,onImage:l,onComplete:h,onCancel:g}=e,u=await j.W3.getBase64Image(r.data[a]);if(!u)return void(0,n.oR)(t.image.imageNotFoundInStorage,{type:"error"});let p={...i,n_samples:(0,o.wQ)(r.width,r.height,3),image:u,strength:.8,noise:.1,seed:Math.floor(0x100000000*Math.random()-1)},m=p.qualityToggle?(0,o.vG)(r.params.prompt,r.params.model):r.params.prompt;p.uc=(0,o.s3)(r.params.model,p.ucPreset,m,r.params.negPrompt);let x=await M(r,m,p),f=x.prompt,b=x.params;D(r.params.model,r.params.modelMode,b,f,s,c,d,l,h,g,{action:"img2img"})},generateReroll:(e,t,i,n,r)=>{let a={...e.image.params,n_samples:1,masks:e.masks.map(e=>({seed:e.seed,mask:e.mask.toString("base64")}))},s=a.qualityToggle?(0,o.vG)(e.image.params.prompt,e.image.params.model):e.image.params.prompt;a.uc=(0,o.s3)(e.image.params.model,a.ucPreset,s,e.image.params.negPrompt),D(e.image.params.model,e.image.params.modelMode,a,s,[],[],t,i,n,r,{action:"img2img"})},generateInfill:async e=>{let t,i,n,r,{model:a,params:s,prompt:c,negPrompt:d,characterPrompts:l,initImage:h,infillMask:g,onStartingGeneration:p,onImage:m,onComplete:x,onCancel:f,referenceImages:b,characterReferences:y,metadataImage:w,modelMode:v}=e,j=e.zoomArea,A={...s},S=h;S=await (0,o.eX)(S);let k=await (0,o.Sf)(h),C=g;if(j){let e=(0,u.fromPng)(C);t=8*(j={x:Math.max(0,j.x),y:Math.max(0,j.y),width:Math.min(j.width,e.width-j.x)-(j.x>0?0:j.x),height:Math.min(j.height,e.height-j.y)-(j.y>0?0:j.y)}).x,i=8*j.y,n=8*j.width,r=8*j.height;let{width:s,height:c}=(0,o.re)(n,r,1048576,(0,o.$d)(a));A.width=s,A.height=c,S=await (0,o.ys)(S,t,i,n,r),S=await (0,o.k2)(S,s,c),C=await (0,o.ys)(C,j.x,j.y,j.width,j.height)}else t=0,i=0,n=A.width,r=A.height;A.add_original_image=!1,C=await (0,o.k2)(C,A.width/8,A.height/8,!1),C=await (0,o.YM)(C,155);let T=(0,u.fromPng)(C),N=new o.mR,B=new Promise(e=>{N.replaceTransparent(T,[0,0,0,255]).then(t=>{N.dilate(t,t.width,t.height,4).then(t=>{N.linearScale(t,8).then(t=>{N.blur(t,0,0,t.width,t.height,20,2).then(t=>{N.alphaMatchRed(t).then(t=>{e(t)})})})})})});A.image=S.toString("base64"),A.mask=C.toString("base64");let E=s.qualityToggle?(0,o.vG)(c,a):c;if(A.uc=(0,o.s3)(a,s.ucPreset,E,d),A.characterPrompts=l||[],w){let e=await M(w.promptRandomizerOriginImage??w,E,A);E=e.prompt,A=e.params}D(a,v,A,E,b,y,p,async(e,a,c,d)=>{let l=await B,g=await (0,o.nd)(l);if(void 0!==t&&void 0!==i&&void 0!==n&&void 0!==r&&d&&e){let g=await (0,o.Fz)(e,l),u=I.from(c.image,"base64"),p=await (0,o.lE)(g,j?h:u,t,i,n,r,void 0,e);await m(p,a,{...c,width:j?k.width:s.width,height:j?k.height:s.height},d);return}await m(e,a,c,d,{mask:g,location:{xPercent:t/s.width,yPercent:i/s.height,widthPercent:n/s.width,heightPercent:r/s.height}})},x,f,{action:"infill"})},generateControlnet:(e,t,i,n,r,a,s,c,d,l)=>{let h={...i};h.controlnet_condition=a.toString("base64");let g=i.qualityToggle?(0,o.vG)(n,e):n;h.uc=(0,o.s3)(e,i.ucPreset,g,r),D(e,t,h,g,[],[],s,c,d,l,{action:"generate"})},upscaleImage:async(e,a,c,d)=>{if(!e)return;let l=await j.W3.getBase64Image(e.data[a]);if(!l)return void(0,n.oR)(t.image.imageNotFoundInStorage,{type:"error"});let h=I.from(l,"base64"),g=await (0,o.Sf)(h);return(0,r.OD)(i,l,g.width,g.height,4).request().then(e=>{e.forEach((e,t)=>{c(e,`${t}`)}),d(),f(!1)}).catch(e=>{if(f(!1),e?.message.includes("Not enough Anlas"))return void _();(0,n.oR)(`[${e.correlationId??"unknown"}] Error upscaling image: ${e.message??e}`,{type:"error"}),(0,s.vV)(e,!1)})},generateSameFeel:e=>{let{model:t,modelMode:i,params:n,prompt:r,negPrompt:a,characterPrompts:s,referenceImage:c,onStartingGeneration:d,onImage:l,onComplete:h,onCancel:g}=e,u={...n};u.reference_image=c.toString("base64");let p=n.qualityToggle?(0,o.vG)(r,t):r;u.uc=(0,o.s3)(t,n.ucPreset,p,a),u.characterPrompts=s||[],D(t,i,u,p,[],[],d,l,h,g,{action:"generate"})}}}function E(e,t){return new Promise((i,n)=>{let o=new Image;o.addEventListener("load",()=>{if(o.width*o.height<=t)return void i(e);let r=o.width/o.height,a=Math.sqrt(t*r),s=Math.sqrt(t/r),c=document.createElement("canvas");c.width=a,c.height=s;let d=c.getContext("2d");if(!d)return void n("Could not get canvas context");d.drawImage(o,0,0,a,s),c.toBlob(e=>{if(!e)return void n("Could not get blob from canvas");let t=new FileReader;t.addEventListener("load",()=>{if(!t.result)return void n("Could not get result from reader");i(I.from(t.result))}),t.readAsArrayBuffer(e)})}),o.src=URL.createObjectURL(new Blob([e],{type:"image/png"}))})}function L(){let e=(0,g.md)(a.Nn),[t,i]=(0,g.fp)(a.Uv),[n,s]=(0,g.fp)(a.A6),d=(0,g.Xr)(a.Ak),{remainingImageActions:l}=(0,v.R9)(),u=(0,x.useCallback)(e=>l>0&&(0,o.t1)({width:e.width,height:e.height,steps:e.steps||0}),[l]);return{bgRemoval:async(t,i)=>{if(e.noAccount||!(0,c.Tx)(e))return d(!0),[];let n={...i},{height:a,width:s}=(0,o.Bu)(i.width,i.height,o.xM-2e3);return a*s<1011712&&({height:a,width:s}=(0,o.Rj)(s,a,o.a4)),n.height=a,n.width=s,n.image=(await T(t.data,s,a)).toString("base64"),(0,r.b4)(e,h.e8.bgRemoval,n,!1).request()},declutter:async(t,i)=>{if(e.noAccount||!(0,c.Tx)(e))return d(!0),[];let n={...i},{height:a,width:s}=(0,o.Bu)(i.width,i.height,o.xM-2e3);return a*s<1011712&&({height:a,width:s}=(0,o.Rj)(s,a,o.a4)),n.height=a,n.width=s,n.image=(await T(t.data,s,a)).toString("base64"),(0,r.b4)(e,h.e8.declutter,n,u(n)).request()},declutterKeepBubbles:async(t,i)=>{if(e.noAccount||!(0,c.Tx)(e))return d(!0),[];let n={...i},{height:a,width:s}=(0,o.Bu)(i.width,i.height,o.xM-2e3);return a*s<1011712&&({height:a,width:s}=(0,o.Rj)(s,a,o.a4)),n.height=a,n.width=s,n.image=(await T(t.data,s,a)).toString("base64"),(0,r.b4)(e,h.e8.declutterKeepBubbles,n,u(n)).request()},lineart:async(t,i)=>{if(e.noAccount||!(0,c.Tx)(e))return d(!0),[];let n={...i},{height:a,width:s}=(0,o.Bu)(i.width,i.height,o.xM-2e3);return a*s<1011712&&({height:a,width:s}=(0,o.Rj)(s,a,o.a4)),n.height=a,n.width=s,n.image=(await T(t.data,s,a)).toString("base64"),(0,r.b4)(e,h.e8.lineart,n,u(n)).request()},sketch:async(t,i)=>{if(e.noAccount||!(0,c.Tx)(e))return d(!0),[];let n={...i},{height:a,width:s}=(0,o.Bu)(i.width,i.height,o.xM-2e3);return a*s<1011712&&({height:a,width:s}=(0,o.Rj)(s,a,o.a4)),n.height=a,n.width=s,n.image=(await T(t.data,s,a)).toString("base64"),(0,r.b4)(e,h.e8.sketch,n,u(n)).request()},colorize:async(t,i)=>{if(e.noAccount||!(0,c.Tx)(e))return d(!0),[];let n={...i},{height:a,width:s}=(0,o.Bu)(i.width,i.height,o.xM-2e3);return a*s<1011712&&({height:a,width:s}=(0,o.Rj)(s,a,o.a4)),n.height=a,n.width=s,n.image=(await T(t.data,s,a)).toString("base64"),(0,r.b4)(e,h.e8.colorize,n,u(n)).request()},emotion:async(t,i)=>{if(e.noAccount||!(0,c.Tx)(e))return d(!0),[];let n={...i},{height:a,width:s}=(0,o.Bu)(i.width,i.height,o.xM-2e3);return a*s<1011712&&({height:a,width:s}=(0,o.Rj)(s,a,o.a4)),n.height=a,n.width=s,n.image=(await T(t.data,s,a)).toString("base64"),(0,r.b4)(e,h.e8.emotion,n,u(n)).request()},upscale:async(t,i)=>{if(e.noAccount||!(0,c.Tx)(e))return d(!0),[];let n={...i};return n.image=t.data.toString("base64"),(0,r.OD)(e,n.image,t.width,t.height,4).request()}}}},16143:(e,t,i)=>{"use strict";i.d(t,{C:()=>ei,Y:()=>P});var n=i(94458),o=i(2834),r=i(97223),a=i(83513),s=i(73484),c=i(68658),d=i(53875),l=i(46181),h=i(52746),g=i(55805),u=i(81336),p=i(92704),m=i(19058),x=i(48370),f=i(21715),b=i(96638),y=i.n(b),w=i(89077),v=i(84601),j=i(25660),A=i(41963),S=i(88587),I=i(71928),k=i(53710),C=i(41150),T=i(8403),N=i(41879),M=i(26546),B=i(27481),E=i(58286),L=i(38474),_=i(14666),F=i(6152),G=i(27524),R=i(61693),D=i(18849);function P(){let{capture:e}=(0,a.A)(),[t,i]=(0,o.fp)(r.Nn),[s,l]=(0,o.fp)(r.Uv),[g,m]=(0,o.fp)(r.ir),[x,f]=(0,o.fp)(r.ir),b=(0,c.useCallback)(t=>{l({open:!1,blocked:!1}),e("subscription:closed",{location:"settings",flow:t?"old":"new",page:t?x:g})},[e,g,x,l]),y=(0,c.useMemo)(()=>t.subscription.paymentProcessorData?.t===d.Br.PADDLE&&t.subscription.paymentProcessorData?.s==="active",[t.subscription]),w=(0,c.useMemo)(()=>y?(0,n.jsx)(R.Ay,{actionBlocked:s.blocked,onClose:()=>b(!0)}):(0,n.jsx)(X,{actionBlocked:s.blocked,onClose:()=>b(!1)}),[y,b,s.blocked]),v=(0,c.useMemo)(()=>{switch(t.subscription.tier){case 1:return(0,n.jsx)(p._Or,{style:{position:"absolute",top:"20px",left:"20px",height:"30px",width:"40px"},highlight:!0});case 2:return(0,n.jsx)(p.t2f,{style:{position:"absolute",top:"20px",left:"20px",height:"30px",width:"40px"},highlight:!0});case 3:return(0,n.jsx)(p.fGj,{style:{position:"absolute",top:"20px",left:"20px",height:"30px",width:"40px"},highlight:!0});default:return(0,n.jsx)(p.ueQ,{style:{position:"absolute",top:"20px",left:"20px",height:"30px",width:"40px"},highlight:!0})}},[t.subscription.tier]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(h.A,{type:h.q.Large,isOpen:s.open,shouldCloseOnOverlayClick:!0,onRequestClose:()=>{b(y),m(r.kT.Base)},style:{justifyContent:"flex-end"},noHeightCap:!0,children:(0,n.jsxs)(O,{children:[v,(0,n.jsx)(u.J,{onClick:()=>{b(y),m(r.kT.Base)},children:(0,n.jsx)("div",{})}),w]})})})}let O=g.Ay.div.withConfig({componentId:"sc-a555d5e0-0"})(["display:flex;flex-direction:column;justify-content:flex-start;position:relative;padding:20px;max-width:100vw;min-width:min(100vw,400px);max-height:100%;min-height:300px;overflow-y:auto;background-color:",";border-radius:3px;border:1px solid ",";padding-top:55px;gap:10px;"],e=>e.theme.colors.bg2,e=>e.theme.colors.bg3),W=g.Ay.div.withConfig({componentId:"sc-a555d5e0-1"})(["font-family:",";font-size:1.225rem;font-weight:600;color:",";"],e=>e.theme.fonts.headings,e=>e.theme.colors.textHeadings),H=g.Ay.div.withConfig({componentId:"sc-a555d5e0-2"})(["font-family:",";font-size:1rem;margin-bottom:1rem;color:",";"],e=>e.theme.fonts.default,e=>e.theme.colors.textMain),Y=(0,g.Ay)(w.$n).withConfig({componentId:"sc-a555d5e0-3"})(["border:1px solid "," !important;color:",";font-weight:bold;padding:0.6rem;justify-content:center;border-radius:5px;"],e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings),z=(0,g.Ay)(w.$n).withConfig({componentId:"sc-a555d5e0-4"})(["border:1px solid "," !important;color:",";font-weight:bold;padding:0.6rem;justify-content:center;border-radius:5px;"],e=>e.theme.colors.bg3,e=>e.theme.colors.textMain),U=g.Ay.div.withConfig({componentId:"sc-a555d5e0-5"})(["color:",";max-width:400px;"],e=>e.theme.colors.warning),Z=g.Ay.div.withConfig({componentId:"sc-a555d5e0-6"})(["position:relative;background-color:",";padding:50px 30px 30px 30px;display:flex;max-width:400px;width:100vw;flex-direction:column;gap:24px;border-radius:3px;"],e=>e.theme.colors.bg1),V=(0,g.Ay)(p.Wdv).withConfig({componentId:"sc-a555d5e0-7"})(["width:50px;height:50px;margin-top:60px;margin-bottom:40px;background:",";cursor:default;"],e=>e.theme.colors.textHeadings),q=g.Ay.div.withConfig({componentId:"sc-a555d5e0-8"})(["font-weight:600;font-family:",";font-size:1.375rem;color:",";"],e=>e.theme.fonts.headings,e=>e.theme.colors.textHeadings),K=g.Ay.div.withConfig({componentId:"sc-a555d5e0-9"})(["display:flex;flex-direction:column;align-items:stretch;justify-content:center;height:100%;gap:10px;overflow-y:auto;"]);function X(e){let t=(0,s.B2)(),{capture:i}=(0,a.A)(),[g,b]=(0,o.fp)(r.ir),[w,S]=(0,o.fp)(r.Nn),[L,_]=(0,c.useState)(""),F=(0,s.o)(),[G,R]=(0,c.useState)(!1);(0,o.md)(r.x1);let[D,P]=(0,c.useState)(""),O=(0,c.useRef)(null),[X,$]=(0,c.useState)(null),[ee,et]=(0,c.useState)(!1),[ei,en]=(0,c.useState)(""),[eo,er]=(0,c.useState)(""),[ea,es]=(0,c.useState)(0),ec=(0,C.n)(w.settings);(0,c.useEffect)(()=>()=>{O.current&&clearTimeout(O.current)},[]);let ed=(0,c.useCallback)(e=>{S(t=>{let i={...t,settings:{...t.settings,unsubSurveyShown:e}};return(0,A.c7)(t).saveSettings(i.settings),i})},[S]),el=(0,c.useRef)(null),[eh,eg]=(0,c.useState)(null),eu=(0,c.useCallback)(()=>{b(r.kT.Loading);let e=0;Promise.all([(0,x.H2)(w.auth_token).request().then(t=>{S({...w,subscription:t.subscription,priority:t.priority}),e=t.subscription.tier}).catch(e=>{_(`${e}`)}),(0,x.sA)(w.auth_token).request().then(e=>{eg(e)})]).then(()=>{el.current?(el.current(),el.current=null):0===e?b(r.kT.TierChoice):b(r.kT.Base)}).catch(e=>{(0,I.vV)(e),_(`${e}`)})},[w,b,S]),ep=(0,c.useCallback)((e,t)=>{b(r.kT.Loading);let i=0,n=()=>{(0,x.H2)(w.auth_token).request().then(o=>{e(o)?(S(e=>({...e,subscription:o.subscription,priority:o.priority})),_(""),b(r.kT.Base)):i<15?(O.current=setTimeout(n,2e3),++i):(_(t),O.current=setTimeout(n,2e3))}).catch(e=>{_(`${e}`)})};n()},[w.auth_token,b,S]),em=(0,c.useCallback)((e,t,i)=>{b(r.kT.Loading);let n=0,o=()=>{(0,x.sA)(w.auth_token).request().then(t=>{e(t)?(S(e=>({...e,user:t})),_(""),b(r.kT.Base)):n<15?(O.current=setTimeout(o,2e3),++n):(_(i),O.current=setTimeout(o,2e3))}).catch(e=>{_(`${e}`)})};o()},[w.auth_token,b,S]),ex=(0,c.useCallback)((e,t,i)=>{b(r.kT.Loading);let n=0,o=()=>{(0,x.kt)(w.auth_token).request().then(r=>{e(r)?(S(e=>({...e,user:r})),_(""),t(r)):n<15?(O.current=setTimeout(o,2e3),++n):(_(i),O.current=setTimeout(o,2e3))}).catch(e=>{_(`${e}`)})};o()},[w.auth_token,b,S]),ef=(0,c.useRef)(!1);(0,c.useEffect)(()=>{ef.current||(ef.current=!0,_(""),eu())},[]);let[eb,ey]=(0,c.useState)(null),ew=(0,c.useCallback)(async e=>{if(er((0,l.PB)(e)),(0,l.ax)(w.subscription)&&w.subscription.active){b(r.kT.TierChoiceUpgradeConfirmation),es(e);return}ey(e),b(r.kT.SubscribeBillingForm)},[w.auth_token,w.settings,w.subscription,b]),ev=(0,c.useCallback)(async e=>{if(w.subscription.paymentProcessorData?.t===d.Br.CHARGEBEE&&(w.subscription.paymentProcessorData?.s==="active"||w.subscription.paymentProcessorData?.s==="future")&&e<=w.subscription.tier)return void _(t.subscription.cannotDowngrade);let i=(0,x.s$)(w.auth_token,(0,l.PB)(e));try{(await i.request()).success&&ep(t=>t.subscription.tier===e,t.subscription.processingGeneric)}catch(e){(0,I.vV)(e),_(`${e}`)}},[ep,t.subscription.cannotDowngrade,t.subscription.processingGeneric,w.auth_token,w.subscription.paymentProcessorData?.s,w.subscription.paymentProcessorData?.t,w.subscription.tier]),ej=(0,c.useCallback)(()=>{(0,x.zF)(w.auth_token).request().then(()=>{i("subscription_canceled",{location:"subscription"}),ep(e=>e.subscription.paymentProcessorData?.s==="cancelled"||e.subscription.paymentProcessorData?.s==="paused"||null===e.subscription.paymentProcessorData,t.subscription.processingGeneric),ed(!0)}).catch(e=>{(0,I.vV)(e),_(`${e}`)})},[i,ep,t.subscription.processingGeneric,w.auth_token,ed]),eA=(0,c.useCallback)(async()=>(0,x.zJ)(w.auth_token).request().then(()=>{B.oR.success(t.subscription.paymentPIICleared),i("payment_pii_cleared",{location:"subscription"})}).catch(e=>{(0,I.vV)(e),_(`${e}`)}),[i,t.subscription.paymentPIICleared,w.auth_token]),eS=(0,c.useCallback)(()=>{(0,x.VD)(w.auth_token).request().then(e=>{"success"===e.status?(i("subscription_reactivated",{location:"subscription"}),ep(e=>e.subscription.paymentProcessorData?.s==="active",t.subscription.processingGeneric)):"payment_url"===e.status?(eC.current=!0,en(e.paymentUrl),b(r.kT.Payment)):_(t.subscription.reactivationFailed)}).catch(e=>{(0,I.vV)(e),_(`${t.subscription.reactivationFailed} ${e}`)})},[i,ep,t.subscription.processingGeneric,t.subscription.reactivationFailed,w.auth_token,b]),eI=(0,c.useCallback)(()=>{(0,x.vo)(w.auth_token,(0,v.cv)(w.settings,"uiLanguage")).request().then(e=>{e.url&&(eC.current=!0,en(e.url),b(r.kT.Payment))}).catch(e=>{(0,I.vV)(e),_(`${e}`)})},[w.auth_token,w.settings,b]);(0,c.useCallback)(()=>{(0,x.HO)(w.auth_token,(0,v.cv)(w.settings,"uiLanguage")).request().then(e=>{e.url&&(eC.current=!0,en(e.url),b(r.kT.Payment))}).catch(e=>{(0,I.vV)(e),_(`${e}`)})},[w.auth_token,w.settings,b]);let ek=(0,c.useCallback)(()=>{i("subscription_purchase:succeded",{product:eo,location:"subscription"}),(0,E.M)(eo),ep(e=>e.subscription.paymentProcessorData?.s==="active"||e.subscription.paymentProcessorData?.s==="future",t.subscription.paymentProcessing),S(e=>{let t=Date.now();return(0,A.c7)(e).saveSettings({...e.settings,subscriptionPurchaseAttempt:t}),{...e,settings:{...e.settings,subscriptionPurchaseAttempt:t}}})},[i,ep,t.subscription.paymentProcessing,eo,S]),eC=(0,c.useRef)(!1);(0,c.useEffect)(()=>{let e=e=>{eC.current&&("cb.close"===e.data&&(i("subscription_purchase:closed",{product:eo,location:"subscription"}),b(r.kT.Base),eC.current=!1),e.data?.key==="cb.success"&&(ek(),eC.current=!1))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[eC,i,eu,ep,t.subscription.paymentProcessing,ek,eo,b,S]);let eT=(0,c.useCallback)(()=>{b(r.kT.Base),P(""),_(""),e.onClose()},[e,b]),[eN,eM]=(0,c.useState)(null);(0,c.useEffect)(()=>{g===r.kT.TierChoiceUpgradeConfirmation?J(w,ea).then(e=>{eM(e)}).catch(e=>{(0,I.vV)(e),_(`${e}`),b(r.kT.Base)}):null!==eN&&eM(null)},[ea,g,w,b,eN]);let eB=(0,c.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=0,a=e=>(0,x.H2)(w.auth_token).request().then(n=>{n.subscription.tier||e?(i("gift_key:redeemed",{location:"subscription",giftKeyType:X?.giftKeyType}),S({...w,subscription:n.subscription,priority:n.priority}),b(r.kT.GiftKeyResult)):o<3?(O.current=setTimeout(a,2e3),++o):(_(t.subscription.processingGiftKey),O.current=setTimeout(a,2e3))}).catch(e=>{(0,I.vV)(e),_(`${e}`)});(0,x.q3)(w.auth_token,"giftkey",D,e,n).request().then(i=>{if($(i),e&&et(!0),i.requiresConfirmation){if("sub"===i.giftKeyType&&(w.subscription.paymentProcessorData?.t===d.Br.PADDLE||w.subscription.paymentProcessorData?.t===d.Br.CHARGEBEE)){_(t.subscription.cannotUseSubGiftKeyUnlessGifted),P(""),b(r.kT.GiftKeyInput);return}b(r.kT.GiftKeyConfirmation);return}P(""),setTimeout(()=>a("steps"===i.giftKeyType||e),2e3)}).catch(e=>{if(409===e.status)return void _(t.subscription.cannotSubGiftKey);(0,I.vV)(e),_(`${e}`),b(r.kT.GiftKeyInput)})},[i,D,X?.giftKeyType,t.subscription.cannotSubGiftKey,t.subscription.cannotUseSubGiftKeyUnlessGifted,t.subscription.processingGiftKey,w,b,S]),[eE,eL]=(0,o.fp)(r.ms);(0,c.useEffect)(()=>{if(eE.type!==r.sL.None){switch(eE.type){case r.sL.UpdatePaymentMethod:el.current=()=>{b(r.kT.UpdatePaymentMethodBillingForm)};break;case r.sL.Subscribe:el.current=()=>{b(r.kT.TierChoice)};break;case r.sL.AddBillingInformation:el.current=()=>{b(r.kT.AddAddressBillingForm)}}eL({type:r.sL.None,data:{}})}},[eE,eI,eL,b]);let e_=(0,c.useCallback)(()=>{b(r.kT.UpdatePaymentMethodBillingForm)},[b]),eF=(0,c.useMemo)(()=>{let o=(0,l.ax)(w.subscription),a=w.subscription.tier,s=w.subscription.paymentProcessorData?.s==="active"||w.subscription.paymentProcessorData?.s==="future",c=w.subscription.paymentProcessorData?.s==="cancelled"||w.subscription.paymentProcessorData?.s==="paused"||o&&null===w.subscription.paymentProcessorData,j=w.subscription.paymentProcessorData?.t===d.Br.CHARGEBEE,A=y().unix(w.subscription?.expiresAt??0).format("YYYY/MM/DD @ hh:mma"),I=w.subscription.paymentProcessorData?.t===d.Br.PADDLE_BUGGY,C=w.subscription.paymentProcessorData?.s==="payment_due";if(w.information.banStatus!==d.Af.NOT_BANNED)return(0,n.jsxs)(K,{style:{maxWidth:"500px"},children:[(0,n.jsx)(W,{children:t.ban.banned[0]}),(0,n.jsx)("div",{children:(0,n.jsx)("a",{href:"https://novelai.net/terms",target:"_blank",rel:"noreferrer",children:t.ban.banned[1]})}),(0,n.jsx)("div",{children:t.ban.banned[2]}),(0,n.jsx)("div",{children:t.ban.banned[3]}),(0,n.jsx)(z,{onClick:eT,children:t.cta.ok})]});switch(g){case r.kT.Loading:return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1},children:(0,n.jsx)(m.k,{visible:!0})});case r.kT.Base:return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(W,{children:C?t.subscription.paymentDue:o?(0,f.LP)(t.subscription.youAreSubscribedTo,F(a)):e.actionBlocked?t.subscription.needAsubscription:t.subscription.notSubscribed}),C&&(0,n.jsx)(U,{children:t.subscription.paymentDueText}),I&&(0,n.jsx)(H,{style:{maxWidth:"400px",whiteSpace:"pre-wrap"},children:t.subscription.invalidSubscriptionState}),o&&!I&&!C&&(0,n.jsx)(H,{children:s?(0,f.LP)(t.subscription.yourSubscriptionRenews,A):(0,f.LP)(t.subscription.yourSubscriptionEnds,A)}),!o&&!I&&!C&&(0,n.jsx)(Y,{onClick:()=>{i("subscription_tiers:clicked",{location:"subscription"}),b(r.kT.TierChoice)},children:t.subscription.takeMeThere}),o&&!I&&(0,n.jsxs)(n.Fragment,{children:[(s||C)&&(0,n.jsx)(z,{onClick:()=>{(0,v.cv)(w.settings,"unsubSurveyShown")?ej():R(!0)},children:t.subscription.unsubscribe}),c&&!C&&(0,n.jsx)(z,{onClick:()=>{i("reactivate_subscription:clicked",{location:"subscription"}),eS()},children:t.subscription.reactivate}),j&&s&&!C&&a<3&&(0,n.jsx)(z,{onClick:()=>{i("change_subscription:clicked",{location:"subscription"}),b(r.kT.TierChoice)},children:t.subscription.upgradeSubscription})]}),j&&(0,n.jsx)(z,{onClick:()=>{i("update_payment_method:clicked",{location:"subscription"}),e_()},children:t.subscription.selfServePortal}),!I&&!C&&(0,n.jsx)(z,{onClick:()=>{i("gift_key:clicked",{location:"subscription"}),b(r.kT.GiftKeyInput)},children:t.subscription.activateGiftKey})]});case r.kT.TierChoice:return(0,n.jsxs)(n.Fragment,{children:[ec&&!o&&(0,n.jsx)(T.yB,{children:(0,n.jsxs)(N.Ye,{children:[(0,n.jsx)(p.Vkb,{}),(0,n.jsx)("div",{style:{width:8}}),(0,n.jsxs)(N.wt,{style:{textAlign:"left",gap:8},children:[(0,n.jsx)("span",{children:t.subscription.alreadyPurchased[0]}),(0,n.jsx)("span",{children:(0,n.jsx)("b",{children:t.subscription.alreadyPurchased[1]})}),(0,n.jsx)("span",{children:(0,f.zw)(t.subscription.alreadyPurchased[2],"support@novelai.net").map((e,t)=>1===t?(0,n.jsx)("a",{href:`mailto:${e}`,children:e},t):(0,n.jsx)("span",{children:e},t))})]})]})}),(0,n.jsx)("div",{style:{overflowY:"auto"},children:(0,n.jsx)(Q,{tierClick:e=>{ew(e)}})})]});case r.kT.TierChoiceUpgradeConfirmation:return(0,n.jsxs)(K,{children:[null!==eN&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(W,{children:t.subscription.upgradeSubscription}),(0,n.jsxs)(H,{children:[(0,f.LP)(t.subscription.upgradeSubscriptionConfirm,F(w.subscription.tier),F(ea)),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,f.zw)(t.subscription.upgradeSubscriptionCharge,eN).map((e,t)=>1===t?(0,n.jsx)("strong",{children:e},t):(0,n.jsx)("span",{children:e},t))]}),(0,n.jsx)(Y,{onClick:()=>{ev(ea)},children:t.subscription.upgradeConfirm}),(0,n.jsx)(z,{onClick:()=>b(r.kT.Base),children:t.subscription.noTakeMeBack})]}),null===eN&&(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1},children:(0,n.jsx)(m.k,{visible:!0})})]});case r.kT.Payment:return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(h.A,{type:h.q.Large,onRequestClose:()=>{},isOpen:!0,style:{justifyContent:"flex-end",overflow:"hidden",width:"100vw",maxWidth:"100vw"},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.J,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"4px"},onClick:()=>{i("subscription_purchase:closed",{product:eo,location:"subscription"}),b(r.kT.Base),eC.current=!1},children:(0,n.jsx)("div",{})}),(0,n.jsx)(u.v,{title:"payment",src:ei})]})})});case r.kT.GiftKeyInput:return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(W,{children:t.subscription.activateGiftKey}),(0,n.jsx)("input",{placeholder:"Key",value:D,onChange:e=>P(e.target.value)}),(0,n.jsx)(Y,{onClick:()=>{eB(),i("gift_key:submitted",{location:"subscription"})},children:t.subscription.activate})]});case r.kT.GiftKeyResult:return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(k.oE,{}),(0,n.jsx)(V,{}),(0,n.jsx)(W,{children:t.subscription.giftKeySuccess}),(0,n.jsx)(H,{children:(0,n.jsxs)(q,{children:[X?.giftKeyType===x.W7.Subscription&&(0,n.jsx)(n.Fragment,{children:(0,f.LP)(t.subscription.giftKeySuccessSubscription,F(X?.tier??0))}),(X?.giftKeyType===x.W7.Steps||X?.giftKeyType===x.W7.SubAndSteps&&ee)&&(0,n.jsx)(n.Fragment,{children:(0,f.LP)(t.subscription.giftKeySuccessAnlas,X?.steps??"unknown number of")}),X?.giftKeyType===x.W7.SubAndSteps&&!ee&&(0,n.jsx)(n.Fragment,{children:(0,f.LP)(t.subscription.giftKeySuccessSubscriptionAndAnlas,F(X?.tier??0),X?.steps??"unknown number of")})]})}),(0,n.jsx)(z,{onClick:eT,style:{width:"100%"},children:t.cta.ok})]})});case r.kT.GiftKeyConfirmation:return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(K,{children:[(0,n.jsx)(W,{children:t.subscription.giftKeyConfirmation}),(0,n.jsxs)(H,{children:[X?.giftKeyType===x.W7.Subscription&&(0,n.jsxs)(n.Fragment,{children:[(0,f.zw)(t.subscription.giftKeySubscriptionAlreadySubbedConfirm[0],F(X?.tier??0),X?.duration?X?.duration/86400+" days":"unknown duration").map((e,t)=>1===t?(0,n.jsx)("strong",{children:e},t):(0,n.jsx)("span",{children:e},t)),(0,n.jsx)("br",{}),t.subscription.giftKeySubscriptionAlreadySubbedConfirm[1]]}),X?.giftKeyType===x.W7.SubAndSteps&&(0,n.jsxs)(n.Fragment,{children:[(0,f.zw)(t.subscription.giftKeySubcriptionAlreadySubbedAndAnlasConfirm[0],F(X?.tier??0),X?.duration?X?.duration/86400+" days":"unknown duration",X?.steps??"unknown number of").map((e,t)=>1===t?(0,n.jsx)("strong",{children:e},t):(0,n.jsx)("span",{children:e},t)),(0,n.jsx)("br",{}),w.subscription.paymentProcessorData?.t===d.Br.PADDLE||w.subscription.paymentProcessorData?.t===d.Br.CHARGEBEE?(0,n.jsx)(n.Fragment,{children:t.subscription.giftKeySubcriptionAlreadySubbedAndAnlasConfirm[1]}):(0,n.jsx)(n.Fragment,{children:t.subscription.giftKeySubcriptionAlreadySubbedAndAnlasConfirm[2]})]})]}),X?.giftKeyType===x.W7.SubAndSteps&&(0,n.jsx)(Y,{onClick:()=>{eB(!0),i("gift_key_redeem_just_anlas:submitted",{location:"subscription"})},children:t.subscription.redeemJustAnlas}),w.subscription.paymentProcessorData?.t!==d.Br.PADDLE&&w.subscription.paymentProcessorData?.t!==d.Br.CHARGEBEE&&(0,n.jsx)(Y,{onClick:()=>{eB(!1,!0),i("gift_key_replace:submitted",{location:"subscription"})},children:t.subscription.replaceSubscription}),(0,n.jsx)(z,{onClick:()=>b(r.kT.Base),children:t.subscription.noTakeMeBack}),L?(0,n.jsx)(U,{children:L}):null]})});case r.kT.SubscribeBillingForm:if(!eb)return(0,n.jsx)(n.Fragment,{});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(M.o,{purchaseType:M.p.Subscription,tier:eb,onFinish:ek})});case r.kT.UpdatePaymentMethodBillingForm:return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(M.o,{purchaseType:M.p.UpdatePaymentMethod,onFinish:()=>{em(e=>e?.primaryPaymentSourceStatus==="valid",e=>{e?.primaryPaymentSourceStatus==="valid"?((0,B.oR)(t.subscription.paymentMethodUpdated),b(r.kT.Base)):(e?.primaryPaymentSourceStatus==="expired"||e?.primaryPaymentSourceStatus==="invalid")&&(B.oR.error(t.billingForm.couldNotVerifyPaymentMethod),b(r.kT.Base))},t.billingForm.verifyingPaymentMethod)}})});case r.kT.AddAddressBillingForm:return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(M.o,{purchaseType:M.p.AddBillingAddress,onFinish:()=>{ex(e=>!e?.needsAddressChange,e=>{b(r.kT.AllSet),S(e=>({...e,information:{...e.information,needsAddressChange:!1}}))},t.billingForm.updatingBillingAddress)}})});case r.kT.ClearPaymentInfoConfirmation:return(0,n.jsxs)(K,{style:{maxWidth:"500px"},children:[(0,n.jsx)(W,{children:t.subscription.deletePaymentPII}),(0,n.jsx)(H,{children:t.subscription.clearPaymentInfoConfirmation}),(0,n.jsx)(Y,{onClick:()=>{i("delete_payment_details:clicked",{location:"subscription"}),eA().then(()=>{b(r.kT.Base)})},children:t.cta.yes}),(0,n.jsx)(z,{onClick:()=>b(r.kT.Base),children:t.cta.cancel})]});case r.kT.AllSet:return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",height:"100%"},children:[(0,n.jsx)("div",{style:{fontSize:"2rem",textAlign:"center",fontWeight:"500"},children:t.subscription.youreAllSet}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,n.jsx)(z,{onClick:()=>{eT()},children:t.common.continueYes})})]})});case r.kT.Error:return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(z,{onClick:eT,children:t.cta.ok})});default:return(0,n.jsx)(n.Fragment,{})}},[w.subscription,w.information.banStatus,w.settings,g,t.ban.banned,t.cta.ok,t.subscription.paymentDue,t.subscription.youAreSubscribedTo,t.subscription.needAsubscription,t.subscription.notSubscribed,t.subscription.paymentDueText,t.subscription.invalidSubscriptionState,t.subscription.yourSubscriptionRenews,t.subscription.yourSubscriptionEnds,t.subscription.takeMeThere,t.subscription.unsubscribe,t.subscription.reactivate,t.subscription.upgradeSubscription,t.subscription.selfServePortal,t.subscription.activateGiftKey,t.subscription.alreadyPurchased,t.subscription.upgradeSubscriptionConfirm,t.subscription.upgradeSubscriptionCharge,t.subscription.upgradeConfirm,t.subscription.noTakeMeBack,t.subscription.activate,t.subscription.giftKeySuccess,t.subscription.giftKeySuccessSubscription,t.subscription.giftKeySuccessAnlas,t.subscription.giftKeySuccessSubscriptionAndAnlas,t.subscription.giftKeyConfirmation,t.subscription.giftKeySubscriptionAlreadySubbedConfirm,t.subscription.giftKeySubcriptionAlreadySubbedAndAnlasConfirm,t.subscription.redeemJustAnlas,t.subscription.replaceSubscription,t.subscription.paymentMethodUpdated,eT,F,e.actionBlocked,i,b,ej,eS,e_,ec,ew,eN,ea,ev,ei,eo,D,eB,X?.giftKeyType,X?.tier,X?.steps,X?.duration,ee,L,eb,ek,S]);return(0,n.jsxs)(n.Fragment,{children:[eF,L?(0,n.jsx)(U,{children:L}):null,(0,n.jsx)(h.A,{type:h.q.Large,onRequestClose:()=>{R(!1)},isOpen:G,style:{justifyContent:"center"},children:(0,n.jsxs)(Z,{children:[(0,n.jsx)(u.J,{onClick:()=>{R(!1)},children:(0,n.jsx)("div",{})}),(0,n.jsx)(j.B,{onSurveyClose:e=>{ej(),R(!1),e||ed(!0)}})]})})]})}async function J(e,t){if(e.subscription.paymentProcessorData?.t!==d.Br.CHARGEBEE)return"[Error: Cannot calculate upgrade price for non-Chargebee subscriptions]";let i=(0,x.n$)(e.auth_token,(0,l.PB)(t)),n=0;async function o(){return i.request().then(e=>{let{amountMinorUnits:t,currency:i}=e;return"USD"===i?`$${(t/100).toFixed(2)}`:`${t} ${i}`}).catch(e=>{if(n<3)return n++,o();throw Error(`Could not calculate upgrade price: ${e}`)})}return o()}function Q(e){let[t,i]=(0,o.fp)(r.Uv),a=(0,s.B2)(),d=(0,o.md)(r.Nn),h=(0,C.n)(d.settings),[g,u]=(0,c.useState)("subscription"),m=(0,c.useMemo)(()=>(0,l.ax)(d.subscription),[d.subscription]),x=(0,L.useRouter)(),f=(0,c.useMemo)(()=>x.pathname.includes("/image"),[x.pathname]),b=(0,o.Xr)(r.ZZ),y=(0,o.Xr)(r.ir);return(0,n.jsxs)($,{style:{...f?{maxWidth:"800px"}:{}},children:[(t.blocked||t.payAsYouGo)&&(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[t.blocked&&(0,n.jsxs)(n.Fragment,{children:[f?(0,n.jsx)(p.mOs,{style:{width:50,height:50}}):(0,n.jsx)(p.iJr,{style:{width:50,height:50}}),(0,n.jsx)("div",{style:{height:37}}),(0,n.jsx)(_.Y9,{style:{fontSize:"1.375rem"},children:f?a.trial.imageTrialModalTitle:a.trial.textTrialModalTitle}),(0,n.jsx)("div",{style:{height:8}}),(0,n.jsx)("div",{style:{whiteSpace:"pre-wrap",fontSize:"0.875rem"},children:f?a.trial.imageTrialModalContent:a.trial.textTrialModalContent})]}),f&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{height:13}}),(0,n.jsx)(F.h,{name:"trialChoice",selected:g,choices:["subscription","payAsYouGo"],names:[a.trial.subscribe,a.trial.payAsYouGo],onChoiceSelected:e=>{u(e)}})]})]}),(0,n.jsx)("div",{style:{height:19}}),(0,n.jsxs)(ee,{children:["subscription"===g&&(0,n.jsx)(D.s,{priceMode:f?"image":"both",setPriceMode:void 0,anlasInformation:"none",shownTiers:f?[0,2]:void 0,useTheme:!0,topText:a.newLanding.exploreOurPlans,tierClick:t=>e.tierClick(t+1),disabled:[S.Nl||d.subscription.tier>=1&&m||!m&&h,S.Nl||d.subscription.tier>=2&&m||!m&&h,S.Nl||d.subscription.tier>=3&&m||!m&&h]}),"payAsYouGo"===g&&(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,n.jsx)("div",{style:{fontSize:"0.875rem"},children:a.newLanding.anlasExplanation}),G.Py.map((e,t)=>(0,n.jsx)(et,{onClick:()=>{i({open:!1,blocked:!1}),b(!0)},children:(0,n.jsxs)("div",{style:{borderRadius:8,padding:"12px 16px 16px 16px"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",fontSize:18,gap:4},children:[(0,n.jsx)(p.qeX,{}),(0,n.jsx)("div",{children:e.amount})]}),(0,n.jsx)("div",{style:{padding:"0px 4px"},children:e.imageCount})]}),(0,n.jsx)("div",{style:{height:16}}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-end",gap:8},children:[(0,n.jsx)("div",{style:{fontSize:44,fontWeight:700,lineHeight:"44px"},children:(0,n.jsx)(_.iK,{children:e.price})}),(0,n.jsx)("div",{style:{fontSize:28,lineHeight:"28px"},children:(0,n.jsx)(_.iK,{children:"USD"})})]})})]})},t)),(0,n.jsx)("div",{style:{fontSize:"0.875rem"},children:a.subscription.tierCards.finePrintImageCount})]})]}),(0,n.jsx)(w.Dp,{style:{opacity:.7,fontSize:"0.875rem",paddingTop:"10px"},onClick:()=>{y(r.kT.GiftKeyInput)},children:a.subscription.activateGiftKey})]})}let $=g.Ay.div.withConfig({componentId:"sc-a555d5e0-10"})(["min-width:280px;overflow:hidden;@media (max-width:800px){width:calc(100vw - 42px);}"]),ee=g.Ay.div.withConfig({componentId:"sc-a555d5e0-11"})(["padding:12px 12px;background-color:",";border-radius:8px;"],e=>e.theme.colors.bg0),et=(0,g.Ay)(w.Dp).withConfig({componentId:"sc-a555d5e0-12"})(["background-color:",";border-radius:8px;width:100%;"],e=>e.theme.colors.bg2);function ei(){let e=(0,o.Xr)(r.Uv),t=(0,o.Xr)(r.ms);return()=>{e({open:!0,blocked:!0}),t({type:r.sL.Subscribe,data:{}})}}},19539:(e,t,i)=>{"use strict";i.d(t,{bK:()=>a,pT:()=>s,tT:()=>r,yI:()=>o});var n=i(88587);function o(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number((e=Math.round(Number.parseFloat(e+"e"+t)))+"e"+-t)}(2+e/1111-.01,2)}function r(e){switch(e){case 2e3:return 4.79;case 5e3:return 8.19;case 1e4:return 13.99;default:throw Error("Invalid steps")}}function a(e){switch(e){case 2e3:return 479;case 5e3:return 819;case 1e4:return 1399;default:throw Error("Invalid steps")}}function s(e){switch(e){case 2e3:return n.BT;case 5e3:return n.W$;case 1e4:return n.MM;default:throw Error("Invalid steps")}}},21153:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n={src:"/_next/static/media/goose_right.f39c3257.svg",height:565,width:701,blurWidth:0,blurHeight:0}},25660:(e,t,i)=>{"use strict";i.d(t,{B:()=>m});var n=i(94458),o=i(96524),r=i(68658),a=i(44531),s=i(89077),c=i(19058),d=i(92704),l=i(73484),h=i(84601),g=i(97223),u=i(2834),p=i(21715);function m(e){let t=(0,l.B2)(),i=(0,u.md)((0,g.ey)("settings")),a=(0,r.useRef)(!1),d=(0,o.sf)(),[m,b]=(0,r.useState)(null),[y,w]=(0,r.useState)({});return((0,r.useEffect)(()=>{try{if(!d||a.current)return;a.current=!0,d.getSurveys(t=>{let n=(t=t.filter(e=>null===e.end_date)).find(e=>"NAI Attrition Survey"===e.name);(0,h.cv)(i,"uiLanguage")===p.TM.jp&&(n=t.find(e=>"NAI Attrition Survey (JP)"===e.name)),n?(b(n),d.capture("survey shown",{$survey_id:n.id})):e.onSurveyClose(!0)},!0)}catch{e.onSurveyClose(!0)}},[d]),m)?(0,n.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.questions.map((e,t)=>((e,t)=>{switch(e.type){case"multiple_choice":return(0,n.jsx)(f,{id:t.toString(),question:e.question,choices:e.choices,answer:y[t.toString()]??[],setAnswer:e=>{w(i=>({...i,[t.toString()]:e}))}},t);case"open":return(0,n.jsx)(x,{id:t.toString(),question:e.question,answer:y[t.toString()]??"",setAnswer:e=>{w(i=>({...i,[t.toString()]:e}))},collapses:!0},t);default:return null}})(e,t)),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"20px"},children:[(0,n.jsx)(s.ur,{onClick:()=>{e.onSurveyClose(!1),d.capture("survey dismissed",{$survey_id:m.id})},children:t.common.skip}),(0,n.jsx)(s.ur,{disabled:m.questions.some((e,t)=>!e.optional&&(void 0===y[t.toString()]||0===y[t.toString()].length)),onClick:()=>{if(m.questions.some((e,t)=>!e.optional&&(void 0===y[t.toString()]||0===y[t.toString()].length)))return;let t={};for(let e=0;e<m.questions.length;e++)0===e?t.$survey_response=y[e.toString()]:t[`$survey_response_${e}`]=y[e.toString()];d.capture("survey sent",{$survey_id:m.id,...t}),e.onSurveyClose(!1)},children:t.subscription.submitSurvey})]})]})}):(0,n.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,n.jsx)(c.k,{visible:!0})})}function x(e){let[t,i]=(0,r.useState)(!0);return e.collapses?(0,n.jsxs)("div",{children:[(0,n.jsxs)(s.Dp,{onClick:()=>{i(e=>!e)},style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px"},children:[(0,n.jsx)("h3",{style:{margin:0},children:e.question}),(0,n.jsx)("div",{style:{marginBottom:"0.2rem"},children:t?(0,n.jsx)(d.ZLN,{highlight:!0}):(0,n.jsx)(d.Kpk,{highlight:!0})})]}),!t&&(0,n.jsx)(a.A,{value:e.answer,onChange:t=>e.setAnswer(t.target.value),style:{width:"100%"},minRows:6,maxRows:16})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:e.question}),(0,n.jsx)(a.A,{value:e.answer,onChange:t=>e.setAnswer(t.target.value),style:{width:"100%",borderRadius:"3px"},minRows:8,maxRows:16})]})}function f(e){return(0,n.jsxs)("div",{style:{display:"flex",gap:"5px",flexDirection:"column"},children:[(0,n.jsx)("h3",{children:e.question}),e.choices.map(t=>(0,n.jsxs)(s.ur,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem",width:"100%",textAlign:"left",borderRadius:"3px"},onClick:()=>{e?.answer?.includes(t)?e.setAnswer(e.answer.filter(e=>e!==t)):e.setAnswer([...e.answer,t])},children:[(0,n.jsx)("span",{children:t}),e?.answer?.includes(t)?(0,n.jsx)(d._hW,{highlight:!0}):(0,n.jsx)(d._hW,{style:{backgroundColor:"transparent"}})]},t))]})}},26546:(e,t,i)=>{"use strict";i.d(t,{o:()=>M,p:()=>N});var n=i(94458),o=i(2834),r=i(97223),a=i(73484),s=i(68658),c=i(46181),d=i(55805),l=i(19058),h=i(48370),g=i(21715),u=i(84601),p=i(71928),m=i(47644),x=i(38581),f=i(27481),b=i(88291),y=i(30657),w=i.n(y),v=i(19539),j=i(29852),A=i(82685),S=i(14666);let I=[{name:"Afghanistan","alpha-2":"AF","alpha-3":"AFG","country-code":"004","iso_3166-2":"ISO 3166-2:AF",region:"Asia","sub-region":"Southern Asia","intermediate-region":"","region-code":"142","sub-region-code":"034","intermediate-region-code":""},{name:"\xc5land Islands","alpha-2":"AX","alpha-3":"ALA","country-code":"248","iso_3166-2":"ISO 3166-2:AX",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Albania","alpha-2":"AL","alpha-3":"ALB","country-code":"008","iso_3166-2":"ISO 3166-2:AL",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Algeria","alpha-2":"DZ","alpha-3":"DZA","country-code":"012","iso_3166-2":"ISO 3166-2:DZ",region:"Africa","sub-region":"Northern Africa","intermediate-region":"","region-code":"002","sub-region-code":"015","intermediate-region-code":""},{name:"American Samoa","alpha-2":"AS","alpha-3":"ASM","country-code":"016","iso_3166-2":"ISO 3166-2:AS",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"Andorra","alpha-2":"AD","alpha-3":"AND","country-code":"020","iso_3166-2":"ISO 3166-2:AD",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Angola","alpha-2":"AO","alpha-3":"AGO","country-code":"024","iso_3166-2":"ISO 3166-2:AO",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Middle Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"017"},{name:"Anguilla","alpha-2":"AI","alpha-3":"AIA","country-code":"660","iso_3166-2":"ISO 3166-2:AI",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Antarctica","alpha-2":"AQ","alpha-3":"ATA","country-code":"010","iso_3166-2":"ISO 3166-2:AQ",region:"","sub-region":"","intermediate-region":"","region-code":"","sub-region-code":"","intermediate-region-code":""},{name:"Antigua and Barbuda","alpha-2":"AG","alpha-3":"ATG","country-code":"028","iso_3166-2":"ISO 3166-2:AG",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Argentina","alpha-2":"AR","alpha-3":"ARG","country-code":"032","iso_3166-2":"ISO 3166-2:AR",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Armenia","alpha-2":"AM","alpha-3":"ARM","country-code":"051","iso_3166-2":"ISO 3166-2:AM",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Aruba","alpha-2":"AW","alpha-3":"ABW","country-code":"533","iso_3166-2":"ISO 3166-2:AW",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Australia","alpha-2":"AU","alpha-3":"AUS","country-code":"036","iso_3166-2":"ISO 3166-2:AU",region:"Oceania","sub-region":"Australia and New Zealand","intermediate-region":"","region-code":"009","sub-region-code":"053","intermediate-region-code":""},{name:"Austria","alpha-2":"AT","alpha-3":"AUT","country-code":"040","iso_3166-2":"ISO 3166-2:AT",region:"Europe","sub-region":"Western Europe","intermediate-region":"","region-code":"150","sub-region-code":"155","intermediate-region-code":""},{name:"Azerbaijan","alpha-2":"AZ","alpha-3":"AZE","country-code":"031","iso_3166-2":"ISO 3166-2:AZ",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Bahamas","alpha-2":"BS","alpha-3":"BHS","country-code":"044","iso_3166-2":"ISO 3166-2:BS",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Bahrain","alpha-2":"BH","alpha-3":"BHR","country-code":"048","iso_3166-2":"ISO 3166-2:BH",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Bangladesh","alpha-2":"BD","alpha-3":"BGD","country-code":"050","iso_3166-2":"ISO 3166-2:BD",region:"Asia","sub-region":"Southern Asia","intermediate-region":"","region-code":"142","sub-region-code":"034","intermediate-region-code":""},{name:"Barbados","alpha-2":"BB","alpha-3":"BRB","country-code":"052","iso_3166-2":"ISO 3166-2:BB",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Belarus","alpha-2":"BY","alpha-3":"BLR","country-code":"112","iso_3166-2":"ISO 3166-2:BY",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"Belgium","alpha-2":"BE","alpha-3":"BEL","country-code":"056","iso_3166-2":"ISO 3166-2:BE",region:"Europe","sub-region":"Western Europe","intermediate-region":"","region-code":"150","sub-region-code":"155","intermediate-region-code":""},{name:"Belize","alpha-2":"BZ","alpha-3":"BLZ","country-code":"084","iso_3166-2":"ISO 3166-2:BZ",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Central America","region-code":"019","sub-region-code":"419","intermediate-region-code":"013"},{name:"Benin","alpha-2":"BJ","alpha-3":"BEN","country-code":"204","iso_3166-2":"ISO 3166-2:BJ",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Bermuda","alpha-2":"BM","alpha-3":"BMU","country-code":"060","iso_3166-2":"ISO 3166-2:BM",region:"Americas","sub-region":"Northern America","intermediate-region":"","region-code":"019","sub-region-code":"021","intermediate-region-code":""},{name:"Bhutan","alpha-2":"BT","alpha-3":"BTN","country-code":"064","iso_3166-2":"ISO 3166-2:BT",region:"Asia","sub-region":"Southern Asia","intermediate-region":"","region-code":"142","sub-region-code":"034","intermediate-region-code":""},{name:"Bolivia, Plurinational State of","alpha-2":"BO","alpha-3":"BOL","country-code":"068","iso_3166-2":"ISO 3166-2:BO",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Bonaire, Sint Eustatius and Saba","alpha-2":"BQ","alpha-3":"BES","country-code":"535","iso_3166-2":"ISO 3166-2:BQ",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Bosnia and Herzegovina","alpha-2":"BA","alpha-3":"BIH","country-code":"070","iso_3166-2":"ISO 3166-2:BA",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Botswana","alpha-2":"BW","alpha-3":"BWA","country-code":"072","iso_3166-2":"ISO 3166-2:BW",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Southern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"018"},{name:"Bouvet Island","alpha-2":"BV","alpha-3":"BVT","country-code":"074","iso_3166-2":"ISO 3166-2:BV",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Brazil","alpha-2":"BR","alpha-3":"BRA","country-code":"076","iso_3166-2":"ISO 3166-2:BR",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"British Indian Ocean Territory","alpha-2":"IO","alpha-3":"IOT","country-code":"086","iso_3166-2":"ISO 3166-2:IO",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Brunei Darussalam","alpha-2":"BN","alpha-3":"BRN","country-code":"096","iso_3166-2":"ISO 3166-2:BN",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Bulgaria","alpha-2":"BG","alpha-3":"BGR","country-code":"100","iso_3166-2":"ISO 3166-2:BG",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"Burkina Faso","alpha-2":"BF","alpha-3":"BFA","country-code":"854","iso_3166-2":"ISO 3166-2:BF",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Burundi","alpha-2":"BI","alpha-3":"BDI","country-code":"108","iso_3166-2":"ISO 3166-2:BI",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Cabo Verde","alpha-2":"CV","alpha-3":"CPV","country-code":"132","iso_3166-2":"ISO 3166-2:CV",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Cambodia","alpha-2":"KH","alpha-3":"KHM","country-code":"116","iso_3166-2":"ISO 3166-2:KH",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Cameroon","alpha-2":"CM","alpha-3":"CMR","country-code":"120","iso_3166-2":"ISO 3166-2:CM",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Middle Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"017"},{name:"Canada","alpha-2":"CA","alpha-3":"CAN","country-code":"124","iso_3166-2":"ISO 3166-2:CA",region:"Americas","sub-region":"Northern America","intermediate-region":"","region-code":"019","sub-region-code":"021","intermediate-region-code":""},{name:"Cayman Islands","alpha-2":"KY","alpha-3":"CYM","country-code":"136","iso_3166-2":"ISO 3166-2:KY",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Central African Republic","alpha-2":"CF","alpha-3":"CAF","country-code":"140","iso_3166-2":"ISO 3166-2:CF",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Middle Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"017"},{name:"Chad","alpha-2":"TD","alpha-3":"TCD","country-code":"148","iso_3166-2":"ISO 3166-2:TD",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Middle Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"017"},{name:"Chile","alpha-2":"CL","alpha-3":"CHL","country-code":"152","iso_3166-2":"ISO 3166-2:CL",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"China","alpha-2":"CN","alpha-3":"CHN","country-code":"156","iso_3166-2":"ISO 3166-2:CN",region:"Asia","sub-region":"Eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"030","intermediate-region-code":""},{name:"Christmas Island","alpha-2":"CX","alpha-3":"CXR","country-code":"162","iso_3166-2":"ISO 3166-2:CX",region:"Oceania","sub-region":"Australia and New Zealand","intermediate-region":"","region-code":"009","sub-region-code":"053","intermediate-region-code":""},{name:"Cocos (Keeling) Islands","alpha-2":"CC","alpha-3":"CCK","country-code":"166","iso_3166-2":"ISO 3166-2:CC",region:"Oceania","sub-region":"Australia and New Zealand","intermediate-region":"","region-code":"009","sub-region-code":"053","intermediate-region-code":""},{name:"Colombia","alpha-2":"CO","alpha-3":"COL","country-code":"170","iso_3166-2":"ISO 3166-2:CO",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Comoros","alpha-2":"KM","alpha-3":"COM","country-code":"174","iso_3166-2":"ISO 3166-2:KM",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Congo","alpha-2":"CG","alpha-3":"COG","country-code":"178","iso_3166-2":"ISO 3166-2:CG",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Middle Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"017"},{name:"Congo, Democratic Republic of the","alpha-2":"CD","alpha-3":"COD","country-code":"180","iso_3166-2":"ISO 3166-2:CD",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Middle Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"017"},{name:"Cook Islands","alpha-2":"CK","alpha-3":"COK","country-code":"184","iso_3166-2":"ISO 3166-2:CK",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"Costa Rica","alpha-2":"CR","alpha-3":"CRI","country-code":"188","iso_3166-2":"ISO 3166-2:CR",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Central America","region-code":"019","sub-region-code":"419","intermediate-region-code":"013"},{name:"C\xf4te d'Ivoire","alpha-2":"CI","alpha-3":"CIV","country-code":"384","iso_3166-2":"ISO 3166-2:CI",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Croatia","alpha-2":"HR","alpha-3":"HRV","country-code":"191","iso_3166-2":"ISO 3166-2:HR",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Cuba","alpha-2":"CU","alpha-3":"CUB","country-code":"192","iso_3166-2":"ISO 3166-2:CU",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Cura\xe7ao","alpha-2":"CW","alpha-3":"CUW","country-code":"531","iso_3166-2":"ISO 3166-2:CW",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Cyprus","alpha-2":"CY","alpha-3":"CYP","country-code":"196","iso_3166-2":"ISO 3166-2:CY",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Czechia","alpha-2":"CZ","alpha-3":"CZE","country-code":"203","iso_3166-2":"ISO 3166-2:CZ",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"Denmark","alpha-2":"DK","alpha-3":"DNK","country-code":"208","iso_3166-2":"ISO 3166-2:DK",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Djibouti","alpha-2":"DJ","alpha-3":"DJI","country-code":"262","iso_3166-2":"ISO 3166-2:DJ",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Dominica","alpha-2":"DM","alpha-3":"DMA","country-code":"212","iso_3166-2":"ISO 3166-2:DM",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Dominican Republic","alpha-2":"DO","alpha-3":"DOM","country-code":"214","iso_3166-2":"ISO 3166-2:DO",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Ecuador","alpha-2":"EC","alpha-3":"ECU","country-code":"218","iso_3166-2":"ISO 3166-2:EC",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Egypt","alpha-2":"EG","alpha-3":"EGY","country-code":"818","iso_3166-2":"ISO 3166-2:EG",region:"Africa","sub-region":"Northern Africa","intermediate-region":"","region-code":"002","sub-region-code":"015","intermediate-region-code":""},{name:"El Salvador","alpha-2":"SV","alpha-3":"SLV","country-code":"222","iso_3166-2":"ISO 3166-2:SV",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Central America","region-code":"019","sub-region-code":"419","intermediate-region-code":"013"},{name:"Equatorial Guinea","alpha-2":"GQ","alpha-3":"GNQ","country-code":"226","iso_3166-2":"ISO 3166-2:GQ",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Middle Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"017"},{name:"Eritrea","alpha-2":"ER","alpha-3":"ERI","country-code":"232","iso_3166-2":"ISO 3166-2:ER",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Estonia","alpha-2":"EE","alpha-3":"EST","country-code":"233","iso_3166-2":"ISO 3166-2:EE",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Eswatini","alpha-2":"SZ","alpha-3":"SWZ","country-code":"748","iso_3166-2":"ISO 3166-2:SZ",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Southern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"018"},{name:"Ethiopia","alpha-2":"ET","alpha-3":"ETH","country-code":"231","iso_3166-2":"ISO 3166-2:ET",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Falkland Islands (Malvinas)","alpha-2":"FK","alpha-3":"FLK","country-code":"238","iso_3166-2":"ISO 3166-2:FK",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Faroe Islands","alpha-2":"FO","alpha-3":"FRO","country-code":"234","iso_3166-2":"ISO 3166-2:FO",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Fiji","alpha-2":"FJ","alpha-3":"FJI","country-code":"242","iso_3166-2":"ISO 3166-2:FJ",region:"Oceania","sub-region":"Melanesia","intermediate-region":"","region-code":"009","sub-region-code":"054","intermediate-region-code":""},{name:"Finland","alpha-2":"FI","alpha-3":"FIN","country-code":"246","iso_3166-2":"ISO 3166-2:FI",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"France","alpha-2":"FR","alpha-3":"FRA","country-code":"250","iso_3166-2":"ISO 3166-2:FR",region:"Europe","sub-region":"Western Europe","intermediate-region":"","region-code":"150","sub-region-code":"155","intermediate-region-code":""},{name:"French Guiana","alpha-2":"GF","alpha-3":"GUF","country-code":"254","iso_3166-2":"ISO 3166-2:GF",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"French Polynesia","alpha-2":"PF","alpha-3":"PYF","country-code":"258","iso_3166-2":"ISO 3166-2:PF",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"French Southern Territories","alpha-2":"TF","alpha-3":"ATF","country-code":"260","iso_3166-2":"ISO 3166-2:TF",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Gabon","alpha-2":"GA","alpha-3":"GAB","country-code":"266","iso_3166-2":"ISO 3166-2:GA",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Middle Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"017"},{name:"Gambia","alpha-2":"GM","alpha-3":"GMB","country-code":"270","iso_3166-2":"ISO 3166-2:GM",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Georgia","alpha-2":"GE","alpha-3":"GEO","country-code":"268","iso_3166-2":"ISO 3166-2:GE",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Germany","alpha-2":"DE","alpha-3":"DEU","country-code":"276","iso_3166-2":"ISO 3166-2:DE",region:"Europe","sub-region":"Western Europe","intermediate-region":"","region-code":"150","sub-region-code":"155","intermediate-region-code":""},{name:"Ghana","alpha-2":"GH","alpha-3":"GHA","country-code":"288","iso_3166-2":"ISO 3166-2:GH",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Gibraltar","alpha-2":"GI","alpha-3":"GIB","country-code":"292","iso_3166-2":"ISO 3166-2:GI",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Greece","alpha-2":"GR","alpha-3":"GRC","country-code":"300","iso_3166-2":"ISO 3166-2:GR",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Greenland","alpha-2":"GL","alpha-3":"GRL","country-code":"304","iso_3166-2":"ISO 3166-2:GL",region:"Americas","sub-region":"Northern America","intermediate-region":"","region-code":"019","sub-region-code":"021","intermediate-region-code":""},{name:"Grenada","alpha-2":"GD","alpha-3":"GRD","country-code":"308","iso_3166-2":"ISO 3166-2:GD",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Guadeloupe","alpha-2":"GP","alpha-3":"GLP","country-code":"312","iso_3166-2":"ISO 3166-2:GP",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Guam","alpha-2":"GU","alpha-3":"GUM","country-code":"316","iso_3166-2":"ISO 3166-2:GU",region:"Oceania","sub-region":"Micronesia","intermediate-region":"","region-code":"009","sub-region-code":"057","intermediate-region-code":""},{name:"Guatemala","alpha-2":"GT","alpha-3":"GTM","country-code":"320","iso_3166-2":"ISO 3166-2:GT",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Central America","region-code":"019","sub-region-code":"419","intermediate-region-code":"013"},{name:"Guernsey","alpha-2":"GG","alpha-3":"GGY","country-code":"831","iso_3166-2":"ISO 3166-2:GG",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Guinea","alpha-2":"GN","alpha-3":"GIN","country-code":"324","iso_3166-2":"ISO 3166-2:GN",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Guinea-Bissau","alpha-2":"GW","alpha-3":"GNB","country-code":"624","iso_3166-2":"ISO 3166-2:GW",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Guyana","alpha-2":"GY","alpha-3":"GUY","country-code":"328","iso_3166-2":"ISO 3166-2:GY",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Haiti","alpha-2":"HT","alpha-3":"HTI","country-code":"332","iso_3166-2":"ISO 3166-2:HT",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Heard Island and McDonald Islands","alpha-2":"HM","alpha-3":"HMD","country-code":"334","iso_3166-2":"ISO 3166-2:HM",region:"Oceania","sub-region":"Australia and New Zealand","intermediate-region":"","region-code":"009","sub-region-code":"053","intermediate-region-code":""},{name:"Holy See","alpha-2":"VA","alpha-3":"VAT","country-code":"336","iso_3166-2":"ISO 3166-2:VA",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Honduras","alpha-2":"HN","alpha-3":"HND","country-code":"340","iso_3166-2":"ISO 3166-2:HN",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Central America","region-code":"019","sub-region-code":"419","intermediate-region-code":"013"},{name:"Hong Kong","alpha-2":"HK","alpha-3":"HKG","country-code":"344","iso_3166-2":"ISO 3166-2:HK",region:"Asia","sub-region":"Eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"030","intermediate-region-code":""},{name:"Hungary","alpha-2":"HU","alpha-3":"HUN","country-code":"348","iso_3166-2":"ISO 3166-2:HU",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"Iceland","alpha-2":"IS","alpha-3":"ISL","country-code":"352","iso_3166-2":"ISO 3166-2:IS",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"India","alpha-2":"IN","alpha-3":"IND","country-code":"356","iso_3166-2":"ISO 3166-2:IN",region:"Asia","sub-region":"Southern Asia","intermediate-region":"","region-code":"142","sub-region-code":"034","intermediate-region-code":""},{name:"Indonesia","alpha-2":"ID","alpha-3":"IDN","country-code":"360","iso_3166-2":"ISO 3166-2:ID",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Iran, Islamic Republic of","alpha-2":"IR","alpha-3":"IRN","country-code":"364","iso_3166-2":"ISO 3166-2:IR",region:"Asia","sub-region":"Southern Asia","intermediate-region":"","region-code":"142","sub-region-code":"034","intermediate-region-code":""},{name:"Iraq","alpha-2":"IQ","alpha-3":"IRQ","country-code":"368","iso_3166-2":"ISO 3166-2:IQ",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Ireland","alpha-2":"IE","alpha-3":"IRL","country-code":"372","iso_3166-2":"ISO 3166-2:IE",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Isle of Man","alpha-2":"IM","alpha-3":"IMN","country-code":"833","iso_3166-2":"ISO 3166-2:IM",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Israel","alpha-2":"IL","alpha-3":"ISR","country-code":"376","iso_3166-2":"ISO 3166-2:IL",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Italy","alpha-2":"IT","alpha-3":"ITA","country-code":"380","iso_3166-2":"ISO 3166-2:IT",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Jamaica","alpha-2":"JM","alpha-3":"JAM","country-code":"388","iso_3166-2":"ISO 3166-2:JM",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Japan","alpha-2":"JP","alpha-3":"JPN","country-code":"392","iso_3166-2":"ISO 3166-2:JP",region:"Asia","sub-region":"Eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"030","intermediate-region-code":""},{name:"Jersey","alpha-2":"JE","alpha-3":"JEY","country-code":"832","iso_3166-2":"ISO 3166-2:JE",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Jordan","alpha-2":"JO","alpha-3":"JOR","country-code":"400","iso_3166-2":"ISO 3166-2:JO",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Kazakhstan","alpha-2":"KZ","alpha-3":"KAZ","country-code":"398","iso_3166-2":"ISO 3166-2:KZ",region:"Asia","sub-region":"Central Asia","intermediate-region":"","region-code":"142","sub-region-code":"143","intermediate-region-code":""},{name:"Kenya","alpha-2":"KE","alpha-3":"KEN","country-code":"404","iso_3166-2":"ISO 3166-2:KE",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Kiribati","alpha-2":"KI","alpha-3":"KIR","country-code":"296","iso_3166-2":"ISO 3166-2:KI",region:"Oceania","sub-region":"Micronesia","intermediate-region":"","region-code":"009","sub-region-code":"057","intermediate-region-code":""},{name:"Korea, Democratic People's Republic of","alpha-2":"KP","alpha-3":"PRK","country-code":"408","iso_3166-2":"ISO 3166-2:KP",region:"Asia","sub-region":"Eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"030","intermediate-region-code":""},{name:"Korea, Republic of","alpha-2":"KR","alpha-3":"KOR","country-code":"410","iso_3166-2":"ISO 3166-2:KR",region:"Asia","sub-region":"Eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"030","intermediate-region-code":""},{name:"Kuwait","alpha-2":"KW","alpha-3":"KWT","country-code":"414","iso_3166-2":"ISO 3166-2:KW",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Kyrgyzstan","alpha-2":"KG","alpha-3":"KGZ","country-code":"417","iso_3166-2":"ISO 3166-2:KG",region:"Asia","sub-region":"Central Asia","intermediate-region":"","region-code":"142","sub-region-code":"143","intermediate-region-code":""},{name:"Lao People's Democratic Republic","alpha-2":"LA","alpha-3":"LAO","country-code":"418","iso_3166-2":"ISO 3166-2:LA",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Latvia","alpha-2":"LV","alpha-3":"LVA","country-code":"428","iso_3166-2":"ISO 3166-2:LV",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Lebanon","alpha-2":"LB","alpha-3":"LBN","country-code":"422","iso_3166-2":"ISO 3166-2:LB",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Lesotho","alpha-2":"LS","alpha-3":"LSO","country-code":"426","iso_3166-2":"ISO 3166-2:LS",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Southern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"018"},{name:"Liberia","alpha-2":"LR","alpha-3":"LBR","country-code":"430","iso_3166-2":"ISO 3166-2:LR",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Libya","alpha-2":"LY","alpha-3":"LBY","country-code":"434","iso_3166-2":"ISO 3166-2:LY",region:"Africa","sub-region":"Northern Africa","intermediate-region":"","region-code":"002","sub-region-code":"015","intermediate-region-code":""},{name:"Liechtenstein","alpha-2":"LI","alpha-3":"LIE","country-code":"438","iso_3166-2":"ISO 3166-2:LI",region:"Europe","sub-region":"Western Europe","intermediate-region":"","region-code":"150","sub-region-code":"155","intermediate-region-code":""},{name:"Lithuania","alpha-2":"LT","alpha-3":"LTU","country-code":"440","iso_3166-2":"ISO 3166-2:LT",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Luxembourg","alpha-2":"LU","alpha-3":"LUX","country-code":"442","iso_3166-2":"ISO 3166-2:LU",region:"Europe","sub-region":"Western Europe","intermediate-region":"","region-code":"150","sub-region-code":"155","intermediate-region-code":""},{name:"Macao","alpha-2":"MO","alpha-3":"MAC","country-code":"446","iso_3166-2":"ISO 3166-2:MO",region:"Asia","sub-region":"Eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"030","intermediate-region-code":""},{name:"Madagascar","alpha-2":"MG","alpha-3":"MDG","country-code":"450","iso_3166-2":"ISO 3166-2:MG",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Malawi","alpha-2":"MW","alpha-3":"MWI","country-code":"454","iso_3166-2":"ISO 3166-2:MW",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Malaysia","alpha-2":"MY","alpha-3":"MYS","country-code":"458","iso_3166-2":"ISO 3166-2:MY",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Maldives","alpha-2":"MV","alpha-3":"MDV","country-code":"462","iso_3166-2":"ISO 3166-2:MV",region:"Asia","sub-region":"Southern Asia","intermediate-region":"","region-code":"142","sub-region-code":"034","intermediate-region-code":""},{name:"Mali","alpha-2":"ML","alpha-3":"MLI","country-code":"466","iso_3166-2":"ISO 3166-2:ML",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Malta","alpha-2":"MT","alpha-3":"MLT","country-code":"470","iso_3166-2":"ISO 3166-2:MT",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Marshall Islands","alpha-2":"MH","alpha-3":"MHL","country-code":"584","iso_3166-2":"ISO 3166-2:MH",region:"Oceania","sub-region":"Micronesia","intermediate-region":"","region-code":"009","sub-region-code":"057","intermediate-region-code":""},{name:"Martinique","alpha-2":"MQ","alpha-3":"MTQ","country-code":"474","iso_3166-2":"ISO 3166-2:MQ",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Mauritania","alpha-2":"MR","alpha-3":"MRT","country-code":"478","iso_3166-2":"ISO 3166-2:MR",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Mauritius","alpha-2":"MU","alpha-3":"MUS","country-code":"480","iso_3166-2":"ISO 3166-2:MU",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Mayotte","alpha-2":"YT","alpha-3":"MYT","country-code":"175","iso_3166-2":"ISO 3166-2:YT",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Mexico","alpha-2":"MX","alpha-3":"MEX","country-code":"484","iso_3166-2":"ISO 3166-2:MX",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Central America","region-code":"019","sub-region-code":"419","intermediate-region-code":"013"},{name:"Micronesia, Federated States of","alpha-2":"FM","alpha-3":"FSM","country-code":"583","iso_3166-2":"ISO 3166-2:FM",region:"Oceania","sub-region":"Micronesia","intermediate-region":"","region-code":"009","sub-region-code":"057","intermediate-region-code":""},{name:"Moldova, Republic of","alpha-2":"MD","alpha-3":"MDA","country-code":"498","iso_3166-2":"ISO 3166-2:MD",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"Monaco","alpha-2":"MC","alpha-3":"MCO","country-code":"492","iso_3166-2":"ISO 3166-2:MC",region:"Europe","sub-region":"Western Europe","intermediate-region":"","region-code":"150","sub-region-code":"155","intermediate-region-code":""},{name:"Mongolia","alpha-2":"MN","alpha-3":"MNG","country-code":"496","iso_3166-2":"ISO 3166-2:MN",region:"Asia","sub-region":"Eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"030","intermediate-region-code":""},{name:"Montenegro","alpha-2":"ME","alpha-3":"MNE","country-code":"499","iso_3166-2":"ISO 3166-2:ME",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Montserrat","alpha-2":"MS","alpha-3":"MSR","country-code":"500","iso_3166-2":"ISO 3166-2:MS",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Morocco","alpha-2":"MA","alpha-3":"MAR","country-code":"504","iso_3166-2":"ISO 3166-2:MA",region:"Africa","sub-region":"Northern Africa","intermediate-region":"","region-code":"002","sub-region-code":"015","intermediate-region-code":""},{name:"Mozambique","alpha-2":"MZ","alpha-3":"MOZ","country-code":"508","iso_3166-2":"ISO 3166-2:MZ",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Myanmar","alpha-2":"MM","alpha-3":"MMR","country-code":"104","iso_3166-2":"ISO 3166-2:MM",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Namibia","alpha-2":"NA","alpha-3":"NAM","country-code":"516","iso_3166-2":"ISO 3166-2:NA",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Southern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"018"},{name:"Nauru","alpha-2":"NR","alpha-3":"NRU","country-code":"520","iso_3166-2":"ISO 3166-2:NR",region:"Oceania","sub-region":"Micronesia","intermediate-region":"","region-code":"009","sub-region-code":"057","intermediate-region-code":""},{name:"Nepal","alpha-2":"NP","alpha-3":"NPL","country-code":"524","iso_3166-2":"ISO 3166-2:NP",region:"Asia","sub-region":"Southern Asia","intermediate-region":"","region-code":"142","sub-region-code":"034","intermediate-region-code":""},{name:"Netherlands, Kingdom of the","alpha-2":"NL","alpha-3":"NLD","country-code":"528","iso_3166-2":"ISO 3166-2:NL",region:"Europe","sub-region":"Western Europe","intermediate-region":"","region-code":"150","sub-region-code":"155","intermediate-region-code":""},{name:"New Caledonia","alpha-2":"NC","alpha-3":"NCL","country-code":"540","iso_3166-2":"ISO 3166-2:NC",region:"Oceania","sub-region":"Melanesia","intermediate-region":"","region-code":"009","sub-region-code":"054","intermediate-region-code":""},{name:"New Zealand","alpha-2":"NZ","alpha-3":"NZL","country-code":"554","iso_3166-2":"ISO 3166-2:NZ",region:"Oceania","sub-region":"Australia and New Zealand","intermediate-region":"","region-code":"009","sub-region-code":"053","intermediate-region-code":""},{name:"Nicaragua","alpha-2":"NI","alpha-3":"NIC","country-code":"558","iso_3166-2":"ISO 3166-2:NI",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Central America","region-code":"019","sub-region-code":"419","intermediate-region-code":"013"},{name:"Niger","alpha-2":"NE","alpha-3":"NER","country-code":"562","iso_3166-2":"ISO 3166-2:NE",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Nigeria","alpha-2":"NG","alpha-3":"NGA","country-code":"566","iso_3166-2":"ISO 3166-2:NG",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Niue","alpha-2":"NU","alpha-3":"NIU","country-code":"570","iso_3166-2":"ISO 3166-2:NU",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"Norfolk Island","alpha-2":"NF","alpha-3":"NFK","country-code":"574","iso_3166-2":"ISO 3166-2:NF",region:"Oceania","sub-region":"Australia and New Zealand","intermediate-region":"","region-code":"009","sub-region-code":"053","intermediate-region-code":""},{name:"North Macedonia","alpha-2":"MK","alpha-3":"MKD","country-code":"807","iso_3166-2":"ISO 3166-2:MK",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Northern Mariana Islands","alpha-2":"MP","alpha-3":"MNP","country-code":"580","iso_3166-2":"ISO 3166-2:MP",region:"Oceania","sub-region":"Micronesia","intermediate-region":"","region-code":"009","sub-region-code":"057","intermediate-region-code":""},{name:"Norway","alpha-2":"NO","alpha-3":"NOR","country-code":"578","iso_3166-2":"ISO 3166-2:NO",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Oman","alpha-2":"OM","alpha-3":"OMN","country-code":"512","iso_3166-2":"ISO 3166-2:OM",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Pakistan","alpha-2":"PK","alpha-3":"PAK","country-code":"586","iso_3166-2":"ISO 3166-2:PK",region:"Asia","sub-region":"Southern Asia","intermediate-region":"","region-code":"142","sub-region-code":"034","intermediate-region-code":""},{name:"Palau","alpha-2":"PW","alpha-3":"PLW","country-code":"585","iso_3166-2":"ISO 3166-2:PW",region:"Oceania","sub-region":"Micronesia","intermediate-region":"","region-code":"009","sub-region-code":"057","intermediate-region-code":""},{name:"Palestine, State of","alpha-2":"PS","alpha-3":"PSE","country-code":"275","iso_3166-2":"ISO 3166-2:PS",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Panama","alpha-2":"PA","alpha-3":"PAN","country-code":"591","iso_3166-2":"ISO 3166-2:PA",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Central America","region-code":"019","sub-region-code":"419","intermediate-region-code":"013"},{name:"Papua New Guinea","alpha-2":"PG","alpha-3":"PNG","country-code":"598","iso_3166-2":"ISO 3166-2:PG",region:"Oceania","sub-region":"Melanesia","intermediate-region":"","region-code":"009","sub-region-code":"054","intermediate-region-code":""},{name:"Paraguay","alpha-2":"PY","alpha-3":"PRY","country-code":"600","iso_3166-2":"ISO 3166-2:PY",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Peru","alpha-2":"PE","alpha-3":"PER","country-code":"604","iso_3166-2":"ISO 3166-2:PE",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Philippines","alpha-2":"PH","alpha-3":"PHL","country-code":"608","iso_3166-2":"ISO 3166-2:PH",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Pitcairn","alpha-2":"PN","alpha-3":"PCN","country-code":"612","iso_3166-2":"ISO 3166-2:PN",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"Poland","alpha-2":"PL","alpha-3":"POL","country-code":"616","iso_3166-2":"ISO 3166-2:PL",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"Portugal","alpha-2":"PT","alpha-3":"PRT","country-code":"620","iso_3166-2":"ISO 3166-2:PT",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Puerto Rico","alpha-2":"PR","alpha-3":"PRI","country-code":"630","iso_3166-2":"ISO 3166-2:PR",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Qatar","alpha-2":"QA","alpha-3":"QAT","country-code":"634","iso_3166-2":"ISO 3166-2:QA",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"R\xe9union","alpha-2":"RE","alpha-3":"REU","country-code":"638","iso_3166-2":"ISO 3166-2:RE",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Romania","alpha-2":"RO","alpha-3":"ROU","country-code":"642","iso_3166-2":"ISO 3166-2:RO",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"Russian Federation","alpha-2":"RU","alpha-3":"RUS","country-code":"643","iso_3166-2":"ISO 3166-2:RU",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"Rwanda","alpha-2":"RW","alpha-3":"RWA","country-code":"646","iso_3166-2":"ISO 3166-2:RW",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Saint Barth\xe9lemy","alpha-2":"BL","alpha-3":"BLM","country-code":"652","iso_3166-2":"ISO 3166-2:BL",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Saint Helena, Ascension and Tristan da Cunha","alpha-2":"SH","alpha-3":"SHN","country-code":"654","iso_3166-2":"ISO 3166-2:SH",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Saint Kitts and Nevis","alpha-2":"KN","alpha-3":"KNA","country-code":"659","iso_3166-2":"ISO 3166-2:KN",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Saint Lucia","alpha-2":"LC","alpha-3":"LCA","country-code":"662","iso_3166-2":"ISO 3166-2:LC",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Saint Martin (French part)","alpha-2":"MF","alpha-3":"MAF","country-code":"663","iso_3166-2":"ISO 3166-2:MF",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Saint Pierre and Miquelon","alpha-2":"PM","alpha-3":"SPM","country-code":"666","iso_3166-2":"ISO 3166-2:PM",region:"Americas","sub-region":"Northern America","intermediate-region":"","region-code":"019","sub-region-code":"021","intermediate-region-code":""},{name:"Saint Vincent and the Grenadines","alpha-2":"VC","alpha-3":"VCT","country-code":"670","iso_3166-2":"ISO 3166-2:VC",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Samoa","alpha-2":"WS","alpha-3":"WSM","country-code":"882","iso_3166-2":"ISO 3166-2:WS",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"San Marino","alpha-2":"SM","alpha-3":"SMR","country-code":"674","iso_3166-2":"ISO 3166-2:SM",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Sao Tome and Principe","alpha-2":"ST","alpha-3":"STP","country-code":"678","iso_3166-2":"ISO 3166-2:ST",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Middle Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"017"},{name:"Saudi Arabia","alpha-2":"SA","alpha-3":"SAU","country-code":"682","iso_3166-2":"ISO 3166-2:SA",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Senegal","alpha-2":"SN","alpha-3":"SEN","country-code":"686","iso_3166-2":"ISO 3166-2:SN",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Serbia","alpha-2":"RS","alpha-3":"SRB","country-code":"688","iso_3166-2":"ISO 3166-2:RS",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Seychelles","alpha-2":"SC","alpha-3":"SYC","country-code":"690","iso_3166-2":"ISO 3166-2:SC",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Sierra Leone","alpha-2":"SL","alpha-3":"SLE","country-code":"694","iso_3166-2":"ISO 3166-2:SL",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Singapore","alpha-2":"SG","alpha-3":"SGP","country-code":"702","iso_3166-2":"ISO 3166-2:SG",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Sint Maarten (Dutch part)","alpha-2":"SX","alpha-3":"SXM","country-code":"534","iso_3166-2":"ISO 3166-2:SX",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Slovakia","alpha-2":"SK","alpha-3":"SVK","country-code":"703","iso_3166-2":"ISO 3166-2:SK",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"Slovenia","alpha-2":"SI","alpha-3":"SVN","country-code":"705","iso_3166-2":"ISO 3166-2:SI",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Solomon Islands","alpha-2":"SB","alpha-3":"SLB","country-code":"090","iso_3166-2":"ISO 3166-2:SB",region:"Oceania","sub-region":"Melanesia","intermediate-region":"","region-code":"009","sub-region-code":"054","intermediate-region-code":""},{name:"Somalia","alpha-2":"SO","alpha-3":"SOM","country-code":"706","iso_3166-2":"ISO 3166-2:SO",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"South Africa","alpha-2":"ZA","alpha-3":"ZAF","country-code":"710","iso_3166-2":"ISO 3166-2:ZA",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Southern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"018"},{name:"South Georgia and the South Sandwich Islands","alpha-2":"GS","alpha-3":"SGS","country-code":"239","iso_3166-2":"ISO 3166-2:GS",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"South Sudan","alpha-2":"SS","alpha-3":"SSD","country-code":"728","iso_3166-2":"ISO 3166-2:SS",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Spain","alpha-2":"ES","alpha-3":"ESP","country-code":"724","iso_3166-2":"ISO 3166-2:ES",region:"Europe","sub-region":"Southern Europe","intermediate-region":"","region-code":"150","sub-region-code":"039","intermediate-region-code":""},{name:"Sri Lanka","alpha-2":"LK","alpha-3":"LKA","country-code":"144","iso_3166-2":"ISO 3166-2:LK",region:"Asia","sub-region":"Southern Asia","intermediate-region":"","region-code":"142","sub-region-code":"034","intermediate-region-code":""},{name:"Sudan","alpha-2":"SD","alpha-3":"SDN","country-code":"729","iso_3166-2":"ISO 3166-2:SD",region:"Africa","sub-region":"Northern Africa","intermediate-region":"","region-code":"002","sub-region-code":"015","intermediate-region-code":""},{name:"Suriname","alpha-2":"SR","alpha-3":"SUR","country-code":"740","iso_3166-2":"ISO 3166-2:SR",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Svalbard and Jan Mayen","alpha-2":"SJ","alpha-3":"SJM","country-code":"744","iso_3166-2":"ISO 3166-2:SJ",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Sweden","alpha-2":"SE","alpha-3":"SWE","country-code":"752","iso_3166-2":"ISO 3166-2:SE",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"Switzerland","alpha-2":"CH","alpha-3":"CHE","country-code":"756","iso_3166-2":"ISO 3166-2:CH",region:"Europe","sub-region":"Western Europe","intermediate-region":"","region-code":"150","sub-region-code":"155","intermediate-region-code":""},{name:"Syrian Arab Republic","alpha-2":"SY","alpha-3":"SYR","country-code":"760","iso_3166-2":"ISO 3166-2:SY",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Taiwan, Province of China","alpha-2":"TW","alpha-3":"TWN","country-code":"158","iso_3166-2":"ISO 3166-2:TW",region:null,"sub-region":null,"intermediate-region":null,"region-code":null,"sub-region-code":null,"intermediate-region-code":null},{name:"Tajikistan","alpha-2":"TJ","alpha-3":"TJK","country-code":"762","iso_3166-2":"ISO 3166-2:TJ",region:"Asia","sub-region":"Central Asia","intermediate-region":"","region-code":"142","sub-region-code":"143","intermediate-region-code":""},{name:"Tanzania, United Republic of","alpha-2":"TZ","alpha-3":"TZA","country-code":"834","iso_3166-2":"ISO 3166-2:TZ",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Thailand","alpha-2":"TH","alpha-3":"THA","country-code":"764","iso_3166-2":"ISO 3166-2:TH",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Timor-Leste","alpha-2":"TL","alpha-3":"TLS","country-code":"626","iso_3166-2":"ISO 3166-2:TL",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Togo","alpha-2":"TG","alpha-3":"TGO","country-code":"768","iso_3166-2":"ISO 3166-2:TG",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Western Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"011"},{name:"Tokelau","alpha-2":"TK","alpha-3":"TKL","country-code":"772","iso_3166-2":"ISO 3166-2:TK",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"Tonga","alpha-2":"TO","alpha-3":"TON","country-code":"776","iso_3166-2":"ISO 3166-2:TO",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"Trinidad and Tobago","alpha-2":"TT","alpha-3":"TTO","country-code":"780","iso_3166-2":"ISO 3166-2:TT",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Tunisia","alpha-2":"TN","alpha-3":"TUN","country-code":"788","iso_3166-2":"ISO 3166-2:TN",region:"Africa","sub-region":"Northern Africa","intermediate-region":"","region-code":"002","sub-region-code":"015","intermediate-region-code":""},{name:"T\xfcrkiye","alpha-2":"TR","alpha-3":"TUR","country-code":"792","iso_3166-2":"ISO 3166-2:TR",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Turkmenistan","alpha-2":"TM","alpha-3":"TKM","country-code":"795","iso_3166-2":"ISO 3166-2:TM",region:"Asia","sub-region":"Central Asia","intermediate-region":"","region-code":"142","sub-region-code":"143","intermediate-region-code":""},{name:"Turks and Caicos Islands","alpha-2":"TC","alpha-3":"TCA","country-code":"796","iso_3166-2":"ISO 3166-2:TC",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Tuvalu","alpha-2":"TV","alpha-3":"TUV","country-code":"798","iso_3166-2":"ISO 3166-2:TV",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"Uganda","alpha-2":"UG","alpha-3":"UGA","country-code":"800","iso_3166-2":"ISO 3166-2:UG",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Ukraine","alpha-2":"UA","alpha-3":"UKR","country-code":"804","iso_3166-2":"ISO 3166-2:UA",region:"Europe","sub-region":"Eastern Europe","intermediate-region":"","region-code":"150","sub-region-code":"151","intermediate-region-code":""},{name:"United Arab Emirates","alpha-2":"AE","alpha-3":"ARE","country-code":"784","iso_3166-2":"ISO 3166-2:AE",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"United Kingdom of Great Britain and Northern Ireland","alpha-2":"GB","alpha-3":"GBR","country-code":"826","iso_3166-2":"ISO 3166-2:GB",region:"Europe","sub-region":"Northern Europe","intermediate-region":"","region-code":"150","sub-region-code":"154","intermediate-region-code":""},{name:"United States of America","alpha-2":"US","alpha-3":"USA","country-code":"840","iso_3166-2":"ISO 3166-2:US",region:"Americas","sub-region":"Northern America","intermediate-region":"","region-code":"019","sub-region-code":"021","intermediate-region-code":""},{name:"United States Minor Outlying Islands","alpha-2":"UM","alpha-3":"UMI","country-code":"581","iso_3166-2":"ISO 3166-2:UM",region:"Oceania","sub-region":"Micronesia","intermediate-region":"","region-code":"009","sub-region-code":"057","intermediate-region-code":""},{name:"Uruguay","alpha-2":"UY","alpha-3":"URY","country-code":"858","iso_3166-2":"ISO 3166-2:UY",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Uzbekistan","alpha-2":"UZ","alpha-3":"UZB","country-code":"860","iso_3166-2":"ISO 3166-2:UZ",region:"Asia","sub-region":"Central Asia","intermediate-region":"","region-code":"142","sub-region-code":"143","intermediate-region-code":""},{name:"Vanuatu","alpha-2":"VU","alpha-3":"VUT","country-code":"548","iso_3166-2":"ISO 3166-2:VU",region:"Oceania","sub-region":"Melanesia","intermediate-region":"","region-code":"009","sub-region-code":"054","intermediate-region-code":""},{name:"Venezuela, Bolivarian Republic of","alpha-2":"VE","alpha-3":"VEN","country-code":"862","iso_3166-2":"ISO 3166-2:VE",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"South America","region-code":"019","sub-region-code":"419","intermediate-region-code":"005"},{name:"Viet Nam","alpha-2":"VN","alpha-3":"VNM","country-code":"704","iso_3166-2":"ISO 3166-2:VN",region:"Asia","sub-region":"South-eastern Asia","intermediate-region":"","region-code":"142","sub-region-code":"035","intermediate-region-code":""},{name:"Virgin Islands (British)","alpha-2":"VG","alpha-3":"VGB","country-code":"092","iso_3166-2":"ISO 3166-2:VG",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Virgin Islands (U.S.)","alpha-2":"VI","alpha-3":"VIR","country-code":"850","iso_3166-2":"ISO 3166-2:VI",region:"Americas","sub-region":"Latin America and the Caribbean","intermediate-region":"Caribbean","region-code":"019","sub-region-code":"419","intermediate-region-code":"029"},{name:"Wallis and Futuna","alpha-2":"WF","alpha-3":"WLF","country-code":"876","iso_3166-2":"ISO 3166-2:WF",region:"Oceania","sub-region":"Polynesia","intermediate-region":"","region-code":"009","sub-region-code":"061","intermediate-region-code":""},{name:"Western Sahara","alpha-2":"EH","alpha-3":"ESH","country-code":"732","iso_3166-2":"ISO 3166-2:EH",region:"Africa","sub-region":"Northern Africa","intermediate-region":"","region-code":"002","sub-region-code":"015","intermediate-region-code":""},{name:"Yemen","alpha-2":"YE","alpha-3":"YEM","country-code":"887","iso_3166-2":"ISO 3166-2:YE",region:"Asia","sub-region":"Western Asia","intermediate-region":"","region-code":"142","sub-region-code":"145","intermediate-region-code":""},{name:"Zambia","alpha-2":"ZM","alpha-3":"ZMB","country-code":"894","iso_3166-2":"ISO 3166-2:ZM",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"},{name:"Zimbabwe","alpha-2":"ZW","alpha-3":"ZWE","country-code":"716","iso_3166-2":"ISO 3166-2:ZW",region:"Africa","sub-region":"Sub-Saharan Africa","intermediate-region":"Eastern Africa","region-code":"002","sub-region-code":"202","intermediate-region-code":"014"}].map(e=>({value:e["alpha-2"],label:e.name})),k=new Set([]),C=[{name:"Alberta",long:"CA-AB",short:"AB"},{name:"British Columbia",long:"CA-BC",short:"BC"},{name:"Manitoba",long:"CA-MB",short:"MB"},{name:"New Brunswick",long:"CA-NB",short:"NB"},{name:"Newfoundland and Labrador",long:"CA-NL",short:"NL"},{name:"Northwest Territories",long:"CA-NT",short:"NT"},{name:"Nova Scotia",long:"CA-NS",short:"NS"},{name:"Nunavut",long:"CA-NU",short:"NU"},{name:"Ontario",long:"CA-ON",short:"ON"},{name:"Prince Edward Island",long:"CA-PE",short:"PE"},{name:"Quebec",long:"CA-QC",short:"QC"},{name:"Saskatchewan",long:"CA-SK",short:"SK"},{name:"Yukon Territory",long:"CA-YT",short:"YT"}].map(e=>({value:e.short,label:e.name})),T={CA:C,US:[{name:"Alabama",short:"AL",long:"US-AL"},{name:"Alaska",short:"AK",long:"US-AK"},{name:"Arizona",short:"AZ",long:"US-AZ"},{name:"Arkansas",short:"AR",long:"US-AR"},{name:"California",short:"CA",long:"US-CA"},{name:"Colorado",short:"CO",long:"US-CO"},{name:"Connecticut",short:"CT",long:"US-CT"},{name:"Delaware",short:"DE",long:"US-DE"},{name:"District of Columbia",short:"DC",long:"US-DC"},{name:"Florida",short:"FL",long:"US-FL"},{name:"Georgia",short:"GA",long:"US-GA"},{name:"Hawaii",short:"HI",long:"US-HI"},{name:"Idaho",short:"ID",long:"US-ID"},{name:"Illinois",short:"IL",long:"US-IL"},{name:"Indiana",short:"IN",long:"US-IN"},{name:"Iowa",short:"IA",long:"US-IA"},{name:"Kansas",short:"KS",long:"US-KS"},{name:"Kentucky",short:"KY",long:"US-KY"},{name:"Louisiana",short:"LA",long:"US-LA"},{name:"Maine",short:"ME",long:"US-ME"},{name:"Maryland",short:"MD",long:"US-MD"},{name:"Massachusetts",short:"MA",long:"US-MA"},{name:"Michigan",short:"MI",long:"US-MI"},{name:"Minnesota",short:"MN",long:"US-MN"},{name:"Mississippi",short:"MS",long:"US-MS"},{name:"Missouri",short:"MO",long:"US-MO"},{name:"Montana",short:"MT",long:"US-MT"},{name:"Nebraska",short:"NE",long:"US-NE"},{name:"Nevada",short:"NV",long:"US-NV"},{name:"New Hampshire",short:"NH",long:"US-NH"},{name:"New Jersey",short:"NJ",long:"US-NJ"},{name:"New Mexico",short:"NM",long:"US-NM"},{name:"New York",short:"NY",long:"US-NY"},{name:"North Carolina",short:"NC",long:"US-NC"},{name:"North Dakota",short:"ND",long:"US-ND"},{name:"Ohio",short:"OH",long:"US-OH"},{name:"Oklahoma",short:"OK",long:"US-OK"},{name:"Oregon",short:"OR",long:"US-OR"},{name:"Pennsylvania",short:"PA",long:"US-PA"},{name:"Rhode Island",short:"RI",long:"US-RI"},{name:"South Carolina",short:"SC",long:"US-SC"},{name:"South Dakota",short:"SD",long:"US-SD"},{name:"Tennessee",short:"TN",long:"US-TN"},{name:"Texas",short:"TX",long:"US-TX"},{name:"Utah",short:"UT",long:"US-UT"},{name:"Vermont",short:"VT",long:"US-VT"},{name:"Virginia",short:"VA",long:"US-VA"},{name:"Washington",short:"WA",long:"US-WA"},{name:"West Virginia",short:"WV",long:"US-WV"},{name:"Wisconsin",short:"WI",long:"US-WI"},{name:"Wyoming",short:"WY",long:"US-WY"}].map(e=>({value:e.short,label:e.name})),CN:[{name:"Anhui Sheng",short:"AH",long:"CN-AH"},{name:"Beijing Shi",short:"BJ",long:"CN-BJ"},{name:"Chongqing Shi",short:"CQ",long:"CN-CQ"},{name:"Fujian Sheng",short:"FJ",long:"CN-FJ"},{name:"Gansu Sheng",short:"GS",long:"CN-GS"},{name:"Guangdong Sheng",short:"GD",long:"CN-GD"},{name:"Guangxi Zhuangzu Zizhiqu",short:"GX",long:"CN-GX"},{name:"Guizhou Sheng",short:"GZ",long:"CN-GZ"},{name:"Hainan Sheng",short:"HI",long:"CN-HI"},{name:"Hebei Sheng",short:"HE",long:"CN-HE"},{name:"Heilongjiang Sheng",short:"HL",long:"CN-HL"},{name:"Henan Sheng",short:"HA",long:"CN-HA"},{name:"Hubei Sheng",short:"HB",long:"CN-HB"},{name:"Hunan Sheng",short:"HN",long:"CN-HN"},{name:"Jiangsu Sheng",short:"JS",long:"CN-JS"},{name:"Jiangxi Sheng",short:"JX",long:"CN-JX"},{name:"Jilin Sheng",short:"JL",long:"CN-JL"},{name:"Liaoning Sheng",short:"LN",long:"CN-LN"},{name:"Nei Mongol Zizhiqu",short:"NM",long:"CN-NM"},{name:"Ningxia Huizu Zizhiqu",short:"NX",long:"CN-NX"},{name:"Qinghai Sheng",short:"QH",long:"CN-QH"},{name:"Shaanxi Sheng",short:"SN",long:"CN-SN"},{name:"Shandong Sheng",short:"SD",long:"CN-SD"},{name:"Shanghai Shi",short:"SH",long:"CN-SH"},{name:"Shanxi Sheng",short:"SX",long:"CN-SX"},{name:"Sichuan Sheng",short:"SC",long:"CN-SC"},{name:"Tianjin Shi",short:"TJ",long:"CN-TJ"},{name:"Xinjiang Uygur Zizhiqu",short:"XJ",long:"CN-XJ"},{name:"Xizang Zizhiqu",short:"XZ",long:"CN-XZ"},{name:"Yunnan Sheng",short:"YN",long:"CN-YN"},{name:"Zhejiang Sheng",short:"ZJ",long:"CN-ZJ"}].map(e=>({value:e.short,label:e.name}))};var N=function(e){return e.Subscription="subscription",e.OneTimePurchase="one-time-purchase",e.UpdatePaymentMethod="update-payment-method",e.AddBillingAddress="add-billing-address",e}({});function M(e){let t=(0,a.B2)(),[i,d]=(0,o.fp)(r.Nn),{errorModal:y,showErrorModal:C,closeErrorModal:N}=(0,j.A)(),[M,E]=(0,s.useState)(!1),[L,_]=(0,s.useState)({email:i.information.plainTextEmail??"",firstName:"",lastName:"",locale:"jp"===(0,u.cv)(i.settings,"uiLanguage")?"ja":"en",createBillingData:!1,billingData:{firstName:"",lastName:"",addressLine1:"",addressLine2:"",city:"",stateCode:"",country:"",zipCode:""}}),[F,G]=(0,s.useState)({}),[R,D]=(0,s.useState)({}),P=(0,s.useCallback)(e=>{let{name:t,value:i}=e.target;_({...L,[t]:i})},[L]),O=(0,s.useCallback)(e=>{let{name:t,value:i}=e.target,n={...L.billingData,[t]:i};"country"===t&&(n.stateCode=""),_({...L,billingData:n})},[L]),W=(0,s.useCallback)(async()=>new Promise((t,n)=>(0,h.QR)(i.auth_token,{email:L.email,firstName:"",lastName:""}).request().then(e=>{E(!1),!0===e.success&&(Y(!0),U(!1)),t(e)}).catch(t=>{f.oR.error(t),e.onFatalError&&e.onFatalError("Failed to create customer"),E(!1),n(t)})),[L,e,i.auth_token]),[H,Y]=(0,s.useState)(!1),[z,U]=(0,s.useState)(!1),Z=(0,s.useCallback)(()=>{E(!0),(0,h.sA)(i.auth_token).request().then(e=>{if(E(!1),null===e){Y(!1),U(!0);return}_(t=>({...t,email:e.email,firstName:e.firstName,lastName:e.lastName,billingData:{...t.billingData,firstName:e.firstName,lastName:e.lastName,...void 0!==e.billingData?e.billingData:{}}})),Y(!0),U(!e.email)}).catch(e=>{(0,p.vV)(e),f.oR.error(e),E(!1)})},[i.auth_token]),V=(0,s.useRef)(!1);(0,s.useEffect)(()=>{!V.current&&(V.current=!0,H||Z())},[Z,H]);let[q,K]=(0,s.useState)(h.g5.card),X=(0,s.useCallback)(function(e,i){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=[];return"email"===e&&z&&(i?(!i?.includes("@")||i.length<3)&&o.push(t.billingForm.validationWarnings.emailInvalid):o.push(t.billingForm.validationWarnings.emailRequired)),n&&G(t=>({...t,[e]:o})),o},[z,t.billingForm.validationWarnings.emailInvalid,t.billingForm.validationWarnings.emailRequired,t.billingForm.validationWarnings.genericRequired]),J=(0,s.useCallback)(function(i,n){let o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=[];switch(i){case"firstName":if("add-billing-address"===e.purchaseType)break;0===n.trim().length&&r.push(t.billingForm.validationWarnings.genericRequired),/^\d+$/.test(n)&&r.push(t.billingForm.errors.firstNameInvalid);break;case"lastName":if("add-billing-address"===e.purchaseType)break;0===n.trim().length&&r.push(t.billingForm.validationWarnings.genericRequired),/^\d+$/.test(n)&&r.push(t.billingForm.errors.lastNameInvalid);break;case"addressLine1":0===n.trim().length&&r.push(t.billingForm.validationWarnings.addressLine1Required),n.length>60&&r.push(t.billingForm.validationWarnings.addressLine1TooLong),/^\d+$/.test(n)&&r.push(t.billingForm.errors.addressLine1Invalid);break;case"addressLine2":n.length>60&&r.push(t.billingForm.validationWarnings.addressLine2TooLong);break;case"city":0===n.trim().length&&r.push(t.billingForm.validationWarnings.cityRequired),/^\d+$/.test(n)&&r.push(t.billingForm.errors.cityInvalid);break;case"country":0===n.trim().length&&r.push(t.billingForm.validationWarnings.countryRequired),k.has(n)&&r.push(t.billingForm.validationWarnings.blockedCountry);break;case"zipCode":0===n.trim().length&&r.push(t.billingForm.validationWarnings.zipRequired);break;case"stateCode":void 0!==T[L.billingData?.country??""]&&0===n.trim().length&&r.push(t.billingForm.validationWarnings.stateRequired)}return o&&D(e=>({...e,[i]:r})),r},[L.billingData?.country,t.billingForm.errors.addressLine1Invalid,t.billingForm.errors.cityInvalid,t.billingForm.errors.firstNameInvalid,t.billingForm.errors.lastNameInvalid,t.billingForm.validationWarnings.addressLine1Required,t.billingForm.validationWarnings.addressLine1TooLong,t.billingForm.validationWarnings.addressLine2TooLong,t.billingForm.validationWarnings.blockedCountry,t.billingForm.validationWarnings.cityRequired,t.billingForm.validationWarnings.countryRequired,t.billingForm.validationWarnings.genericRequired,t.billingForm.validationWarnings.stateRequired,t.billingForm.validationWarnings.zipRequired]),Q=(0,o.md)(r.x1),$=(0,s.useMemo)(()=>({classes:{focus:"focus",invalid:"invalid",empty:"empty",complete:"complete"},style:{base:{color:Q.colors.textMain,fontWeight:"500",fontFamily:"Source Sans Pro, Segoe UI, Helvetica Neue, sans-serif",fontSize:"16px",fontSmoothing:"antialiased",":focus":{color:Q.colors.textMain},"::placeholder":{color:(0,m.No)(.5,Q.colors.textMain)}},invalid:{color:Q.colors.warning}},locale:"jp"===(0,u.cv)(i.settings,"uiLanguage")?"ja":"en",placeholder:{number:"1234 1234 1234 1234",expiry:"MM / YY",cvv:t.billingForm.cvvOrCvc},fonts:["https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,500,600,800"]}),[t.billingForm.cvvOrCvc,i.settings,Q.colors.textMain,Q.colors.warning]),ee=(0,s.useRef)(null),et=(0,s.useCallback)(async()=>{if(L.billingData)return(0,h.Q8)(i.auth_token,{email:L.email,...L.billingData}).request()},[L.billingData,L.email,i.auth_token]),ei=(0,s.useMemo)(()=>{if("add-billing-address"===e.purchaseType)return 0;if("one-time-purchase"===e.purchaseType&&void 0!==e.anlasAmount)return(0,v.bK)(e.anlasAmount);if("subscription"===e.purchaseType&&void 0!==e.tier)return(0,c.wb)(e.tier);if("update-payment-method"===e.purchaseType)return 100;throw Error("Invalid purchase type or missing tier/anlasAmount")},[e.anlasAmount,e.purchaseType,e.tier]),en=(0,s.useMemo)(()=>{if("add-billing-address"===e.purchaseType)return"0.00";if("one-time-purchase"===e.purchaseType&&void 0!==e.anlasAmount)return`${(0,v.tT)(e.anlasAmount)}`;if("subscription"===e.purchaseType&&void 0!==e.tier)return`${(0,c.rT)(e.tier)}.00`;if("update-payment-method"===e.purchaseType)return"1.00";throw Error("Invalid purchase type or missing tier/anlasAmount")},[e.anlasAmount,e.purchaseType,e.tier]),eo=(0,s.useCallback)(async e=>(0,h.s0)(i.auth_token,ei,"USD",e).request(),[i.auth_token,ei]),er=(0,s.useCallback)(async(e,t)=>(0,c.ax)(i.subscription)?void(0,f.oR)("You are already subscribed."):(0,h.RF)(i.auth_token,(0,c.PB)(e),void 0,t).request(),[i.subscription,i.auth_token]),ea=(0,s.useCallback)(async(e,t)=>(0,h.A5)(i.auth_token,(0,v.pT)(e),1,!0,t,void 0,(0,u.cv)(i.settings,"uiLanguage")).request(),[i.auth_token,i.settings]),es=(0,s.useCallback)(async e=>(0,h.rS)(i.auth_token,e).request(),[i.auth_token]),[ec,ed]=(0,s.useState)(!1),el=(0,s.useCallback)(async t=>{switch(e.purchaseType){case"subscription":if(!e.tier)throw Error("Tier is not set when making subscription purchase.");return er(e.tier,t);case"one-time-purchase":if(!e.anlasAmount)throw Error("Anlas amount is not set when making one-time purchase.");return ea(e.anlasAmount,t);case"update-payment-method":return es(t)}},[e.anlasAmount,e.purchaseType,e.tier,ea,er,es]),eh=(0,s.useCallback)(async()=>{ed(!0);try{if(!H){let e=await W();if(null===e)return void ed(!1)}try{await et()}catch(e){(0,p.vV)(e),f.oR.error(t.billingForm.errors.billingDataUpdateFailure),ed(!1);return}let n=await eo(h.g5.card);if(!n||!L.billingData)return void ed(!1);let o={billingAddress:{firstName:L.billingData.firstName,lastName:L.billingData.lastName,addressLine1:L.billingData.addressLine1,addressLine2:L.billingData.addressLine2,city:L.billingData.city,state:L.billingData.stateCode,countryCode:L.billingData.country,zip:L.billingData.zipCode},email:L.email,mandate:{requireMandate:!0,description:"mandate_description"}};await ee.current.authorizeWith3ds(n.payment_intent,o).then(n=>{try{el(n.id).then(()=>{ed(!1),e.onFinish&&e.onFinish()}).catch(e=>{(0,h.eZ)(i.auth_token,n.id).request().catch(()=>{}),(0,p.vV)(e),f.oR.error(t.billingForm.errors.failedToFinalizePurchase+e?.message),ed(!1)})}catch(e){(0,p.vV)(e),f.oR.error(t.billingForm.errors.failedToFinalizePurchase+e?.message),ed(!1)}}).catch(o=>{let r=!1;if(o.message?.includes("One or more fields in the request contains invalid data")){let e=o.detail.error_field,i="";e?.includes("firstName")&&(i+=t.billingForm.errors.firstNameInvalid),e?.includes("lastName")&&(i+=t.billingForm.errors.lastNameInvalid),e?.includes("addressLine1")&&(i+=t.billingForm.errors.addressLine1Invalid),e?.includes("addressLine2")&&(i+=t.billingForm.errors.addressLine2Invalid),e?.includes("city")&&(i+=t.billingForm.errors.cityInvalid),e?.includes("state")&&(i+=t.billingForm.errors.stateInvalid),e?.includes("country")&&(i+=t.billingForm.errors.countryInvalid),e?.includes("zip")&&(i+=t.billingForm.errors.zipInvalid),void 0===e&&(i+=t.billingForm.errors.no3ds),C(i,JSON.stringify(o,void 0,2)),r=!0}if("The order has been rejected by Decision Manager"===o.message&&(C(t.billingForm.errors.decisionManagerRejection,JSON.stringify(o,void 0,2)),r=!0),"Decline - General decline of the card. No other information provided by the issuing bank."===o.message&&(C(t.billingForm.errors.genericDecline,JSON.stringify(o,void 0,2)),r=!0),"INVLD MER ID"===o.message&&(C(t.billingForm.errors.invalidMerchantId,JSON.stringify(o,void 0,2)),r=!0),"Encountered a Payer Authentication problem. Payer could not be authenticated."===o.message&&(C(t.billingForm.errors.payerAuthenticationProblem,JSON.stringify(o,void 0,2)),r=!0),(0,h.TX)(i.auth_token,{component:"billingform-"+e.purchaseType,details:{ids:{id:n?.payment_intent?.id,gateway_account_id:n?.payment_intent?.gateway_account_id,customer_id:n?.payment_intent?.customer_id},error:o},error_code:o?.name??"UNKNOWN_CARD_PAYMENT_ERROR",occurred_at:new Date().toISOString(),related_correlation_id:null,known_error:r}).request().catch(()=>{}),n?.payment_intent?.id&&(0,h.eZ)(i.auth_token,n?.payment_intent?.id).request().catch(()=>{}),r)return void ed(!1);let a=o&&o.message?o.message:"Unknown error occurred";C(a,JSON.stringify(o,void 0,2)),ed(!1)})}catch(e){(0,p.vV)(e),f.oR.error(e?.message),ed(!1)}},[W,eo,L.billingData,L.email,el,H,t.billingForm.errors.addressLine1Invalid,t.billingForm.errors.addressLine2Invalid,t.billingForm.errors.billingDataUpdateFailure,t.billingForm.errors.cityInvalid,t.billingForm.errors.countryInvalid,t.billingForm.errors.decisionManagerRejection,t.billingForm.errors.failedToFinalizePurchase,t.billingForm.errors.firstNameInvalid,t.billingForm.errors.genericDecline,t.billingForm.errors.invalidMerchantId,t.billingForm.errors.lastNameInvalid,t.billingForm.errors.no3ds,t.billingForm.errors.payerAuthenticationProblem,t.billingForm.errors.stateInvalid,t.billingForm.errors.zipInvalid,e,i.auth_token,C,et]),[eg,eu]=(0,s.useState)(!1),[ep,em]=(0,s.useState)(!0),ex=(0,s.useCallback)(async()=>{if(!H)try{await W()}catch(e){(0,p.vV)(e),f.oR.error(e);return}try{await et()}catch(e){(0,p.vV)(e),f.oR.error(t.billingForm.errors.billingDataUpdateFailure+e?.message);return}em(!1)},[W,H,t.billingForm.errors.billingDataUpdateFailure,et]),ef=(0,s.useCallback)(async()=>{if(!H||eg)return;eu(!0);let n=await eo(h.g5.paypal);try{let o=window?.Chargebee?.getInstance();if(!o)throw Error("Chargebee instance not found");o.load("paypal").then(async o=>{try{o.setPaymentIntent(n.payment_intent),o.mountPaymentButton("#paypal-button",{style:{shape:"pill",color:"blue",layout:"horizontal",label:"paypal"}}).then(()=>{eu(!1),o.handlePayment().then(n=>{ed(!0),el(n.id).then(()=>{ed(!1),e.onFinish&&e.onFinish()}).catch(e=>{(0,p.vV)(e),(0,h.eZ)(i.auth_token,n.id).request().catch(()=>{}),f.oR.error(t.billingForm.errors.failedToFinalizePurchase+e?.message),ed(!1)})}).catch(t=>{(0,h.TX)(i.auth_token,{component:"billingform-"+e.purchaseType,details:{ids:{id:n?.payment_intent?.id,gateway_account_id:n?.payment_intent?.gateway_account_id,customer_id:n?.payment_intent?.customer_id},error:t},error_code:"PAYPAL_ERROR",occurred_at:new Date().toISOString(),related_correlation_id:null,known_error:!1}).request().catch(()=>{}),n?.payment_intent?.id&&(0,h.eZ)(i.auth_token,n?.payment_intent?.id).request().catch(()=>{}),eu(!1),C("PayPal payment failed: "+t.message,JSON.stringify(t,void 0,2))})})}catch(e){eu(!1),f.oR.error("Error setting payment intent: "+(e?.message||e));return}}).catch(e=>{eu(!1),f.oR.error("Error loading PayPal: "+(e?.message||e))})}catch(e){eu(!1),f.oR.error("Error loading PayPal: "+e?.message)}},[eo,el,H,t.billingForm.errors.failedToFinalizePurchase,e,i.auth_token,eg,C]),eb=(0,s.useCallback)(async()=>{if(!H)try{await W()}catch(e){(0,p.vV)(e),f.oR.error(e);return}try{await et(),e.onFinish?.()}catch(e){(0,p.vV)(e),f.oR.error(t.billingForm.errors.billingDataUpdateFailure+e?.message);return}},[W,H,t.billingForm.errors.billingDataUpdateFailure,et]);(0,s.useEffect)(()=>{q===h.g5.paypal&&H&&!ep?ef():q===h.g5.paypal&&!H&&i.information.plainTextEmail&&W().catch(e=>{(0,p.vV)(e),f.oR.error("Failed to create customer")})},[q,ep]);let ey=(0,s.useMemo)(()=>{if(!L)return!0;let e={};for(let t in L){let i=X(t,L[t]?.toString()??"",!1);i.length>0&&(e[t]=i)}return Object.keys(e).some(t=>e[t]?.length)},[L,X]),[ew,ev]=(0,s.useState)(""),[ej,eA]=(0,s.useState)(""),[eS,eI]=(0,s.useState)(""),[ek,eC]=(0,s.useState)(!1),[eT,eN]=(0,s.useState)(!1),[eM,eB]=(0,s.useState)(!1),[eE,eL]=(0,s.useState)(!1),[e_,eF]=(0,s.useState)(!1),[eG,eR]=(0,s.useState)(!1);(0,s.useEffect)(()=>{q===h.g5.paypal&&(eL(!1),eF(!1),eR(!1))},[q]);let eD=(0,s.useMemo)(()=>{if(!L.billingData)return!0;let e={};for(let t in L.billingData){let i=J(t,L.billingData[t]?.toString()??"",!1);i.length>0&&(e[t]=i)}return Object.keys(e).some(t=>e[t]?.length)},[L.billingData,J]);(0,s.useMemo)(()=>(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)("input",{name:"firstName",className:L.firstName?"checkout-input val":"checkout-input",type:"text",placeholder:t.billingForm.firstName,value:L.firstName||"",onChange:P,onBlur:e=>{X("firstName",e.target.value)},id:"firstName"}),(0,n.jsx)("div",{className:"error",children:F.firstName&&F.firstName.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]}),[L.firstName,F.firstName,P,t.billingForm.firstName,X]),(0,s.useMemo)(()=>(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)("input",{name:"lastName",className:L.lastName?"checkout-input val":"checkout-input",type:"text",placeholder:t.billingForm.lastName,value:L.lastName||"",onChange:P,onBlur:e=>{X("lastName",e.target.value)},id:"lastName"}),(0,n.jsx)("div",{className:"error",children:F.lastName&&F.lastName.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]}),[L.lastName,F.lastName,P,t.billingForm.lastName,X]);let eP=(0,s.useMemo)(()=>(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)("input",{name:"email",className:L.email?"checkout-input val":"checkout-input",type:"email",placeholder:t.billingForm.email,value:L.email||"",onChange:P,onBlur:e=>{X("email",e.target.value)},id:"email"}),(0,n.jsx)("div",{className:"error",children:F.email&&F.email.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]}),[L.email,F.email,P,t.billingForm.email,X]),eO=(0,s.useMemo)(()=>(0,n.jsxs)("div",{className:"payment-options",style:{marginBottom:"30px",textAlign:"left"},children:[(0,n.jsxs)("button",{className:q===h.g5.card?"checkout-button selected":"checkout-button",onClick:()=>{K(h.g5.card)},style:{marginRight:"10px"},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[(0,n.jsx)(w(),{icon:"visa",style:{width:"30px",height:"20px"}}),(0,n.jsx)(w(),{icon:"mastercard",style:{width:"30px",height:"20px"}}),(0,n.jsx)(w(),{icon:"amex",style:{width:"30px",height:"20px"}}),(0,n.jsx)(w(),{icon:"jcb",style:{width:"30px",height:"20px"}})]}),t.billingForm.card]}),(0,n.jsxs)("button",{className:q===h.g5.paypal?"checkout-button selected":"checkout-button",onClick:()=>{K(h.g5.paypal)},children:[(0,n.jsx)("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:(0,n.jsx)(w(),{icon:"paypal",style:{width:"40px",height:"30px"}})}),t.billingForm.paypal]})]}),[t.billingForm.card,t.billingForm.paypal,q]),eW=(0,s.useMemo)(()=>(0,n.jsxs)("div",{className:"checkout-fields",children:[(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)("input",{name:"firstName",className:L.billingData?.firstName?"checkout-input val":"checkout-input",type:"text",placeholder:t.billingForm.firstName,value:L.billingData?.firstName||"",onChange:O,onBlur:e=>{J("firstName",e.target.value)},id:"firstName"}),(0,n.jsx)("div",{className:"error",children:R.firstName&&R.firstName.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]}),(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)("input",{name:"lastName",className:L.billingData?.lastName?"checkout-input val":"checkout-input",type:"text",placeholder:t.billingForm.lastName,value:L.billingData?.lastName||"",onChange:O,onBlur:e=>{J("lastName",e.target.value)},id:"lastName"}),(0,n.jsx)("div",{className:"error",children:R.lastName&&R.lastName.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]})]}),[R.firstName,R.lastName,L.billingData?.firstName,L.billingData?.lastName,O,t.billingForm.firstName,t.billingForm.lastName,J]),eH=(0,s.useMemo)(()=>(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)("input",{name:"addressLine1",className:L.billingData?.addressLine1?"checkout-input val":"checkout-input",type:"text",placeholder:t.billingForm.addressLine1,value:L.billingData?.addressLine1||"",onChange:O,onBlur:e=>{J("addressLine1",e.target.value)},id:"addressLine1"}),(0,n.jsx)("div",{className:"error",children:R.addressLine1&&R.addressLine1.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]}),[R.addressLine1,L.billingData?.addressLine1,O,t.billingForm.addressLine1,J]),eY=(0,s.useMemo)(()=>(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)("input",{name:"addressLine2",className:L.billingData?.addressLine2?"checkout-input val":"checkout-input",type:"text",placeholder:t.billingForm.addressLine2,value:L.billingData?.addressLine2||"",onChange:O,onBlur:e=>{J("addressLine2",e.target.value)},id:"addressLine2"}),(0,n.jsx)("div",{className:"error",children:R.addressLine2&&R.addressLine2.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]}),[R.addressLine2,L.billingData?.addressLine2,O,t.billingForm.addressLine2,J]),ez=(0,s.useMemo)(()=>(0,n.jsxs)("div",{className:"checkout-fields",children:[(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)("input",{name:"city",className:L.billingData?.city?"checkout-input val":"checkout-input",type:"text",placeholder:t.billingForm.city,value:L.billingData?.city||"",onChange:O,onBlur:e=>{J("city",e.target.value)},id:"city"}),(0,n.jsx)("div",{className:"error",children:R.city&&R.city.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]}),(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)("input",{name:"zipCode",className:L.billingData?.zipCode?"checkout-input val":"checkout-input",type:"text",placeholder:t.billingForm.zipCode,value:L.billingData?.zipCode||"",onChange:O,onBlur:e=>{J("zipCode",e.target.value)},id:"zipCode"}),(0,n.jsx)("div",{className:"error",children:R.zipCode&&R.zipCode.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]})]}),[R.city,R.zipCode,L.billingData?.city,L.billingData?.zipCode,O,t.billingForm.city,t.billingForm.zipCode,J]),eU=(0,s.useMemo)(()=>(0,n.jsxs)("div",{className:"checkout-fields",children:[(0,n.jsxs)("div",{className:"checkout-field",style:{zIndex:1e3},children:[(0,n.jsx)(b.l6,{placeholder:t.billingForm.country,options:I,menuPlacement:"auto",menuPortalTarget:document.body,menuPosition:"fixed",value:I.find(e=>e.value===L.billingData?.country),onChange:e=>{if(!e)return;let t=e.value;O({target:{name:"country",value:t}}),J("country",t)},id:"country"}),(0,n.jsx)("div",{className:"error",children:R.country&&R.country.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]}),T[L.billingData?.country??""]&&(0,n.jsxs)("div",{className:"checkout-field",children:[(0,n.jsx)(b.l6,{placeholder:t.billingForm.state,options:T[L.billingData?.country??""],menuPlacement:"auto",menuPortalTarget:document.body,menuPosition:"fixed",value:T[L.billingData?.country??""].find(e=>e.value===L.billingData?.stateCode),onChange:e=>{if(!e)return;let t=e.value;O({target:{name:"stateCode",value:t}}),J("stateCode",t)},id:"state"}),(0,n.jsx)("div",{className:"error",children:R.stateCode&&R.stateCode.map((e,t)=>(0,n.jsx)("div",{children:e},t))})]})]}),[R.country,R.stateCode,L.billingData?.country,L.billingData?.stateCode,O,t.billingForm.country,t.billingForm.state,J]),eZ=(0,a.o)();return M?(0,n.jsx)(B,{className:"address-form",children:(0,n.jsx)("div",{className:"checkout-field",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,n.jsx)(l.k,{visible:!0})})}):(0,n.jsxs)(B,{className:"address-form",style:{opacity:ec?.5:1,pointerEvents:ec?"none":"auto"},children:[y,(0,n.jsxs)("div",{style:{textAlign:"center",marginBottom:20,fontSize:"1.125rem"},children:["subscription"===e.purchaseType&&void 0!==e.tier&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,g.zw)(t.billingForm.subscribeToX,eZ(e.tier)).map((e,t)=>1===t?(0,n.jsx)("span",{style:{fontWeight:600},children:e},t):(0,n.jsx)("span",{children:e},t))}),(0,n.jsxs)("div",{style:{fontSize:"1.5rem",display:"flex",justifyContent:"center",marginTop:"4px",alignItems:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"2.5rem",lineHeight:"1",fontWeight:600,marginRight:"4px",color:Q.colors.textHeadings,fontFamily:Q.fonts.headings},children:`$${en}`}),(0,n.jsx)("div",{style:{fontSize:"0.875rem",opacity:.8,color:Q.colors.textMain},children:t.subscription.tierCards.perMonth})]})]}),"one-time-purchase"===e.purchaseType&&void 0!==e.anlasAmount&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,g.zw)(t.billingForm.purchaseXAnlas,e.anlasAmount).map((e,t)=>1===t?(0,n.jsx)("span",{style:{fontWeight:600},children:e},t):(0,n.jsx)("span",{children:e},t))}),(0,n.jsx)("div",{style:{fontSize:"1.5rem",display:"flex",justifyContent:"center",marginTop:"4px",alignItems:"center"},children:(0,n.jsx)("div",{style:{fontSize:"2.5rem",lineHeight:"1",fontWeight:600,marginRight:"4px",color:Q.colors.textHeadings,fontFamily:Q.fonts.headings},children:`$${en}`})})]}),"update-payment-method"===e.purchaseType&&(0,n.jsx)("div",{style:{fontSize:"1.5rem"},children:t.subscription.updatePaymentMethod}),"add-billing-address"===e.purchaseType&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{fontSize:"1.5rem",textAlign:"left"},children:(0,n.jsx)(S.f4,{children:t.subscription.updateYourBillingAddress})}),(0,n.jsx)("div",{style:{fontSize:"1rem",textAlign:"left"},children:t.subscription.updateYourBillingAddressText})]})]}),"add-billing-address"!==e.purchaseType&&eO,q===h.g5.paypal&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"checkout-label-static",children:t.billingForm.payWithPaypal}),(0,n.jsx)("div",{className:"checkout-group",children:(0,n.jsxs)("div",{style:{display:"flex",gap:"10px",padding:"10px",alignItems:"center",fontSize:"0.875rem"},children:[(0,n.jsx)(w(),{icon:"paypal",style:{width:"60px",height:"50px"}}),(0,n.jsx)("div",{children:t.billingForm.paypalRedirect})]})})]}),"add-billing-address"!==e.purchaseType?(0,n.jsxs)(n.Fragment,{children:[z&&!(!H&&i.information.hasPlaintextEmail)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"checkout-label-static",children:t.billingForm.email}),(0,n.jsx)("div",{className:"checkout-group",children:eP})]}),q===h.g5.paypal&&ep&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"checkout-label-static",children:t.billingForm.name}),(0,n.jsx)("div",{className:"checkout-group",children:eW})]}),q===h.g5.card&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"checkout-label-static",children:t.billingForm.cardInformation}),(0,n.jsxs)("div",{className:"checkout-group",children:[eW,(0,n.jsxs)("div",{className:"checkout-fieldset",style:{position:"relative"},children:[(!eE||!e_||!eG||ec)&&(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",position:"absolute",top:0,left:0,width:"100%",zIndex:1},children:(0,n.jsx)(l.k,{visible:!0})}),(0,n.jsx)("div",{style:{opacity:eE&&e_&&eG?1:0},children:(0,n.jsxs)(x.ib,{ref:ee,className:"fieldset field",styles:$.style,classes:{focus:"focus",invalid:"invalid",empty:"empty",complete:"complete"},locale:$.locale,placeholder:$.placeholder,fonts:$.fonts,children:[(0,n.jsxs)("div",{className:"checkout-field frame",style:{position:"relative"},children:[(0,n.jsx)(x.q3,{className:"checkout-input",onChange:e=>{e.complete&&eC(!0),e.error?ev(e.error.message):ev("")},onReady:()=>{eL(!0)}}),(0,n.jsx)("div",{className:"error",children:ew&&(0,n.jsx)("div",{className:"error",children:ew})})]}),(0,n.jsxs)("div",{className:"checkout-fields",children:[(0,n.jsxs)("div",{className:"checkout-field frame",children:[(0,n.jsx)(x.Mn,{className:"checkout-input",onChange:e=>{e.complete&&eN(!0),e.error?eA(e.error.message):eA("")},onReady:()=>{eF(!0)}}),(0,n.jsx)("div",{className:"error",children:ej&&(0,n.jsx)("div",{className:"error",children:ej})})]}),(0,n.jsxs)("div",{className:"checkout-field frame",children:[(0,n.jsx)(x.S_,{className:"checkout-input",onChange:e=>{e.complete&&eB(!0),e.error?eI(e.error.message):eI("")},onReady:()=>{eR(!0)}}),(0,n.jsx)("div",{className:"error",children:eS&&(0,n.jsx)("div",{className:"error",children:eS})})]})]})]})})]})]})]}),(q===h.g5.card||q===h.g5.paypal&&ep)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"checkout-label-static",children:t.billingForm.billingAddress}),(0,n.jsxs)("div",{className:"checkout-group",children:[eH,eY,ez,eU]})]}),(0,n.jsx)("div",{style:{height:20}}),"subscription"===e.purchaseType&&(0,n.jsx)("div",{style:{textAlign:"center",marginBottom:6},children:t.billingForm.yourSubscriptionWillBeCharged}),q===h.g5.card?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{type:"submit",className:"checkout-button",onClick:eh,disabled:M||eD||ey||""!==ew||""!==ej||""!==eS||!ek||!eT||!eM,children:"subscription"===e.purchaseType?(0,g.LP)(t.billingForm.payXAndSubscribe,`$${en}`):"one-time-purchase"===e.purchaseType?(0,g.LP)(t.billingForm.payX,`$${en}`):"update-payment-method"===e.purchaseType?t.subscription.updatePaymentMethod:""})}):q===h.g5.paypal?(0,n.jsx)("div",{style:{position:"relative"},className:"checkout-fieldset",children:ep?(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",className:"checkout-button",onClick:()=>{ex()},disabled:M||ey||eD,children:t.common.next})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{id:"paypal-button",style:{height:45}}),eg&&(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",position:"absolute",top:0,left:0,width:"100%",zIndex:1},children:(0,n.jsx)(l.k,{visible:!0})})]})}):(0,n.jsx)(n.Fragment,{})]}):(0,n.jsxs)(n.Fragment,{children:[z&&!(!H&&i.information.hasPlaintextEmail)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"checkout-label-static",children:t.billingForm.email}),(0,n.jsx)("div",{className:"checkout-group",children:eP})]}),(0,n.jsx)("div",{className:"checkout-label-static",children:t.billingForm.billingAddress}),(0,n.jsxs)("div",{className:"checkout-group",children:[eH,eY,ez,eU]}),(0,n.jsx)(A.X,{height:20}),(0,n.jsx)("button",{type:"submit",className:"checkout-button",onClick:eb,disabled:M||eD||ey,children:t.subscription.updateAddress})]})]})}let B=d.Ay.div.withConfig({componentId:"sc-17f2269b-0"})(["font-family:'Source Sans Pro',sans-serif !important;margin-top:10px;max-width:400px;min-width:300px;min-height:300px;width:100%;.ex1.container{margin:auto;padding:100px 0;min-height:100vh;}.error{color:",";font-size:0.875rem;opacity:0.8;padding:0px 10px;position:relative;top:-5px;}.checkout-wrap{margin:auto;max-width:400px;border-radius:8px;background:#fff;padding:32px;}.checkout-field{position:relative;}.checkout-field input{padding:10px 10px;}.checkout-fields{display:flex;}.checkout-fields .checkout-field{flex:1;}.checkout-fields .checkout-field:nth-child(n + 1){border-right:1px solid ",";}.checkout-field.frame{padding:6px 8px;}.checkout-group{overflow:hidden;border-radius:6px;border:1px solid ",";}.checkout-group *:not(.checkout-fields) .checkout-field:not(:last-child){border-bottom:1px solid ",";}.checkout-group > .checkout-field:not(:last-child){border-bottom:1px solid ",";}.checkout-group .checkout-fields:not(:last-child){border-bottom:1px solid ",";}.checkout-label-static{font-size:0.875rem;font-weight:500;pointer-events:none;margin-top:20px;padding-left:0.125rem;margin-bottom:0.5rem;color:",";}.checkout-label{font-size:12px;font-weight:500;color:",";position:absolute;top:0.25rem;pointer-events:none;padding-left:0.125rem;z-index:1;font-weight:normal;-webkit-transition:all 0.28s ease;transition:all 0.28s ease;left:0;}.checkout-input{width:100%;display:block;background:transparent;border-radius:0;border:none;padding:4px 2px;border-width:0;border-color:transparent;color:",";font-size:16px;font-family:inherit;font-weight:500;transition:0.2s;cursor:text;-webkit-transition:all 0.28s ease;transition:all 0.28s ease;box-shadow:none;}.checkout-input::placeholder{color:",";}.checkout-input:focus ~ .checkout-label,.checkout-input.focus ~ .checkout-label,.checkout-input.val ~ .checkout-label,.checkout-input.complete ~ .checkout-label,.checkout-input.invalid ~ .checkout-label{font-size:0.8rem;color:",";top:-1rem;left:0;}.checkout-bar{position:relative;border-bottom:0.0625rem solid ",";display:block;}.checkout-bar::before{content:'';height:0.125rem;width:0;left:50%;bottom:-0.0625rem;position:absolute;background:",";-webkit-transition:left 0.28s ease,width 0.28s ease;transition:left 0.28s ease,width 0.28s ease;z-index:2;}.checkout-input:focus ~ .checkout-bar::before,.checkout-input.focus ~ .checkout-bar::before{width:100%;left:0;}.checkout-button{background:",";color:",";font-weight:700;font-size:16px;font-family:inherit;border:none;border-radius:4px;padding:12px 20px;display:block;width:100%;letter-spacing:0.5px;transition:0.2s;cursor:pointer;}.checkout-button:disabled{opacity:0.5;cursor:not-allowed;}.checkout-button:hover,.checkout-button:focus{background:",";}.checkout-button.submit{background-position:50%;background-repeat:no-repeat;background-size:20px;color:transparent !important;transition-duration:0s;}.payment-options{display:flex;margin-bottom:30px;text-align:left;}.payment-options .checkout-button{padding:5px 10px;background:",";color:",";min-height:80px;}.payment-options .checkout-button.selected{padding:5px 10px;background:"," !important;color:"," !important;}.address-form{border-radius:6px;padding:20px;margin-bottom:20px;}.address-form .checkout-field{margin-bottom:20px;}.checkout-wrap .intent_id{color:#555;padding:10px;text-align:left;font-weight:500;}.checkout-wrap .error{color:",";padding:10px;text-align:left;font-weight:500;}"],e=>e.theme.colors.warning,e=>e.theme.colors.bg3,e=>e.theme.colors.bg3,e=>e.theme.colors.bg3,e=>e.theme.colors.bg3,e=>e.theme.colors.bg3,e=>(0,m.No)(.2,e.theme.colors.textMain),e=>(0,m.No)(.2,e.theme.colors.textMain),e=>e.theme.colors.textMain,e=>(0,m.No)(.5,e.theme.colors.textMain),e=>(0,m.No)(.2,e.theme.colors.textMain),e=>(0,m.No)(.5,e.theme.colors.textMain),e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg1,e=>(0,m.jh)(.5,e.theme.colors.textHeadings,e.theme.colors.textMain),e=>e.theme.colors.bg1,e=>e.theme.colors.textMain,e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg1,e=>e.theme.colors.warning)},29397:(e,t,i)=>{"use strict";i.d(t,{r:()=>T});var n=i(94458),o=i(55805),r=i(89077),a=i(97223),s=i(20645),c=i(83513),d=i(2834),l=i(73484),h=i(68658),g=i(48581),u=i(48370),p=i(98883),m=i(71928),x=i(17309),f=i(27550),b=i(52746),y=i(38474),w=i(81336),v=i(92704),j=i(14666),A=i(82685),S=i(27524),I=i(75859);let k={src:"/_next/static/media/mini-collage.a06f31ff.webp"},C=o.Ay.div.withConfig({componentId:"sc-6a118057-0"})(["color:",";font-size:1.125rem;padding:10px 20px;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:10px;font-weight:700;"],e=>e.theme.colors.textMain);function T(){let e=(0,l.B2)(),{capture:t}=(0,c.A)(),[i,o]=(0,d.fp)(a.Nn),r=(0,d.Xr)(a.x1),b=(0,d.Xr)(a.Ak),w=(0,d.Xr)(a.Hw),{fetchTrialActionCount:v}=(0,p.R9)(),j=(0,d.Xr)(a.Dh),A=(0,d.Xr)(a.zV),k=(0,y.useRouter)(),T=(0,d.Xr)(a.BQ);(0,h.useEffect)(()=>{if(i.noAccount&&"true"!==(0,x.W9)("signUpModalShown")){let e=k.pathname.includes("/image"),t="true"===(0,x.W9)("fromLandingPage");e&&!t?j(!0):b(!0),sessionStorage.setItem("signUpModalShown","true")}},[]),(0,h.useEffect)(()=>{k.isReady&&"true"===k.query.allSet&&(A(!0),k.replace(k.pathname,void 0,{shallow:!0}))},[k.isReady,k.query.allSet,A,k.pathname,k]);let E=(0,h.useMemo)(()=>i.information.emailVerified,[i.information.emailVerified]),L=(0,h.useMemo)(()=>i.noAccount,[i.noAccount]);(0,h.useEffect)(()=>{if(!L&&!E){let e=new BroadcastChannel("email-confirmation"),t=null,n=()=>{t&&clearInterval(t),e.close()},r=async()=>{try{let e=await (0,u.kt)(i.auth_token).request();e.emailVerified&&(await v(),o(t=>({...t,information:e})),b(!1),A(!0),n())}catch(e){(0,m.vV)(e)}};return t=setInterval(()=>{r()},3e5),e.onmessage=t=>{"confirmed"===t.data.type&&r(),e.postMessage({type:"navigateTo",route:k.route})},()=>{n()}}},[L,E,t,i.auth_token,o,b,v,A,k]);let _=(0,d.Xr)(a.hW);return(0,n.jsxs)(n.Fragment,{children:[L&&(0,n.jsxs)(C,{children:[(0,n.jsx)("span",{style:{textAlign:"center"},children:e.banner.createAnAccount}),(0,n.jsxs)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[(0,n.jsx)(N,{onClick:()=>{b(!0),t("register:clicked","non_account_banner")},color:"#D9FFE1",children:e.general.signUp}),(0,n.jsx)(N,{onClick:()=>{w(!0),r(s.F),t("login:clicked","non_account_banner")},color:"#D9FFE1",children:e.general.logIn})]})]}),!L&&!E&&(0,n.jsxs)(C,{children:[(0,n.jsx)("span",{children:e.banner.confirmEmail}),(0,n.jsx)(N,{onClick:()=>{i.information.accountCreatedAt<=S.xT?(T(I.A.Account),_(4)):b(!0)},color:"#D9FFE1",children:e.banner.confirm})]}),(0,n.jsx)(g.ModalSignUp,{}),(0,n.jsx)(f.ModalLogin,{}),(0,n.jsx)(M,{}),(0,n.jsx)(B,{})]})}let N=(0,o.Ay)(r.WM).withConfig({componentId:"sc-6a118057-1"})(["padding:3px 20px;border-radius:3px;font-size:1rem;"]);function M(){let e=(0,l.B2)(),t=(0,d.Xr)(a.Ak),[i,o]=(0,d.fp)(a.Dh);return(0,n.jsx)(b.A,{isOpen:i,onRequestClose:()=>{o(!1)},shouldCloseOnOverlayClick:!0,type:b.q.Generic,style:{maxHeight:"max-content"},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.J,{onClick:()=>{o(!1)},children:(0,n.jsx)("div",{})}),(0,n.jsxs)("div",{style:{maxWidth:"100vw",width:"500px",maxHeight:"max-content",display:"flex",flexDirection:"column",alignItems:"center",padding:"130px 30px 30px",gap:"15px",backgroundImage:`url(${k.src})`,backgroundRepeat:"no-repeat",backgroundPosition:"top center",backgroundSize:"contain"},children:[(0,n.jsx)(v.C65,{style:{height:"50px",width:"50px"},highlight:!0}),(0,n.jsxs)("div",{children:[(0,n.jsx)(j.iK,{style:{fontSize:"2rem",fontWeight:"600"},children:e.trial.imageTrialWelcome}),(0,n.jsx)("div",{style:{textAlign:"center"},children:e.trial.imageTrialSubtext})]}),(0,n.jsx)("div",{style:{textAlign:"center",paddingTop:"10px"},children:e.trial.imageTrialDesc}),(0,n.jsxs)("div",{style:{width:"100%",maxWidth:"max-content"},children:[(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsx)("span",{children:e.trial.imageTrialIncludes[0]}),(0,n.jsx)("strong",{children:e.trial.imageTrialIncludes[1]}),(0,n.jsx)("span",{children:e.trial.imageTrialIncludes[2]})]}),(0,n.jsxs)("ul",{style:{fontSize:"0.875rem",opacity:.7,margin:"10px 0px 10px 30px"},children:[(0,n.jsx)("li",{children:e.trial.imageTrialBulletPoints[0]}),(0,n.jsx)("li",{children:e.trial.imageTrialBulletPoints[1]}),(0,n.jsx)("li",{children:e.trial.imageTrialBulletPoints[2]})]})]}),(0,n.jsx)(E,{onClick:()=>{t(!0),o(!1)},children:e.trial.imageTrialStart})]})]})})}function B(){let e=(0,l.B2)(),[t,i]=(0,d.fp)(a.zV);return(0,n.jsx)(b.A,{isOpen:t,onRequestClose:()=>{i(!1)},shouldCloseOnOverlayClick:!0,type:b.q.Generic,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.J,{onClick:()=>{i(!1)},children:(0,n.jsx)("div",{})}),(0,n.jsxs)("div",{style:{maxWidth:"100vw",width:"410px",height:"319px",display:"flex",flexDirection:"column",alignItems:"center",padding:"60px 30px 30px",gap:"15px"},children:[(0,n.jsx)(v.Wdv,{style:{height:"50px",width:"50px"},highlight:!0}),(0,n.jsx)(j.iK,{style:{fontSize:"2rem",fontWeight:"600"},children:e.authFormGeneral.youreAllSet}),(0,n.jsx)("div",{children:e.authFormGeneral.welcomeToNovelAI}),(0,n.jsx)(A.X,{height:10}),(0,n.jsx)(E,{onClick:()=>{i(!1)},children:e.common.continue})]})]})})}let E=(0,o.Ay)(r.ur).withConfig({componentId:"sc-6a118057-2"})(["border:1px solid ",";color:",";border-radius:3px;width:100%;justify-content:center;"],e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings)},29852:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(94458),o=i(68658),r=i(52746),a=i(55805),s=i(81336),c=i(89077),d=i(73484);function l(){let e=(0,d.B2)(),[t,i]=(0,o.useState)(null),[a,l]=(0,o.useState)(null),[u,p]=(0,o.useState)(!1),[m,x]=(0,o.useState)(!1),f=(0,o.useCallback)((e,t)=>{i(e),l(t||null),p(!1),x(!0)},[]),b=(0,o.useCallback)(()=>{x(!1),i(null)},[]);return{errorModal:(0,o.useMemo)(()=>m?(0,n.jsx)(r.A,{isOpen:m,onRequestClose:()=>{b()},shouldCloseOnOverlayClick:!0,type:r.q.Large,style:{justifyContent:"flex-end",overflow:"hidden"},children:(0,n.jsxs)(h,{children:[(0,n.jsx)(s.J,{onClick:()=>{b()},children:(0,n.jsx)("div",{})}),(0,n.jsx)("div",{style:{fontSize:"20px",fontWeight:600,marginBottom:"4px"},children:"Error"}),(0,n.jsx)("div",{children:t}),a&&(0,n.jsx)(c.Dp,{style:{marginTop:"16px",fontSize:"14px",fontWeight:600,opacity:.7},onClick:()=>{p(!u)},children:u?e.common.hideDetails:e.common.showDetails}),u&&(0,n.jsx)(g,{children:a})]})}):null,[m,t,a,u,e.common.hideDetails,e.common.showDetails,b]),showErrorModal:f,closeErrorModal:b,errorModalOpen:m,errorText:t}}let h=a.Ay.div.withConfig({componentId:"sc-b6825d08-0"})(["padding:20px;background:",";border:1px solid ",";border-radius:8px;display:flex;position:relative;max-width:100vw;width:500px;flex-direction:column;"],e=>e.theme.colors.bg2,e=>e.theme.colors.bg3),g=a.Ay.div.withConfig({componentId:"sc-b6825d08-1"})(["margin-top:4px;padding:16px;background:",";border-radius:8px;max-height:300px;overflow-y:auto;white-space:pre-wrap;"],e=>e.theme.colors.bg3)},29857:(e,t,i)=>{"use strict";i.d(t,{CD:()=>ee,Dv:()=>y,FV:()=>w,Gh:()=>O,I$:()=>f,KK:()=>Q,Lz:()=>H,M5:()=>_,O0:()=>ei,RL:()=>F,T2:()=>Y,UL:()=>R,Ur:()=>U,V1:()=>z,VH:()=>m,VO:()=>u,Vb:()=>P,Wz:()=>N,X5:()=>K,Y9:()=>p,_5:()=>L,a1:()=>I,av:()=>$,eL:()=>V,fP:()=>E,fh:()=>v,g8:()=>k,gG:()=>q,gY:()=>x,h3:()=>G,kx:()=>C,lP:()=>J,l_:()=>Z,ly:()=>X,ms:()=>W,n2:()=>g,nG:()=>j,ou:()=>et,pH:()=>A,pv:()=>S,qH:()=>T,sL:()=>b,vj:()=>B,xB:()=>D,y1:()=>M});var n=i(55805),o=i(77256),r=i(33996),a=i(77597),s=i(67680),c=i(89077),d=i(92704),l=i(20645),h=i(47644);let g=n.Ay.div.withConfig({componentId:"sc-f031e830-0"})([""," border-right:1px solid ",";"],r.Bx,e=>e.theme.colors.bg3),u=n.Ay.div.withConfig({componentId:"sc-f031e830-1"})([""," display:",";flex-direction:row-reverse;display:flex;top:18px;align-items:center;background:",";left:0;padding-left:20px;> *{cursor:pointer;}"],r.VO,e=>e.visible?"flex":"none",e=>e.theme.colors.bg2),p=n.Ay.div.withConfig({componentId:"sc-f031e830-2"})(["background:",";display:flex;flex:0;flex-direction:row;justify-content:space-between;height:auto;min-height:58px;padding:0 20px;padding-right:0px;","{width:16px;height:16px;transition:transform ",";}"],e=>e.theme.colors.bg1,d.Int,e=>e.theme.transitions.interactive),m=n.Ay.div.withConfig({componentId:"sc-f031e830-3"})(["align-items:center;display:flex;flex:0;flex-direction:row;> div{&:hover{","{transform:scale(1.1);}}}"],d.Int),x=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-f031e830-4"})(["flex-grow:0;font-family:",";color:",";font-size:1.2rem;margin:0 0 -6px;word-break:normal;text-overflow:ellipsis;max-width:150px;overflow:hidden;"],l.F.fonts.headings,e=>e.theme.colors.textMain);n.Ay.h1.withConfig({componentId:"sc-f031e830-5"})(["flex-grow:1;font-family:",";color:",";font-size:1.5rem;margin:0 0 -8px 8px;font-size:1rem;opacity:0.3;text-overflow:ellipsis;overflow:hidden;word-break:keep-all;max-width:fit-content;"],l.F.fonts.headings,e=>e.theme.colors.textMain),n.Ay.div.withConfig({componentId:"sc-f031e830-6"})(["cursor:pointer;font-size:1.3rem;margin-bottom:-6px;"]);let f=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-f031e830-7"})(["height:100%;border-left:1px solid ",";padding:0 15px;position:relative;background-color:",";&:hover{background-color:",";}&:last-child{padding-right:20px;&:hover{> *{transform:scale(1.1);}}}"],e=>e.theme.colors.bg3,e=>e.active?e.theme.colors.bg3:e.theme.colors.bg1,e=>e.theme.colors.bg3);n.Ay.img.withConfig({componentId:"sc-f031e830-8"})(["border-radius:100%;height:20px;width:20px;border:1px solid ",";"],e=>e.theme.colors.bg3);let b=n.Ay.div.withConfig({componentId:"sc-f031e830-9"})(["position:relative;width:100%;"]),y=n.Ay.div.withConfig({componentId:"sc-f031e830-10"})(["width:100%;position:absolute;top:0px;z-index:",";display:flex;flex-direction:column;overflow:hidden;user-select:none;justify-content:flex-start;height:",";border-top:1px solid ",";transition:height 0.15s ease-in-out;border-bottom:none;padding:0 20px;background-color:",";@media (min-width:450px){"," ","}"],e=>e.visible?"500":"203",e=>e.visible?`${e.height}px`:"0px",e=>e.theme.colors.bg3,e=>e.theme.colors.bg1,e=>e.hangingSubmenu&&(0,n.AH)(["max-width:450px;max-height:800px;"]),e=>e.visible&&e.hangingSubmenu&&(0,n.AH)(["border:1px solid ",";border-bottom-left-radius:8px;border-bottom-right-radius:8px;"],e.visible?e.theme.colors.bg3:"transparent")),w=n.Ay.div.withConfig({componentId:"sc-f031e830-11"})(["flex-shrink:0;padding:20px 0;background-color:",";width:100%;min-height:60px;display:flex;flex-direction:row;"],e=>e.theme.colors.bg1),v=n.Ay.div.withConfig({componentId:"sc-f031e830-12"})(["overflow:hidden;border-radius:100%;height:60px;width:60px;margin-right:15px;vertical-align:middle;border:1px solid ",";> img,> svg{width:100%;height:100%;}"],e=>e.theme.colors.bg3),j=n.Ay.div.withConfig({componentId:"sc-f031e830-13"})(["color:",";font-family:",";font-weight:700;font-size:1.375rem;margin-top:5px;"],e=>e.theme.colors.textHeadings,e=>e.theme.fonts.headings),A=n.Ay.div.withConfig({componentId:"sc-f031e830-14"})(["color:",";font-family:",";opacity:0.7;margin-top:-3px;font-weight:600;"],e=>e.theme.colors.textMain,e=>e.theme.fonts.default),S=n.Ay.div.withConfig({componentId:"sc-f031e830-15"})(["flex-shrink:0;background-color:",";height:1px;width:100%;"],e=>e.theme.colors.bg3),I=n.Ay.div.withConfig({componentId:"sc-f031e830-16"})(["background-color:",";opacity:0.7;height:100%;width:100%;flex:0 1 0;"],e=>e.theme.colors.bg0),k=n.Ay.div.withConfig({componentId:"sc-f031e830-17"})(["margin-top:10px;flex-shrink:0;"]),C=n.Ay.div.withConfig({componentId:"sc-f031e830-18"})(["color:",";font-family:",";opacity:0.7;padding:10px 0;font-size:0.875rem;font-weight:600;"],e=>e.theme.colors.textMain,e=>e.theme.fonts.default),T=(0,n.Ay)(c.$n).withConfig({componentId:"sc-f031e830-19"})(["&&{position:relative;display:flex;background-color:",";border:1px solid ",";border-radius:5px;justify-content:space-between;margin:0 0 10px 0;padding:0 20px 0 20px;width:100%;font-size:1rem;align-items:center;min-height:44px;&:hover{background:",";}&:focus{border:1px solid rgba(255,255,255,0.1);outline:0;}}> div{display:flex;flex-direction:row;width:100%;align-items:center;> :first-child{margin-right:15px;> :first-child{height:16px;}}}"],e=>e.theme.colors.bg2,e=>e.theme.colors.bg3,e=>e.theme.colors.bg3),N=(0,n.Ay)(c.vx).withConfig({componentId:"sc-f031e830-20"})(["&&{position:relative;display:flex;background-color:",";border:1px solid ",";border-radius:5px;justify-content:space-between;margin:0 0 10px 0;padding:0 20px 0 20px;width:100%;font-size:1rem;align-items:center;min-height:44px;&:hover{background:",";}&:focus{border:1px solid rgba(255,255,255,0.1);outline:0;}}> div{display:flex;flex-direction:row;width:100%;align-items:center;> :first-child{margin-right:15px;> :first-child{height:16px;}}}"],e=>e.theme.colors.bg2,e=>e.theme.colors.bg3,e=>e.theme.colors.bg3),M=n.Ay.div.withConfig({componentId:"sc-f031e830-21"})(["opacity:0.1;margin:0 20px -6px 20px;padding:0 5px 0 5px;user-select:text;"]);n.Ay.div.withConfig({componentId:"sc-f031e830-22"})(["height:100%;"]);let B=n.Ay.div.withConfig({componentId:"sc-f031e830-23"})(["position:relative;display:",";position:absolute;top:0;left:0;width:100%;input{background:",";border:0;caret-color:",";color:",";padding:12px 20px 13px;width:100%;}"],e=>e.visible?"block":"none",e=>e.theme.colors.bg0,e=>e.theme.colors.textMain,e=>e.theme.colors.textMain),E=n.Ay.div.withConfig({componentId:"sc-f031e830-24"})(["flex:0 1 100%;touch-action:pan-y;position:relative;overflow:hidden;&::before{content:'';transition:opacity 0.1s ease-in-out;opacity:",";height:20px;pointer-events:none;top:0;position:absolute;width:100%;left:0;background:linear-gradient(180deg,",",transparent);z-index:10;}&::after{content:'';transition:opacity 0.1s ease-in-out;opacity:",";height:20px;pointer-events:none;bottom:0;position:absolute;width:100%;left:0;background:linear-gradient(0deg,",",transparent);z-index:10;}"],e=>+!!e.showScrollTop,e=>e.theme.colors.bg0,e=>+!!e.showScrollBottom,e=>e.theme.colors.bg0),L=n.Ay.div.withConfig({componentId:"sc-f031e830-25"})(["overflow-y:auto;touch-action:pan-y;position:relative;height:100%;"]),_=n.Ay.div.withConfig({componentId:"sc-f031e830-26"})(["color:",";font-family:",";font-weight:600;font-size:1rem;opacity:0.7;padding-right:",";transition:padding 150ms cubic-bezier(0.22,1,0.36,1),opacity 150ms cubic-bezier(0.22,1,0.36,1);display:flex;flex-direction:row;gap:10px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;-webkit-box-pack:end;& span{overflow-wrap:break-word;word-wrap:break-word;word-break:break-all;hyphens:auto;}"],e=>e.theme.colors.textMain,e=>e.theme.fonts.headings,e=>e.selected?"60px":"35px"),F=n.Ay.div.withConfig({componentId:"sc-f031e830-27"})(["color:",";font-family:",";font-weight:600;font-size:1rem;padding-right:80px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;z-index:3;"],e=>e.theme.colors.textMain,e=>e.theme.fonts.headings),G=n.Ay.div.withConfig({componentId:"sc-f031e830-28"})(["font-size:0.875rem;margin:5px 0 0;opacity:0.7;font-weight:400;transition:opacity 150ms cubic-bezier(0.22,1,0.36,1);overflow:hidden;text-overflow:ellipsis;line-height:1.375rem;display:",";-webkit-line-clamp:2;-webkit-box-orient:vertical;"],e=>e.noPreview||e.isCompact?"none":"-webkit-box"),R=n.Ay.div.withConfig({componentId:"sc-f031e830-29"})(["color:",";padding-right:90px;font-size:0.875rem;line-height:1.375rem;text-overflow:ellipsis;overflow:hidden;display:",";-webkit-line-clamp:2;-webkit-box-orient:vertical;z-index:3;"],e=>(0,h.No)(.3,e.theme.colors.textMain),e=>e.noPreview||e.isCompact?"none":"-webkit-box"),D=n.Ay.div.withConfig({componentId:"sc-f031e830-30"})(["font-size:0.875rem;font-weight:400;margin:5px 20px;opacity:0.7;display:flex;align-items:center;text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;z-index:3;"]),P=n.Ay.div.withConfig({componentId:"sc-f031e830-31"})(["font-size:0.875rem;font-weight:700;z-index:3;position:absolute;right:20px;top:50%;transform:translateY(-50%);color:",";"],e=>(0,h.No)(.3,e.theme.colors.textMain)),O=(0,n.Ay)(d.Int).withConfig({componentId:"sc-f031e830-32"})(["transition:transform ",";background-color:",";mask-image:url(",");width:20px;height:20px;&:hover{transform:scale(1.1);}"],e=>e.theme.transitions.interactive,e=>e.theme.colors.textMain,e=>e.favorite?a.A.src:s.A.src),W=(0,n.Ay)(o.NoH).withConfig({componentId:"sc-f031e830-33"})(["opacity:0.4;width:30px;height:20px;"]),H=(0,n.Ay)(o.E10).withConfig({componentId:"sc-f031e830-34"})(["opacity:0.4;width:30px;height:20px;"]),Y=n.Ay.div.withConfig({componentId:"sc-f031e830-35"})(["display:flex;overflow-x:auto;gap:5px;margin:15px 20px 0;> *{flex-grow:1;min-width:fit-content;background:",";border:1px solid ",";border-radius:3px;padding:5px 10px;font-size:0.8rem;}"],e=>e.theme.colors.bg1,e=>e.theme.colors.bg3),z=n.Ay.div.withConfig({componentId:"sc-f031e830-36"})(["overflow:hidden;font-size:0.875rem;width:100%;height:40px;transition:transform 170ms cubic-bezier(0.22,1,0.36,1),height 150ms cubic-bezier(0.22,1,0.36,1);display:flex;justify-content:space-between;transform:",";align-items:center;border-top:1px solid ",";span{backface-visibility:hidden;color:",";display:",";overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;-webkit-box-pack:end;}padding-left:20px;"],e=>e.selected?"translateY(0)":e.isCompact?(e.noPreview,"translateY(-3px)"):(e.noPreview,"translateY(-5px)"),e=>e.selected?e.theme.colors.bg3:"transparent",e=>(0,h.No)(.5,e.theme.colors.textMain),e=>(e.selected,"block")),U=n.Ay.div.withConfig({componentId:"sc-f031e830-37"})(["display:flex;gap:10px;align-items:center;max-height:fit-content;width:fit-content;backface-visibility:hidden;"]),Z=n.Ay.div.withConfig({componentId:"sc-f031e830-38"})(["padding:",";transition:padding 200ms cubic-bezier(0.22,1,0.36,1);"],e=>e.selected?"20px 15px 10px 20px":e.isCompact?"10px 15px 0 20px":"20px 15px 5px 20px"),V=n.Ay.div.withConfig({componentId:"sc-f031e830-39"})(["width:fit-content;display:flex;position:absolute;right:20px;top:",";transition:top 200ms cubic-bezier(0.22,1,0.36,1);align-items:center;gap:12px;backface-visibility:hidden;","{width:18px;}> div:first-child{transition:opacity 200ms cubic-bezier(0.22,1,0.36,1);user-select:",";opacity:",";}"],e=>e.isCompact?e.selected?"20px":"10px":(e.selected,"20px"),d.Int,e=>e.selected?"inherit":"none",e=>e.selected?"1":"0"),q=n.Ay.div.withConfig({componentId:"sc-f031e830-40"})(["overflow:hidden;cursor:pointer;height:fit-content;border:",";border-radius:",";margin:",";position:relative;transition:200ms cubic-bezier(0.22,1,0.36,1),border 200ms cubic-bezier(0.33,1,0.68,1);background:",";",";"," &:hover{margin:0 0px;","{opacity:1;}}"],e=>e.selected?`1px solid ${e.theme.colors.bg3}`:"1px solid transparent",e=>e.selected?"5px":"0",e=>e.selected?"0 6px":"0",e=>e.selected?e.theme.colors.bg2:"transparent",e=>e.selected?(0,n.AH)(["&:hover{margin:0 6px !important;}"]):(0,n.AH)(["&:hover,&:focus{background:",";","{opacity:1;}}"],(0,h.jh)(.5,e.theme.colors.bg2,e.theme.colors.bg1),_),e=>e.selected&&(0,n.AH)(["","{color:",";opacity:1;}","{opacity:1;font-weight:600;}"],_,e=>e.theme.colors.textHeadings,G),G),K=n.Ay.div.withConfig({componentId:"sc-f031e830-41"})(["width:100%;"]),X=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-f031e830-42"})(["width:100%;"]);(0,n.Ay)(c.$n).withConfig({componentId:"sc-f031e830-43"})(["width:fit-content;height:100%;"]);let J=n.Ay.div.withConfig({componentId:"sc-f031e830-44"})(["border-radius:3px;align-items:center;background:",";color:",";border:",";cursor:pointer;display:flex;flex-direction:row;font-family:",";font-size:1.1rem;padding:5px 5px;width:100%;justify-content:center;align-items:center;",";&:hover,&:focus{background:",";border:2px solid transparent;}"],e=>e.dark?e.theme.colors.bg1:e.theme.colors.bg2,e=>e.faint?e.theme.colors.textMain:e.theme.colors.textHeadings,e=>e.faint?`2px solid ${(0,h.No)(0,e.theme.colors.bg2)}`:`1px solid ${(0,h.No)(0,e.theme.colors.bg3)}`,e=>e.theme.fonts.default,e=>e.faint?"":"height: 50px",e=>e.dark?e.theme.colors.bg2:e.theme.colors.bg3),Q=n.Ay.div.withConfig({componentId:"sc-f031e830-45"})(["padding:8px;padding-left:0;> *{width:12px;height:12px;background-color:",";}"],e=>e.faint?e.theme.colors.textMain:e.theme.colors.textHeadings),$=n.Ay.div.withConfig({componentId:"sc-f031e830-46"})(["font-weight:600;font-size:1rem;"]),ee=(0,n.Ay)(C).withConfig({componentId:"sc-f031e830-47"})(["padding-bottom:5px;"]),et=n.Ay.div.withConfig({componentId:"sc-f031e830-48"})(["display:flex;flex-direction:column;gap:5px;"]),ei=n.Ay.div.withConfig({componentId:"sc-f031e830-49"})(["display:flex;gap:10px;align-items:center;"])},31444:(e,t,i)=>{"use strict";i.d(t,{I:()=>d,N:()=>l});var n=i(94458),o=i(68658),r=i(19482),a=i(49882),s=i(98617),c=i(71928);let d=e=>{let[t,i]=(0,o.useState)(()=>a.$t.create(e)),n=(0,o.useRef)(t),r=(0,o.useCallback)(function(e){let t,o=!(arguments.length>1)||void 0===arguments[1]||arguments[1];var r=e(n.current);if(!r)return n.current;try{t=n.current.apply(r)}catch(e){return(0,c.FF)(e,!1),n.current}return o?(0,s.flushSync)(()=>{n.current=t,i(t)}):(n.current=t,i(t)),t},[]),d=(0,o.useCallback)(e=>{let o=t.reconfigure(e);n.current=o,i(o)},[t]);return[t,r,d]},l=(0,o.forwardRef)(function(e,t){let{state:i,dispatchTransaction:a,handleScroll:s,style:c,className:d,...l}=e,h=(0,o.useRef)(null),g=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,()=>({get view(){return g.current},get root(){return h.current}})),g.current&&g.current.updateState(i);let u=(0,o.useRef)(a);u.current=a;let p=(0,o.useRef)(s);p.current=s;let m=(0,o.useMemo)(()=>({...l,dispatchTransaction:e=>{g.current&&(u.current?u.current(e,g.current.state):g.current.updateState(g.current.state.apply(e)))}}),[]);return(0,o.useEffect)(()=>(g.current=new r.Lz(h.current,{state:i,...m}),()=>{g.current&&g.current.destroy()}),[]),(0,o.useMemo)(()=>(0,n.jsx)("div",{ref:h,style:c,className:d,onScroll:e=>g.current&&p.current?.call(p.current,g.current,e)}),[c,d])})},36012:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n={src:"/_next/static/media/tutorialbg.f793ada8.svg",height:414,width:440,blurWidth:0,blurHeight:0}},36849:(e,t,i)=>{"use strict";i.d(t,{U:()=>T,X:()=>N});var n=i(94458),o=i(68658),r=i(55805),a=i(26516),s=i(23699),c=i(14723),d=i(18053),l=i(70406),h=i(47644),g=i(92704),u=i(97223),p=i(40291),m=i(41879),x=i(17309),f=i(89077),b=i(59820),y=i(88567),w=i(74767),v=i(75859),j=i(44334),A=i(2834);let S=r.Ay.span.withConfig({componentId:"sc-70c9bba-0"})(["display:inline-flex;justify-content:center;align-items:center;> div,> svg,> img{height:1rem;width:1rem;position:relative;margin:0 0.1rem;top:0.2rem;display:inline-block;cursor:default;}"]);function I(e){return(0,n.jsx)(S,{children:e.icon})}let k=[["NovelAI","Tips",(0,n.jsxs)(n.Fragment,{children:["Tips will appear to give you helpful advice. If you don't want to see them, you can disable them in ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Interface Settings"}),"."]})],["NovelAI","AI Storytelling","NovelAI is an interactive AI-powered storyteller. You can write anything with the help of artificial intelligence! There are no limits!"],["NovelAI","Capabilities","Driven by AI, you can easily construct unique stories, thrilling tales, seductive romances, or even just fool around. Anything goes!"],["NovelAI","Hypebot",(0,n.jsxs)(n.Fragment,{children:["AI-powered commentary! Toggle and configure it in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" AI Settings"})," menu. You can even change the displayed commentator picture!"]})],["NovelAI","Tutorial",(0,n.jsxs)(n.Fragment,{children:["Missed the Tutorial? You can always return to the Tutorial under the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(j.H,{size:24})})," ",(0,n.jsx)("strong",{children:"User"})," menu. The Advanced Tutorial is available there too!"]})],["NovelAI","Support","If you ever need help don't be afraid to send us an email at support@novelai.net! More assistance can also be found on our Twitter, Discord and Reddit."],["NovelAI","Logging Out",(0,n.jsxs)(n.Fragment,{children:["You can log out from the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})})," ",(0,n.jsx)("strong",{children:"User Settings"})," ","menu."]})],["Story","Editor","You can type directly in the Editor text field! Click anywhere you want to type!"],["Story","Input, Output","Press Send or hit CTRL + Enter to get the AI to respond. If you don't like what it was generated, hit Undo, Retry, or edit it yourself!"],["Story","Generate Inline","If you want to generate text to fill in a specific part of the story you can right click and select 'Generate Inline'."],["Story","Undo, Redo","Your action history can be managed with Undo and Redo. The number next to Redo lets you select the previous AI outputs, like time travel!"],["Story","Hotkeys",(0,n.jsxs)(n.Fragment,{children:["Want to be more efficient? There are a plethora of shortcuts and hotkeys at your disposal! Check out the Hotkeys section of the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Settings"})," menu!"]})],["Story","Story Library","The panel on the left of the screen is the Menubar it houses your Library. Manage your Stories, Shelves, and Settings here."],["Story","Shelves",(0,n.jsxs)(n.Fragment,{children:["Stories can be stored within Shelves in the Story Library in the left Menubar. Use the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.NgJ,{})}),(0,n.jsx)("strong",{children:" Pencil"})," icon to edit them!"]})],["Story","Search",(0,n.jsxs)(n.Fragment,{children:["You can search all your existing Stories clicking the Your Stories bar in the Library on the left or hit the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.WIv,{})}),". Sort and filter results with"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.NrY,{})}),"!"]})],["Story","Favorites",(0,n.jsxs)(n.Fragment,{children:["Particularly fond of a specific Story? Simply tap the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.eZ6,{})})," ",(0,n.jsx)("strong",{children:"Heart"})," icon to mark it as a favorite. Set Favorites to be shown up top in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.NrY,{})}),(0,n.jsx)("strong",{children:"Filter"})," options."]})],["Story","Story Options","The sidebar on the right is the Options Sidebar. Here, you can add details to be remembered and control how the AI will interact with your story!"],["NovelAI","Title Generation",(0,n.jsxs)(n.Fragment,{children:["Think your 'New Story' could use a better name? Set one in the Story settings by tapping the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.NgJ,{})}),(0,n.jsx)("strong",{children:" Pencil"})," icon in the Library, or tap the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(d.PKZ,{})}),(0,n.jsx)("strong",{children:" Dice"})," icon for the AI to generate one based on your story!"]})],["Story","Color Coding",(0,n.jsxs)(n.Fragment,{children:["Text in the Editor is color-coded to show where the text came from. AI generations and user input / edits are all uniquely color coded. Edit the colors in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Theme"})," options anytime."]})],["Story","Context","The AI can only see so much at once. See the extent of what the AI can remember in the Context Viewer."],["Story","Author's Note","The Author's Note has near limitless usages. Use it to give the story a primary focus, set a writing style, author or tone elements."],["Story","Author's Note","The text in your Author's Note is one of most recent things the AI sees in your Story Context, supercharging its influence over your story!"],["Story","Author's Note","Describe just about anything with a few short sentences and lend your story a focus, details, moods or give it premonitions to make something happen."],["Story","Author's Note","Text inside the Author's Note will make the AI strongly focus on that detail. Be careful, it's stronger than you think!"],["Story","Memory","The Memory field can be used to store broad details related to your current setting, your character, their companions and what has previously happened in your story."],["Story","Memory","Place information that is always relevant to the story into Memory to have it influence the plot later. Memory will always stay within your Context"],["Story","Memory","Updating the Memory field with important story elements as they take place will help the AI stay more consistent."],["Story","Memory","AI only remembers a limited Context, based on your subscription, of story text & setup. Remember the context limit when entering long inputs!"],["Story","Lorebook","The Lorebook is used to store information that is not always relevant, which the AI refers to only when a custom keyword you select is activated."],["Story","Lorebook","The Lorebook helps the AI refer to any information you provide or generate for the specific elements in your story, such as characters, events, or locations."],["Story","Lorebook","The information stored in your Lorebook doesn't take up any space in your Story Context unless triggered by a keyword!"],["Story","Lorebook","Writing your Lorebook in the same tense and perspective as your story will yield more consistent results!"],["Story","Lorebook","Keep in mind AI isn't perfect and no matter how detailed you write your Lorebook description, there is a chance for it to mess up."],["Story","Lorebook","If the AI has issues reflecting Lorebook information try to hammer in features such as a physical descriptors by using different synonyms for the same thing."],["Story","Lorebook","Shows the AI the type of output you desire with the way you word your Lorebook entries and it will continue on in the same style."],["Story","Lorebook Keys","Assign Lorebook Keys to each of your entries or the AI will not be able to refer to their information when the subjects of your Lorebook appear in your story!"],["Story","Lorebook Keys","Pick as many or as few keys that encompass your Lorebook subject. You can have them naturally appear in the story or force them to activate through your inputs whenever you want the AI to call up the desired information!"],["Story","Lorebook Generation",(0,n.jsxs)(n.Fragment,{children:["Want the AI to fill in the blanks for you? Create a Lorebook entry with"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.c11,{style:{maxWidth:"0.9rem"}})})," Entry and tap the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(p.p0,{})})," icon to open up the Lore Generation options."]})],["Story","Lorebook Generation Types","Decide what you want to generate! We have a whole range of available options in the Generation Type dropdown."],["Story","Lorebook Export",(0,n.jsxs)(n.Fragment,{children:["Want to back up your Lorebook or share it? Use the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.GP3,{})})," to export it as .lorebook file or ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.$mk,{})})," to export it a .png image file!"]})],["Story","Lorebook Import",(0,n.jsxs)(n.Fragment,{children:["You can easily import Lorebooks by using the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.z52,{})})," to import .lorebook files. The community tends to share a lot of them. You may want to give those a try!"]})],["Story","Lorebook Generation Type",(0,n.jsxs)(n.Fragment,{children:["Make use of the ",(0,n.jsx)(I,{icon:(0,n.jsx)(p.Zt,{})}),(0,n.jsx)("strong",{children:" Lorebook Generation Type"})," dropdown to generate specific entries."]})],["Story","Lorebook Generation Context",(0,n.jsxs)(n.Fragment,{children:["Toggle Memory, Author's Note and Story to have their information influence your"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(p.Zt,{})}),(0,n.jsx)("strong",{children:" Lorebook Generations"}),"."]})],["Story","Lorebook Generation History",(0,n.jsxs)(n.Fragment,{children:["Previous ",(0,n.jsx)(I,{icon:(0,n.jsx)(p.Zt,{})}),(0,n.jsx)("strong",{children:" Lorebook Generations"})," are kept in the Generation History. Keep in mind that Generation History resets on page refresh."]})],["Story","Advanced - Lorebook Generation Settings",(0,n.jsxs)(n.Fragment,{children:["You can adjust the settings of your ",(0,n.jsx)(I,{icon:(0,n.jsx)(p.Zt,{})}),(0,n.jsx)("strong",{children:" Lorebook Generations"})," in the Defaults. Adjust the Model, Preset used or switch to the Legacy Lore Generation."]})],["Story","Advanced - Lorebook Regex","Are you a computer wizard? If so, good news! The Lorebook supports regular expressions!"],["Story","Advanced - Ephemeral Context","Information added to Ephemeral Context will appear to the AI when that step of the Story is reached."],["Story","Right Click Context Menu","NovelAI features a custom context menu. This is the menu that opens when you right click in the Editor! Use CTRL + right click to see the regular right click menu."],["NovelAI","Screenshot","See a moment you want to capture? Select the text in the editor, use the right click context menu and hit Screenshot. You can even choose how it gets styled!"],["Story","Import",(0,n.jsxs)(n.Fragment,{children:["The ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.z52,{})}),(0,n.jsx)("strong",{children:" Import File"})," button in the left Menubar can import supported files. Drag and Drop into the Editor works too!"]})],["Story","Import Images containing NovelAI Data",(0,n.jsxs)(n.Fragment,{children:["Lorebooks and Lorebook entries can be exported into .png files. Import them with the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Import File"})," button in the left Menubar, or drag and drop them into the Editor!"]})],["Story","Looping","When the AI starts repeating itself, remove the text from your Context. Switching up your Preset may also help!"],["Story","AI Output Quality","Proper English will produce better results, but don't let that stop you from experimenting around with the AI!"],["Story","AI Output Quality","The AI will pick up from your input - If you use grammatically correct English, it will output in the same vein."],["Story","Prompts","Prompts are the text written before the first AI generation. It is the basis of your AI-generated story. The more initial text your Prompt has, the better the AI's outputs."],["Story","Inputs","You don't need to finish sentences or have to enter text at all. Just hit the Send button to generate whenever you feel like it and watch the AI continue on!"],["Story","Perspective and Tense","Generally, it is best to write your story, the setup in the Options Sidebar and Lorebook entries in the same perspective and tense."],["Story","Comments","Want to leave a note for later? Any line with '##' at the start will be ignored by the AI!"],["Story","Experiment!","AI-powered storytelling is cutting-edge technology. Play around and see what works for you! Go discover something new!"],["Scenarios","Scenarios","A Scenario is a template for a Story. You can create one by Exporting a Story as a Scenario, using the option in the Story Options panel on the right."],["Modules","AI Modules","Want a story in a different style? Try an AI Module! AI Modules can focus the AI into a style, genre, or setting."],["Modules","AI Modules","Quickly draw upon specific topics, emulate famous authors, writing styles or provide reference material with AI Modules!"],["Generation Settings","Presets","Different generation presets will change how the AI generates text. You can even make your own!"],["Generation Settings","Randomness","As Randomness increases, so do chances for less likely words. While this can make text more interesting, it can also make it less accurate. Balance is key!"],["Generation Settings","Output Length","A higher output length will make the AI respond with more text. It's actually measured in tokens, so the number of characters might vary."],["Generation Settings","Repetition Penalty","Whenever a token appears in the Context, Repetition Penalty decreases the chance of it appearing again."],["Generation Settings","Repetition Penalty Range","How many tokens Repetition Penalty will apply to. You can make only the latest tokens be penalized, though it might make the AI repeat from further up if you do!"],["Generation Settings","Dynamic Repetition Penalty Range","Makes the Repetition Penalty Range dynamic, setting it based on where the story text starts. This makes things more likely to be repeated from Memory, sometimes verbatim."],["Generation Settings","Repetition Penalty Slope","Add a Repetition Penalty Slope if you want more recent tokens to be penalized more harshly, and tokens further up in the Story to be penalized less."],["Generation Settings","Change Settings Order","The order sampling methods are applied can be changed! Each of them are pretty different."],["Generation Settings","Top-K Sampling","The simplest sampling method. With Top-K the number set is how many tokens will be considered, discarding all but the highest probability ones."],["Generation Settings","Nucleus Sampling","By adding up the probability of possible tokens until reaching the number given, Nucleus Sampling lets you only exclude the lowest probabilty tokens."],["Generation Settings","Tail-Free Sampling","The least-likely tokens can be considered a 'tail'. Tail-Free Sampling tries to cut off that tail, removing unlikely tokens."],["Generation Settings","Top-A Sampling","Considering the chance of the most-likely token, then removing tokens that are too improbable as compared to the most-likely is how Top-A Sampling works."],["Generation Settings","Typical Sampling","Language carries information. Anything expected to have the most amount of information is the most 'Typical Sampling'."],["Generation Settings","Phrase Bias","Add a token, word, or series of words to Phrase Bias to make it more or less likely, allowing you to have more exciting action scenes or more loving romances!"],["Generation Settings","Banned Tokens","If something comes up that you don't want to see, you can remove it using Banned Tokens. This will cause it to have no chance of appearing."],["Generation Settings","Tricky Tokens","When a word keeps showing up even if you tried to ban it, consider using a Phrase Bias instead. Banned Tokens prevent a word or phrase from being completed, while a Phrase Bias decreases likelihood from the very first token."],["Generation Settings","Special Bracketing","Wherever there's a token entry field, you can use [brackets] to give a token ID number such as [198], or {braces} to say 'only when it's exactly how I wrote it'."],["Generation Settings","Ban Bracket Generation","[Brackets] tell the AI to treat whatever is inside as not a part of the tale itself. If you have Ban Bracket Generation on, the AI will not add these to your story."],["Generation Settings","Stop Sequences","When you want your generations to stop at a certain token sequence, such as a new line, you can set a stop sequence for it."],["Generation Settings","Min EoS Output Length","Only used in conjunction with Stop Sequences. Before the Min Output Length has been reached, it will continue even when hitting a Stop Sequence."],["AI","Tokens","Text is translated into tokens for the AI to understand. They are similar to syllables."],["AI","Context Management","Because the AI only has so much Context it can see, remember not to give it too many details at once. Less can be more!"],["AI","Negation","There's a fun phenomenon known as the 'pink elephant' - try not to think about one, and it's there! AI works the same way, so try not to use words you don't want to see brought up."],["AI","AI Prompting","Show and tell: provide the AI all kinds of prompts to get interesting results! Use everything from recipes to chat logs!"],["Writing","Prose","Text that follows standard writing conventions is referred to as 'prose'. The type of prose can varypoetic stanzas, haikus, and so on. The AI will try to continue whatever you give it!"],["Writing","Perspective","If a story is told from the author's perspective, it is first person. Second person is when 'you' tell the story, and third person is telling you about other people. Try not to mix them up in the same story!"],["Writing","Tense","Remember to keep your tense consistent! Grammatically incorrect inputs might confuse the AI and produce lower quality outputs."],["Writing","Unfinished Sentences","Because the AI continues off the last thing, you can leave sentences unfinished for unexpected results. Try writing things like 'The man was', to have the AI describe the subject."],["Writing","Dialogue","Remember to close off speech with quotation marks, or the AI may confuse when the dialogue is supposed to end! Similarly, specifying a speaker helps the AI stay on-track with who is saying what."],["Writing","Telepathy","Want to talk non-verbally? That kind of communication can be defined with different <formatting> symbols rather than quotation marks."],["Writing","Scene Change","The dinkus (***) is used to tell the AI when to change scenes. You can also use an asterism () to tell it to start a whole new story!"],["Writing","As an Aside","You can use parentheses to give an aside in dialogue."],["Writing","Lists","Bullet points () or dashes (-) and other symbols can be used to prompt the AI to create lists."],["Writing","RPG Formatting","Horizontal line (), not to be confused with a dash, may be used for MMORPG-styled skills and statistics."],["Writing","Poetry and Lyrics","The em space () is used on a newline when creating poetry or lyrics. Em space is different to the en space and the regular space and makes a big difference!"],["Writing","Quotations and Excerpts","Use an en space () at the beginning of a newline to effectively mark it as a quotation or excerpt. This is different to both em space and the regular space!"],["Writing","World Constants","If your world has something specific about it, you can inform the AI of this distinction in your Lorebooks."],["Writing","Up to Date","The AI is trained in some recent events, popular fiction and even celebrities. Specifics may need further prompting, but you should find it quite capable of broad strokes!"],["Privacy","Storage",(0,n.jsxs)(n.Fragment,{children:["Choose where a Story is kept by toggling the Remote Storage option in"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Account"})," Settings. Be aware that local data can be cleared with your browser cache. Back up your Stories regularly!"]})],["Privacy","Bad Connection Story Conflicts",(0,n.jsxs)(n.Fragment,{children:["If you have too many Story Conflicts pop up due to a bad connection you can disable the pop-up in"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Account Settings"}),"."]})],["Privacy","Story Backup",(0,n.jsxs)(n.Fragment,{children:["Download all Stories regularly in ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Account Settings"}),", especailly if you use Local Storage and your browser cache get cleared, or if you lose access to your account."]})],["Subscription","Stored Content",(0,n.jsxs)(n.Fragment,{children:["Even if you cancel your Subscription, all content in your account is retained. A manual backup by clicking Download All Stories under ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Account"})," is recommended, in case of Account loss or browser cache clearing."]})],["Settings","User Settings",(0,n.jsxs)(n.Fragment,{children:["There are many options for you to tweak and choose in the Settings menu. To get there, find the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Cog"})," icon in the left Sidebar, the Menubar."]})],["Settings","Streamed AI Responses",(0,n.jsxs)(n.Fragment,{children:["If you don't want text to appear as the AI outputs its response, disable the Stream AI Responses option in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" AI Settings"}),"."]})],["Settings","Streamed AI Response Speed",(0,n.jsxs)(n.Fragment,{children:["The streamed AI response speed can be adjusted below the Stream AI Responses option in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" AI Settings"}),"."]})],["Settings","Continue Response to End of Sentence",(0,n.jsxs)(n.Fragment,{children:["The AI will try to continue generating until the end of a sentence is reached. You may disable this in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" AI Settings"}),"."]})],["Settings","Whitespace","Issues with double newlines and trailing spaces can be avoided by having the Trim Excess Whitespace option enabled in AI settings."],["Settings","Force 1024 token limit",(0,n.jsxs)(n.Fragment,{children:["Test how a Scenario works for users on the Tablet tier, with this setting in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" AI Settings"})," to force the AI to a 1024 token context."]})],["Settings","Default Bias",(0,n.jsxs)(n.Fragment,{children:["Dinkuses (***) and asterisms () can appear too often. You can apply the Default Bias in"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" AI Settings"})," to reduce how often they appear."]})],["Settings","Enable Token Probabilities",(0,n.jsxs)(n.Fragment,{children:["Enable Token Probabilities in your ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" AI Settings"}),". The Token Probabilities Viewer can be accessed via the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.cNG,{})}),(0,n.jsx)("strong",{children:" Brain"})," icon. It shows you the ten most likely tokens considered for the last generation."]})],["Settings","Sizes and Spacing",(0,n.jsxs)(n.Fragment,{children:["You can adjust the size of fonts, the spacing of paragraphs and lines, and a bunch of other things in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Interface Settings"}),"."]})],["Settings","Gesture Controls",(0,n.jsxs)(n.Fragment,{children:["Accidentally opening the sidebars? You can disable Gesture Controls in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})})," ",(0,n.jsx)("strong",{children:"Interface Settings"}),"."]})],["Settings","Right Clicking",(0,n.jsxs)(n.Fragment,{children:["By default, right clicking the Editor opens the NAI context menu. You can change this in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Interface Settings"})," or hold CTRL during a right click."]})],["Settings","Editor Lorebook Keys",(0,n.jsxs)(n.Fragment,{children:["Highlight words or phrases that activate a Lorebook entry in bold by enableing it in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Interface Settings"}),"."]})],["Settings","Context Viewer Color Coding",(0,n.jsxs)(n.Fragment,{children:["Text within the Context Viewer is color coded by origin: Memory, Author's Note, Lorebook, Ephemeral Context or Story. If you prefer it to all be one color, you can disable this option in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Interface section Interface Settings"}),"."]})],["Settings","Show Story Title",(0,n.jsxs)(n.Fragment,{children:["NovelAI shows the title of your Story at the top of the screen by default. If you prefer otherwise, you can disable it in ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Interface Settings"}),"."]})],["Settings","Themes",(0,n.jsxs)(n.Fragment,{children:["Customize how your NovelAI experience looks in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Theme Settings"}),"."]})],["Settings","Custom Themes",(0,n.jsxs)(n.Fragment,{children:["If you want a more personal experience, you can download custom Themes or even make your own with custom css in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Theme Settings"}),"."]})],["Settings","Pen Name",(0,n.jsxs)(n.Fragment,{children:["Your Pen Name is listed on things you export for sharing. To set a Pen Name, visit the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Account Settings"}),"."]})],["Settings","Credentials",(0,n.jsxs)(n.Fragment,{children:["If you need to change your email or password, use the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})})," ",(0,n.jsx)("strong",{children:"Account Settings"}),". Be careful not to forget them since a password reset will wipe locally stored data!"]})],["Settings","Account ID",(0,n.jsxs)(n.Fragment,{children:["In case you ever need official NovelAI support, you can view your Account ID in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Account Settings"}),"."]})],["Settings","Default Storage Location","Choose to keep your Stories on your device, or upload them to the NovelAI servers. Local stories rely on your browser cache, which can be cleared on occasion. All Stories on the NovelAI servers are specially encrypted so only you can view them."],["Settings","Download All Stories",(0,n.jsxs)(n.Fragment,{children:["You can export all your stories at once in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Account Settings"}),"."]})],["NovelAI","Gift Keys",(0,n.jsxs)(n.Fragment,{children:["If you want to give someone a Subscription to NovelAI, or just keep a key for later, you can purchase Gift Keys in your ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Account Settings"}),". Keys don't expire until used!"]})],["Settings","Text-to-Speech",(0,n.jsxs)(n.Fragment,{children:["NovelAI features text-to-speech integration. You can configure it in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Text to Speech"})," settings."]})],["Settings","Streamed Text-to-Speech",(0,n.jsxs)(n.Fragment,{children:["NovelAI features a high quality streamed text-to-speech integration powered by AI. Enable it in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:" Text to Speech"})," settings."]})],["Settings","Streamed Text-to-Speech Seeds",(0,n.jsxs)(n.Fragment,{children:["Use a custom voice seed to find unique voices in the Streamed"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:"Text to Speech"})," settings."]})],["Settings","Speak Inputs, Outputs or both",(0,n.jsxs)(n.Fragment,{children:["Enable our TTS to either read Inputs, Outputs or both in the Streamed"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})}),(0,n.jsx)("strong",{children:"Text to Speech"})," Settings."]})],["Settings","Speak HypeBot Comments",(0,n.jsxs)(n.Fragment,{children:["Enable HypeBot comments to be read by TTS in the Streamed ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})})," ",(0,n.jsx)("strong",{children:"Text to Speech"})," settings."]})],["Settings","Defaults",(0,n.jsxs)(n.Fragment,{children:["Set up your favorite AI Model, Preset and Module in the ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})})," ",(0,n.jsx)("strong",{children:"Defaults"})," section of the Settings menu."]})],["Settings","Changelogs",(0,n.jsxs)(n.Fragment,{children:["NovelAI keeps a list of all updates. You can find them in the"," ",(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})})," ",(0,n.jsx)("strong",{children:"Change Log"})," in the settings and on novelai.net/updates."]})]],C=[["Easter Eggs","Canadian Geese","Truly the superior kind of goose. HONK!"],["Easter Eggs","The End Goal","The perfect AI Waifu/Husbando."],["Easter Eggs","Basket Weaving","NovelAI is quite popular in basket weaving forums."],["Easter Eggs","Nurse Help!","If you shout loudly enough a nurse might come help you."],["Easter Eggs","Logo Wars","Try clicking some logos a few dozen times... there could be fallen heroes around..."],["Easter Eggs","Geese VS Rats","Did you know the geese won the Great Rat War of 2021?"]];function T(e){let[t,i]=(0,A.fp)(u.FT),r=(0,A.Xr)(u.BQ),[d,h]=(0,b.h)("tipsDisabled",!1),p=(0,A.md)(u.x1),m=(0,o.useCallback)((e,t)=>{15e-5>=Math.random()?i(e=>({...e,easterEggTip:Math.floor(Math.random()*C.length-1)})):0===e?i(e=>{let i;if(t&&-1!==e.tip)return e;do i=Math.floor(Math.random()*k.length-1);while(i===e.tip);return{...e,tip:i,easterEggTip:-1}}):i(t=>({...t,tip:(t.tip+e+k.length)%k.length,easterEggTip:-1}))},[i]);(0,o.useEffect)(()=>{m(0,!0)},[m]),(0,o.useEffect)(()=>{let e=setInterval(()=>{m(1)},3e4);return()=>clearInterval(e)},[m]);let w=k[t.tip]&&(0,n.jsx)(n.Fragment,{children:-1===t.easterEggTip?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{style:{fontWeight:"bold"},children:[k[t.tip][1],":"]}),(0,n.jsxs)("span",{children:[" ",k[t.tip][2]]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{style:{fontWeight:"bold"},children:[(0,n.jsx)(a.dQw,{style:{position:"relative",top:"0.1rem"}})," ",C[t.easterEggTip][1],":"]}),(0,n.jsxs)("span",{children:[" ",C[t.easterEggTip][2]]})]})});return d?(0,n.jsx)(o.Fragment,{}):(0,n.jsxs)("div",{style:{padding:e.border?"5px 10px":"0",marginBottom:e.border?"10px":"0",border:e.border?`1px solid ${p.colors.bg3}`:"0",background:e.border?`${p.colors.bg2}`:"none",borderRadius:"3px",fontSize:"0.875rem",display:"flex",width:"100%",...e.style},children:[k[t.tip]&&(0,n.jsx)(y.A,{style:{width:"100%"},tooltip:"",elementTooltip:(0,n.jsx)("div",{children:w}),delay:100,overflowChild:"#tip-text",children:(0,n.jsx)(s.N,{exitBeforeEnter:!0,children:(0,n.jsx)(c.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,ease:"easeInOut"},children:(0,n.jsx)(B,{lines:e.clampLines,center:e.center,id:"tip-text",children:w})},t.tip)})}),e.dismissable&&(0,n.jsx)(M,{onConfirm:()=>{h(!0),(0,x.yt)("tipsDisabled","true")},warningText:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"Are you sure you want to disable tips for this session?"}),(0,n.jsxs)("div",{children:["You can re-enable or permanently turn off tips in the",(0,n.jsx)("br",{}),(0,n.jsxs)(f.Dp,{style:{cursor:"pointer"},onClick:()=>r(v.A.Interface),children:[(0,n.jsx)(I,{icon:(0,n.jsx)(g.Zes,{})})," ",(0,n.jsx)("strong",{children:"Interface Settings"}),"."]})]})]}),confirmButtonText:"Turn off Tips for this session",label:"Turn off Tips?",iconURL:l.A.src,buttonText:(0,n.jsx)(g.P55,{style:{width:"11px"}})})]})}function N(e){let t={};for(let e of k)t[e[0]]||(t[e[0]]=[]),t[e[0]].push(e);return(0,n.jsxs)(m.wt,{children:[Object.entries(t).map((e,t)=>{let[i,o]=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{children:i}),o.map((e,t)=>(0,n.jsxs)("div",{style:{marginBottom:10},children:[(0,n.jsxs)("span",{style:{fontWeight:"bold"},children:[e[1],":"]}),(0,n.jsxs)("span",{children:[" ",e[2]]})]},t))]},t)}),e.showEasterEggs&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{children:"Easter Eggs"}),C.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{style:{fontWeight:"bold"},children:[e[1],":"]}),(0,n.jsxs)("span",{children:[" ",e[2]]})]},t))]})]})}let M=(0,r.Ay)(w.D).withConfig({componentId:"sc-70c9bba-1"})(["opacity:0.3;padding:0 10px;width:auto;background:none;> div{background-color:",";}&:hover{background:none;opacity:0.7;}"],e=>e.theme.colors.textMain),B=r.Ay.div.withConfig({componentId:"sc-70c9bba-2"})(["line-height:1.25rem;color:",";","{background-color:",";}text-align:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:",";-webkit-box-orient:vertical;"],e=>(0,h.No)(.3,e.theme.colors.textMain),g.Int,e=>(0,h.No)(.3,e.theme.colors.textMain),e=>e.center?"center":"left",e=>e.lines)},40291:(e,t,i)=>{"use strict";i.d(t,{_d:()=>eh,oO:()=>eo,nb:()=>er,r5:()=>ea,Jn:()=>z,VY:()=>ei,LA:()=>T,XZ:()=>K,Br:()=>Y,Kx:()=>U,ej:()=>J,bw:()=>V,c1:()=>X,Ah:()=>Z,re:()=>O,qM:()=>q,ne:()=>Q,Js:()=>el,I$:()=>$,iP:()=>es,fW:()=>ep,Xd:()=>eg,pX:()=>eu,Xt:()=>G,QK:()=>F,V5:()=>B,cL:()=>E,PI:()=>m,JU:()=>ee,p0:()=>ed,Zt:()=>ec,dL:()=>k,uG:()=>S,XP:()=>I,m$:()=>em,we:()=>b,Bj:()=>y,K5:()=>w,H3:()=>C,Cn:()=>_,ho:()=>N,kw:()=>M,ff:()=>D,_0:()=>A,az:()=>P,aE:()=>j,WI:()=>et,gs:()=>W,TV:()=>L,MY:()=>H,s7:()=>x,kx:()=>f,Rj:()=>en,If:()=>v,xE:()=>R});var n=i(55805),o=i(47644),r=i(6196),a=i(41589),s=i(92704),c=i(89077),d=i(33996),l=i(29718),h=i(22577),g=i(16283),u=i(39948),p=i(61056);let m="800px",x=n.Ay.div.withConfig({componentId:"sc-8b99d620-0"})(["display:flex;flex-direction:column;gap:5px;"]),f=n.Ay.div.withConfig({componentId:"sc-8b99d620-1"})(["display:flex;flex-direction:row;"]),b=n.Ay.div.withConfig({componentId:"sc-8b99d620-2"})(["background:",";font-size:0.875rem;"],e=>e.theme.colors.bg3),y=n.Ay.div.withConfig({componentId:"sc-8b99d620-3"})(["display:flex;padding:15px 15px 0 15px;justify-content:space-between;font-size:1rem;font-family:",";color:",";"],e=>e.theme.fonts.headings,e=>e.theme.colors.textHeadings),w=n.Ay.div.withConfig({componentId:"sc-8b99d620-4"})(["padding:",";> textarea{background:",";}> div{white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;}"],e=>e.active?"0 5px 5px 5px":"0 15px 15px 15px",e=>e.theme.colors.bg1),v=n.Ay.div.withConfig({componentId:"sc-8b99d620-5"})(["display:flex;flex-direction:row;height:100%;width:100%;background:",";color:",";"],e=>e.theme.colors.bg2,e=>e.theme.colors.textMain),j=n.Ay.div.withConfig({componentId:"sc-8b99d620-6"})(["display:flex;position:relative;flex:1 1 auto;input{padding-left:15px;}> div{width:140px;}&::after{color:",";background:",";mask-image:url(",");mask-repeat:none;mask-size:contain;content:'';width:16px;height:16px;font-size:1.2rem;margin-right:10px;pointer-events:none;position:absolute;right:0;top:50%;transform:translateY(-50%);}"],e=>e.theme.colors.textMain,e=>e.theme.colors.textMain,r.A.src),A=n.Ay.div.withConfig({componentId:"sc-8b99d620-7"})(["display:flex;flex-direction:column;position:relative;border-top:2px solid ",";&:last-child{border-bottom:2px solid ",";}opacity:",";"],e=>e.theme.colors.bg3,e=>e.theme.colors.bg3,e=>e.opaque?" 0.5":"1"),S=(0,n.Ay)(c.ur).withConfig({componentId:"sc-8b99d620-8"})(["cursor:pointer;overflow:hidden;white-space:nowrap;flex-direction:row;user-select:none;box-sizing:border-box;> div{line-height:1.1rem;}"," "," width:",";"," ",""],e=>e.isConfirmDelete?`transition: background ${e.theme.transitions.interactive};`:"",e=>e.isConfirmDelete?`transition: width ${e.theme.transitions.interactive};`:"",e=>e.isConfirmDelete?"calc(6ch + 24px)":"calc(1.2rem + 24px)",e=>e.isConfirmDelete?`background: ${e.theme.colors.warning} !important;`:"",e=>e.isConfirmDelete?`color: ${e.theme.colors.bg0} !important;`:""),I=(0,n.Ay)(s.Int).withConfig({componentId:"sc-8b99d620-9"})(["opacity:0.9;align-self:center;height:1.5rem;width:1.5rem;mask-size:1rem 1rem;mask-image:url(",");background:",";"],a.A.src,e=>e.theme.colors.textMain),k=(0,n.Ay)(s.Int).withConfig({componentId:"sc-8b99d620-10"})(["border:transparent;opacity:0.9;align-self:center;height:1.5rem;width:1.5rem;mask-size:1rem 1rem;mask-image:url(",");background:",";"],u.A.src,e=>e.theme.colors.textMain),C=n.Ay.div.withConfig({componentId:"sc-8b99d620-11"})(["box-sizing:border-box;width:calc(100vw - 320px);max-width:",";display:flex;flex:1 0 auto;flex-direction:column;min-height:300px;transition:opacity 0.05s ease-in-out;padding:0 30px 0px 30px;@media (max-width:","){padding:0 20px;width:calc(100vw);}"],e=>e.pinned?"1324px":"816px",m),T=n.Ay.input.withConfig({componentId:"sc-8b99d620-12"})(["flex:1 1 0;padding:7px 10px 5px 15px;background:"," !important;border:1px solid ",";border-radius:1px;margin-right:20px;&:focus{background:"," !important;}@media (max-width:","){width:100%;}font-family:",";color:",";font-size:1.125rem;font-weight:600;"],e=>e.theme.colors.bg2,e=>e.theme.colors.bg3,e=>e.theme.colors.bg1,m,e=>e.theme.fonts.headings,e=>e.theme.colors.textHeadings),N=n.Ay.div.withConfig({componentId:"sc-8b99d620-13"})(["display:flex;flex-direction:column;flex:0 0 auto;"]),M=n.Ay.div.withConfig({componentId:"sc-8b99d620-14"})(["border:1px solid ",";"],e=>e.theme.colors.bg3),B=n.Ay.div.withConfig({componentId:"sc-8b99d620-15"})(["font-size:1rem;position:relative;display:flex;flex-direction:row;margin:0px;cursor:pointer;user-select:none;@media (max-width:","){font-size:0.875rem;}"],m),E=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-8b99d620-16"})(["border-left:2px solid ",";background:",";padding:6px 10px 6px 10px;&:hover{background:",";}"],e=>e.selected?e.theme.colors.textMain:"transparent",e=>e.error?e.theme.colors.warning:e.theme.colors.bg3,e=>e.theme.colors.bg1),L=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-8b99d620-17"})(["right:0px;top:0px;position:absolute;display:flex;flex-direction:row;align-items:center;height:100%;padding:5px !important;background:",";&:hover{background:",";}"],e=>(0,o.No)(.47,e.theme.colors.bg3),e=>e.theme.colors.bg0),_=n.Ay.div.withConfig({componentId:"sc-8b99d620-18"})(["padding:15px 20px 15px 20px;display:flex;flex-direction:row;flex-wrap:wrap;> ","{margin-right:5px;margin-bottom:5px;}flex:0 0 auto;"],B),F=n.Ay.div.withConfig({componentId:"sc-8b99d620-19"})(["height:92px;width:100%;font-size:1rem;font-weight:600;display:flex;justify-content:center;align-items:center;"]),G=n.Ay.div.withConfig({componentId:"sc-8b99d620-20"})(["min-height:92px;"]),R=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-8b99d620-21"})(["position:absolute;bottom:0px;right:6px;opacity:0.8;font-size:0.9rem;cursor:pointer;"]),D=n.Ay.div.withConfig({componentId:"sc-8b99d620-22"})([""," width:320px;max-width:100vw;min-width:240px;display:flex;height:100%;flex:0 0 auto;flex-direction:column;position:relative;overflow-x:visible;background:",";border-right:1px solid ",";@media (max-width:","){min-width:300px;}"],d.Bx,e=>e.theme.colors.bg1,e=>e.theme.colors.bg3,m),P=n.Ay.div.withConfig({componentId:"sc-8b99d620-23"})(["width:100%;display:flex;"]),O=n.Ay.div.withConfig({componentId:"sc-8b99d620-24"})(["width:100%;display:flex;flex-direction:column;align-items:flex-start;margin-top:26px;@media (max-width:","){margin-top:10px;}> div{}"],m),W=n.Ay.div.withConfig({componentId:"sc-8b99d620-25"})(["width:100%;display:none;> ","{height:1.3rem;width:1.3rem;}@media (max-width:","){display:flex;flex-direction:row;justify-content:flex-start;padding:15px 0px;align-items:center;> div{margin-top:auto;margin-bottom:auto;}}"],s.Int,m),H=n.Ay.div.withConfig({componentId:"sc-8b99d620-26"})(["width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-right:50px;@media (max-width:","){padding-right:0;}"],m),Y=n.Ay.div.withConfig({componentId:"sc-8b99d620-27"})(["width:100%;height:100%;display:flex;flex-direction:row;overflow:auto;overflow-x:hidden;"]),z=(0,n.Ay)(p.yy).withConfig({componentId:"sc-8b99d620-28"})(["position:absolute;right:30px;top:35px;> div{width:2rem;height:2rem;}flex:0 0 auto;z-index:4;@media (max-width:","){right:20px;top:25px;}"],m),U=n.Ay.div.withConfig({componentId:"sc-8b99d620-29"})(["width:100%;display:flex;flex-direction:column;flex:0 1 auto;position:relative;"]),Z=n.Ay.div.withConfig({componentId:"sc-8b99d620-30"})(["font-size:0.87rem;flex:0 0 auto;display:flex;overflow-x:scroll;border-top:1px solid ",";transform:rotateX(180deg);-ms-transform:rotateX(180deg);-webkit-transform:rotateX(180deg);"],e=>e.theme.colors.bg3),V=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-8b99d620-31"})(["text-align:center;height:40px;padding:",";font-size:0.875rem;background-color:",";color:",";transform:rotateX(180deg);-ms-transform:rotateX(180deg);-webkit-transform:rotateX(180deg);line-height:0;flex:0 0 auto;transition:background-color ",",padding ",";&:hover{background-color:",";padding:22px 20px;}"],e=>e.selected?"22px 20px":"20px 20px",e=>e.selected?e.theme.colors.bg3:e.theme.colors.bg1,e=>e.selected?e.theme.colors.textMain:(0,o.No)(.5,e.theme.colors.textMain),e=>e.theme.transitions.interactive,e=>e.theme.transitions.interactive,e=>e.theme.colors.bg3),q=n.Ay.div.withConfig({componentId:"sc-8b99d620-32"})(["font-size:0.875rem;text-align:center;padding:22px 20px;font-size:0.875;background-color:",";color:",";transform:rotateX(180deg);-ms-transform:rotateX(180deg);-webkit-transform:rotateX(180deg);line-height:0;flex:0 0 auto;"],e=>e.theme.colors.bg3,e=>e.theme.colors.textMain),K=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-8b99d620-33"})(["padding:0px 20px;display:flex;align-items:center;> div{margin-right:8px;}font-size:0.875rem;transform:rotateX(180deg);-ms-transform:rotateX(180deg);-webkit-transform:rotateX(180deg);&:hover{color:",";> div{background-color:",";}}"],e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings),X=n.Ay.div.withConfig({componentId:"sc-8b99d620-34"})(["overflow-y:auto;height:100%;flex:1 1 auto;padding:20px 0;max-width:756px;width:100%;"]),J=n.Ay.div.withConfig({componentId:"sc-8b99d620-35"})(["overflow-y:auto;height:100%;flex:1 1 auto;padding:20px 0 20px 20px;max-width:756px;width:100%;border-left:1px solid ",";"],e=>e.theme.colors.bg3),Q=n.Ay.div.withConfig({componentId:"sc-8b99d620-36"})(["display:flex;flex-direction:row;justify-content:flex-end;"]),$=n.Ay.span.withConfig({componentId:"sc-8b99d620-37"})(["color:",";font-size:0.8rem;"],e=>e.theme.colors.warning),ee=n.Ay.div.withConfig({componentId:"sc-8b99d620-38"})(["font-size:1rem;font-weight:600;font-family:"," !important;"],e=>e.theme.fonts.headings),et=n.Ay.div.withConfig({componentId:"sc-8b99d620-39"})(["font-size:0.875rem;font-weight:600;padding-bottom:10px;"]),ei=n.Ay.div.withConfig({componentId:"sc-8b99d620-40"})(["font-size:0.875rem;font-weight:600;opacity:0.7;"]);n.Ay.span.withConfig({componentId:"sc-8b99d620-41"})(["color:"," !important;font-size:0.875rem;font-weight:600;"],e=>e.theme.colors.textHeadings);let en=n.Ay.div.withConfig({componentId:"sc-8b99d620-42"})(["display:flex;flex-direction:row;align-items:center;padding-top:5px;padding-bottom:5px;> :last-child{margin-left:3px;height:0.9rem;width:0.9rem;}"]);n.Ay.div.withConfig({componentId:"sc-8b99d620-43"})(["position:absolute;left:0;top:0;width:100%;height:100%;background:",";opacity:0.7;z-index:10;"],e=>e.theme.colors.bg0);let eo=(0,n.Ay)(s.Int).withConfig({componentId:"sc-8b99d620-44"})(["mask-image:url(",");cursor:pointer;mask-repeat:no-repeat;mask-size:1.1rem 1.1em;mask-position:center;height:1.5rem;width:2rem;"],e=>e.up?h.A.src:l.A.src),er=(0,n.Ay)(s.Int).withConfig({componentId:"sc-8b99d620-45"})(["mask-image:url(",");cursor:pointer;mask-repeat:no-repeat;mask-size:0.9rem 0.9em;mask-position:center;height:1.5rem;width:2rem;"],g.A.src),ea=n.Ay.div.withConfig({componentId:"sc-8b99d620-46"})(["padding:10px 0;width:100%;"]),es=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-8b99d620-47"})(["font-weight:bold;font-size:0.875rem;margin-left:10px;display:flex;flex-direction:row;align-items:center;color:",";> div{background-color:",";&:nth-child(1){margin-right:5px;}&:nth-child(2){width:12px;margin-left:5px;}}"],e=>e.toggled?e.theme.colors.textHeadings:e.theme.colors.textMain,e=>e.toggled?e.theme.colors.textHeadings:e.theme.colors.textMain),ec=(0,n.Ay)(s.Int).withConfig({componentId:"sc-8b99d620-48"})(["mask-image:url(",");height:1rem;background:",";"],"/_next/static/media/light_on.818ba194.svg",e=>e.theme.colors.textHeadings),ed=(0,n.Ay)(s.Int).withConfig({componentId:"sc-8b99d620-49"})(["mask-image:url(",");height:1rem;background:",";"],"/_next/static/media/light_off.5caca0c4.svg",e=>e.theme.colors.textMain),el=(0,n.Ay)(c.Dp).withConfig({componentId:"sc-8b99d620-50"})(["font-size:0.8rem;color:",";display:flex;flex-direction:row;align-items:center;> ","{margin-left:4px;width:0.7rem;background-color:",";}"],e=>(0,o.No)(.5,e.theme.colors.textMain),s.Int,e=>(0,o.No)(.5,e.theme.colors.textMain)),eh=n.Ay.div.withConfig({componentId:"sc-8b99d620-51"})(["flex:0 0 auto;display:flex;width:100%;align-items:center;flex-wrap:wrap;margin-top:4px;> *{margin-top:5px;flex:0 0 auto;margin-right:10px;}> :last-child{flex:1 1 0;display:flex;align-items:center;min-width:250px;input{padding:6px 10px 6px 10px;}}"]),eg=n.Ay.div.withConfig({componentId:"sc-8b99d620-52"})(["font-size:0.875rem;overflow-y:auto;max-height:100%;height:500px;> button:nth-child(2n-1){background:",";&:hover{background:",";}}> button:nth-child(2n){background:",";&:hover{background:",";}}"],e=>e.theme.colors.bg1,e=>(0,o.No)(.4,e.theme.colors.bg1),e=>e.theme.colors.bg3,e=>(0,o.No)(.4,e.theme.colors.bg3)),eu=n.Ay.div.withConfig({componentId:"sc-8b99d620-53"})(["color:",";padding-left:10px;padding-top:5px;"],e=>e.theme.colors.textHeadings),ep=n.Ay.div.withConfig({componentId:"sc-8b99d620-54"})(["padding:5px 10px 10px 10px;white-space:pre-wrap;cursor:pointer;> span:first-child{color:",";}"],e=>(0,o.No)(.4,e.theme.colors.textMain)),em=n.Ay.div.withConfig({componentId:"sc-8b99d620-55"})(["> div{padding:0;}"])},41150:(e,t,i)=>{"use strict";i.d(t,{n:()=>o});var n=i(84601);let o=e=>(0,n.cv)(e,"subscriptionPurchaseAttempt")>Date.now()-432e5},44334:(e,t,i)=>{"use strict";i.d(t,{H:()=>u});var n=i(94458),o=i(68658),r=i(31161);let a={src:"/_next/static/media/goose out.66a50cb1.png"};var s=i(97223),c=i(10848),d=i(27524),l=i(84601),h=i(20645),g=i(2834);function u(e){let{size:t}=e,i=(0,g.md)(s.Nn),u=(0,o.useMemo)(()=>(0,l.cv)(i.settings,"identiconV1")?(0,n.jsx)("img",{src:i.authenticated&&i.auth_token?"data:image/svg+xml,"+(0,r.YI)(Math.abs((0,c.s5)((0,d.rh)(i.auth_token))),t||48,{backColor:i.settings.siteTheme?.colors.bg0??h.F.colors.bg0,padding:.16,lightness:{grayscale:[.05,.45]}}).replace(/#/g,"%23"):a.src,alt:"User Avatar"}):(0,n.jsx)(p,{}),[t,i.authenticated,i.auth_token,i.settings.siteTheme,i.settings.identiconV1]);return(0,n.jsx)(o.Fragment,{children:u})}function p(e){return(0,n.jsxs)("svg",{style:e.style,width:"203",height:"203",viewBox:"0 0 203 203",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{className:"svg-color-bg0 svg-fill",d:"M202.939 101.469C202.939 157.509 157.509 202.939 101.469 202.939C45.4294 202.939 0 157.509 0 101.469C0 45.4294 45.4294 0 101.469 0C157.509 0 202.939 45.4294 202.939 101.469Z",fill:"#9773FF"}),(0,n.jsx)("path",{className:"svg-color-textMain svg-fill",d:"M89.0467 202.244C67.6884 199.631 48.3802 190.383 33.2461 176.625C41.6188 170.853 51.0474 165.106 60.6791 160.172C65.7636 157.567 71.7832 155.014 77.9627 152.393C96.7301 144.434 116.972 135.849 116.972 123.292C116.972 109.556 107.667 99.7754 101.464 96.6738C95.7055 93.7946 91.9763 91.93 89.1976 89L112.5 86L120 51L98.3007 37C105.695 31.896 123.765 33.3869 138.684 40.8453C169.701 56.3521 169.701 87.37 169.701 105.98C169.701 136.501 150.681 161.073 114.307 178.048C104.708 182.527 94.3148 192.226 89.0467 202.244Z",fill:"white"}),(0,n.jsx)("path",{className:"svg-color-textHeadings svg-fill",d:"M85.9562 84.2695L107.668 81.1679L113.871 53.2529L95.2612 40.8462L42.6895 51.9139L83.8534 59.1782C84.9598 57.4784 86.8767 56.3545 89.0561 56.3545C92.4821 56.3545 95.2594 59.1318 95.2594 62.5578C95.2594 65.9839 92.4821 68.7612 89.0561 68.7612C86.1102 68.7612 83.644 66.7078 83.0105 63.9542L41.8223 56.6857L85.9562 84.2695Z",fill:"#FFAD72"}),(0,n.jsx)("path",{className:"svg-color-bg0 svg-fill",d:"M143.61 63.305C143.61 68.444 139.444 72.61 134.305 72.61C129.166 72.61 125 68.444 125 63.305C125 58.166 129.166 54 134.305 54C139.444 54 143.61 58.166 143.61 63.305Z",fill:"#202234"}),(0,n.jsx)("path",{className:"svg-color-textMain svg-fill",d:"M148 62.5C148 65.5376 145.538 68 142.5 68C139.462 68 137 65.5376 137 62.5C137 59.4624 139.462 57 142.5 57C145.538 57 148 59.4624 148 62.5Z",fill:"white"})]})}},47044:(e,t,i)=>{"use strict";i.d(t,{L:()=>o});var n=i(68658);function o(e,t,i,o){(0,n.useEffect)(()=>{let n=!1,r=!1,a=a=>{if(document.body.contains(a.target)&&!n&&r&&!(!e.current||e.current.contains(a.target))){if(i)for(let e of i){let t=document.querySelector(`#${e}`);if(t&&t.contains(a.target))return}if(o)for(let e of o){let t=document.querySelector(`.${e}`);if(t&&t.contains(a.target))return}t(a)}},s=t=>{r=e?.current!==null,n=e?.current&&e.current.contains(t.target)};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),document.addEventListener("click",a),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s),document.removeEventListener("click",a)}},[e,t,i,o])}},50884:(e,t,i)=>{"use strict";i.d(t,{Bw:()=>p,C7:()=>R,DG:()=>V,Dq:()=>P,HY:()=>B,Hi:()=>f,I3:()=>C,Kl:()=>k,LN:()=>g,MB:()=>_,MH:()=>S,Nm:()=>y,OJ:()=>q,OQ:()=>w,QO:()=>D,Qd:()=>N,T4:()=>X,Uj:()=>G,VI:()=>T,WU:()=>A,Yj:()=>Y,Z1:()=>E,ey:()=>v,f4:()=>K,gH:()=>U,hE:()=>O,hQ:()=>J,jF:()=>j,kY:()=>x,l1:()=>Z,lB:()=>H,ms:()=>M,pd:()=>W,qF:()=>z,ub:()=>m,uk:()=>u,uu:()=>b,w:()=>F,xD:()=>L,yc:()=>I});var n=i(14723),o=i(55805),r=i(44531),a=i(3715),s=i(89077),c=i(92704),d=i(41879),l=i(47644),h=i(31444);let g=o.Ay.div.withConfig({componentId:"sc-5d63727e-0"})(["display:flex;flex-direction:column;width:100%;height:100%;background-color:",";overflow:hidden;"],e=>e.theme.colors.bg1),u=o.Ay.div.withConfig({componentId:"sc-5d63727e-1"})(["display:flex;flex-direction:column;flex:0 0 auto;width:140px;height:100%;align-items:center;gap:10px;padding:20px 0;border-left:1px solid ",";border-bottom:1px solid ",";border-bottom-left-radius:3px;background:",";@media (max-width:","px){}"],e=>e.theme.colors.bg3,e=>e.theme.colors.bg3,e=>e.theme.colors.bg1,a.kJ),p=o.Ay.div.withConfig({componentId:"sc-5d63727e-2"})(["display:grid;grid-template-columns:autofit;padding-left:10px;overflow-y:scroll;flex-direction:column-reverse;gap:10px;align-items:flex-start;justify-content:flex-start;grid-auto-flow:dense;"]);o.Ay.div.withConfig({componentId:"sc-5d63727e-3"})(["flex:1 1 0;height:100%;max-width:100%;display:flex;flex-direction:column;gap:20px;@media (max-width:","px){gap:0;}"],a.kJ),o.Ay.div.withConfig({componentId:"sc-5d63727e-4"})(["width:280px;@media (max-width:","px){width:calc(100% - 40px);}max-width:100%;display:flex;align-items:center;padding:0 1px 20px 1px;"],a.kJ),o.Ay.div.withConfig({componentId:"sc-5d63727e-5"})(["max-width:1590;display:flex;flex:1 1 0;max-width:1590;padding:0;gap:20px;@media (max-width:","px){flex-direction:column;padding:0;align-items:stretch;}"],a.kJ),(0,o.Ay)(d.wt).withConfig({componentId:"sc-5d63727e-6"})(["flex:1 1 auto;width:auto;min-height:calc(100vh - 40px);min-height:100dvh;overflow:hidden;"]),o.Ay.div.withConfig({componentId:"sc-5d63727e-7"})(["flex:0 0 auto;display:flex;flex-direction:column;width:280px;overflow-y:auto;max-height:100vh;max-height:100dvh;overflow-x:hidden;align-items:center;padding-right:20px;@media (max-width:","px){width:100%;padding-bottom:50px;max-height:unset;overflow:unset;border-left:none;padding-right:0px;}"],a.kJ),o.Ay.div.withConfig({componentId:"sc-5d63727e-8"})(["display:flex;flex-direction:column;flex:1 1 auto;width:100%;max-width:100vw;gap:40px;padding:10px 20px 20px 20px;background-color:",";@media (max-width:","px){min-height:400px;flex-direction:column-reverse;align-items:stretch;padding-top:40px;}"],e=>e.theme.colors.bg1,a.kJ),o.Ay.div.withConfig({componentId:"sc-5d63727e-9"})(["display:flex;flex:0 0 auto;align-items:start;@media (max-width:","px){flex-direction:column;width:100%;margin-top:0;}"],a.kJ);let m=(0,o.Ay)(n.P.div).withConfig({componentId:"sc-5d63727e-10"})(["position:absolute;z-index:1000;display:flex;flex-direction:column;align-items:'flex-start';justify-content:space-between;left:0;top:100%;width:100%;background:",";border:1px solid ",";border-radius:3px;@media (max-width:","px){top:calc(100% - 10px);}"],e=>e.theme.colors.bg2,e=>e.theme.colors.bg3,a.kJ),x=o.Ay.div.withConfig({componentId:"sc-5d63727e-11"})(["padding:15px 15px 0;font-size:0.875rem;opacity:0.8;@media (max-width:","px){padding:10px 15px 0;}"],a.kJ),f=(0,o.Ay)(d.wt).withConfig({componentId:"sc-5d63727e-12"})(["padding:15px;font-size:0.875rem;align-items:flex-start;display:flex;flex-direction:row;justify-content:flex-start;gap:5px;flex-wrap:wrap;@media (max-width:","px){padding:5px 15px;overflow-x:auto;flex-wrap:nowrap;}"],a.kJ),b=o.Ay.div.withConfig({componentId:"sc-5d63727e-13"})(["cursor:pointer;padding:4px 10px;min-width:fit-content;white-space:nowrap;border-radius:3px;border:1px solid ",";background:",";&:hover{background:",";}display:flex;align-items:flex-start;flex-direction:column;"],e=>e.theme.colors.bg3,e=>e.selected?e.theme.colors.bg3:e.theme.colors.bg1,e=>e.theme.colors.bg3),y=(0,o.Ay)(n.P.div).withConfig({componentId:"sc-5d63727e-14"})(["border:1px solid ",";border-radius:3px;padding:",";margin-bottom:15px;"],e=>e.theme.colors.bg3,e=>e.toggled?"20px 15px":"10px 15px"),w=o.Ay.div.withConfig({componentId:"sc-5d63727e-15"})(["display:inline-flex;flex-direction:column;position:relative;flex-basis:fit-content;",";padding-right:",";& > span:first-child{width:fit-content;position:relative;color:",";font-size:0.875rem;","}& > span:nth-child(2),& > button:nth-child(2) > span{overflow-wrap:break-word;word-break:break-all;hyphens:auto;color:",";font-size:1rem;font-weight:600;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;}"],e=>e.lockWidth&&"flex-shrink: 0;",e=>e.showDot?"5px":"0",e=>(0,l.No)(.3,e.theme.colors.textMain),e=>e.showDot&&(0,o.AH)(["&::after{content:'';position:absolute;right:-10px;top:50%;transform:translateY(-50%);width:6px;height:6px;border-radius:100%;background:",";}"],e.theme.colors.textHeadings),e=>e.theme.colors.textMain),v=o.Ay.div.withConfig({componentId:"sc-5d63727e-16"})(["position:absolute;top:0;right:0;width:","px;height:100%;cursor:col-resize;",";"],e=>e.borderSize-1,e=>e.active&&(0,o.AH)(["border-right:1px solid ",";"],(0,l.No)(.85,e.theme.colors.textMain))),j=o.Ay.div.withConfig({componentId:"sc-5d63727e-17"})(["width:100%;position:relative;display:flex;padding:20px 0;flex-direction:column;align-items:center;gap:20px;"]),A=o.Ay.div.withConfig({componentId:"sc-5d63727e-18"})(["position:absolute;top:0;left:0;width:100%;height:100%;z-index:4;background:",";"],e=>(0,l.No)(.5,e.theme.colors.bg1)),S=o.Ay.div.withConfig({componentId:"sc-5d63727e-19"})(["position:absolute;top:0;left:0;width:100%;height:100%;z-index:5;pointer-events:none;user-select:none;background:linear-gradient( 90deg,"," 0%,"," 60% );"],e=>e.theme.colors.bg1,e=>(0,l.No)(1,e.theme.colors.bg1)),I=(0,o.Ay)(n.P.div).withConfig({componentId:"sc-5d63727e-20"})(["display:",";position:absolute;left:0;top:50%;transform:translate(0,-50%);height:","px;width:",";background:",";border:1px solid ",";border-left:none;border-radius:0 3px 3px 0;z-index:5;cursor:pointer;@media (max-width:","px){width:",";}& > img{"," border-radius:3px;position:absolute;transform:translate(0,-50%);"," top:50%;max-height:768px;transition:left 300ms cubic-bezier(0.22,1,0.36,1);pointer-events:none;border:1px solid ",";@media (max-width:","px){","}}"," & > ","{","}"],e=>e.hidden?"none":"block",e=>e.isPortrait?e.height:e.width/e.ar,e=>e.toggled?"60px":"20px",e=>e.theme.colors.bg0,e=>e.theme.colors.bg3,a.kJ,e=>e.toggled?"50px":"20px",e=>e.isPortrait?(0,o.AH)(["height:","px;width:",";left:calc(20px - ","px);"],e.height,e.height*e.ar,e.height*e.ar):(0,o.AH)(["height:","px;width:",";left:calc(20px - ","px);"],e.width/e.ar,e.width,e.width),e=>e.toggled?"left: 70px;":"",e=>e.theme.colors.bg3,a.kJ,e=>e.toggled?"left: 60px;":"",e=>!e.toggled&&(0,o.AH)(["&:hover{z-index:15;& > img{left:calc(25px - ","px);}}& > ","{user-select:none;display:none;}"],e.isPortrait?e.height*e.ar:e.width,j),S,e=>e.toggled&&"display: none;");o.Ay.div.withConfig({componentId:"sc-5d63727e-21"})(["flex:1 1 0;border-radius:3px;display:flex;align-items:center;justify-content:center;position:relative;@media (max-width:","px){margin:-20px;width:calc(100% + 40px);}"],a.kJ);let k=o.Ay.div.withConfig({componentId:"sc-5d63727e-22"})(["transform:",";transition:opacity 300ms cubic-bezier(0.22,1,0.36,1),transform 300ms cubic-bezier(0.22,1,0.36,1);position:absolute;gap:20px;display:grid;grid-template-columns:",";"],e=>e.asideToggle?"scale(0.95)":"scale(1)",e=>e.columns?`repeat(${e.columns}, 1fr)`:"auto");o.Ay.div.withConfig({componentId:"sc-5d63727e-23"})([""," margin:",";display:flex;gap:10px;flex-wrap:wrap;justify-content:center;padding-left:20px;padding-right:20px;@media (max-width:","px){button{flex:1 0 max-content;justify-content:center;}}width:",";"],e=>e.relative?"":(0,o.AH)(["position:absolute;top:-64px;"]),e=>e.relative?"0 0 -10px 0":"10px",a.kJ,e=>e.relative?"100%":"max-content");let C=o.Ay.div.withConfig({componentId:"sc-5d63727e-24"})(["z-index:5;position:absolute;bottom:5px;left:50%;transform:translateX(-50%);user-select:auto;opacity:0;transition:opacity 300ms cubic-bezier(0.22,1,0.36,1);"]),T=o.Ay.div.withConfig({componentId:"sc-5d63727e-25"})(["position:relative;display:flex;align-items:center;flex-direction:column;> img{height:100%;width:100%;border-radius:3px;overflow:hidden;}overflow:visible;> img{transition:transform 0.25s cubic-bezier(0.22,1,0.36,1);}&:hover > ","{user-select:auto;opacity:1;}",""],C,e=>e.solo||e.disableHover?"":e.hover?"& > img:hover { transform: scale(1.02); }":"& > img:hover { cursor: pointer; transform: scale(0.99); }"),N=o.Ay.div.withConfig({componentId:"sc-5d63727e-26"})(["height:100px;width:100px;display:flex;justify-content:center;align-items:center;opacity:0.5;"]),M=(0,o.Ay)(n.P.div).withConfig({componentId:"sc-5d63727e-27"})(["transform:",";opacity:"," !important;transition:opacity 300ms cubic-bezier(0.22,1,0.36,1),transform 300ms cubic-bezier(0.22,1,0.36,1);position:absolute;background-color:",";display:flex;flex-direction:column;justify-content:center;align-items:center;"],e=>e.asideToggle?"scale(0.95)":"scale(1)",e=>e.asideToggle?"0.5":"1",e=>e.theme.colors.bg1),B=o.Ay.div.withConfig({componentId:"sc-5d63727e-28"})(["border:",";border-radius:3px;background-color:",";"," background-size:contain;background-position:center;background-repeat:no-repeat;width:100px;height:100px;flex:0 0 auto;position:relative;cursor:pointer;button{display:none;opacity:0;pointer-events:none;}&:hover{transform:scale(0.98);button{display:block;opacity:0.8;pointer-events:all;&:hover{opacity:1;}}}"],e=>e.selected?`2px solid ${e.theme.colors.textHeadings}`:"2px solid transparent",e=>e.theme.colors.bg0,e=>e.img&&""!==e.img?(0,o.AH)(["background-image:url(",");"],e.img):""),E=(0,o.Ay)(s.Dp).withConfig({componentId:"sc-5d63727e-29"})(["white-space:pre;display:flex;align-items:center;flex-grow:0;min-height:1.5rem;","{transition:background-color ease-out 0.2s;}&:hover{color:",";","{background-color:",";}}",""],c.Int,e=>e.theme.colors.textHeadings,c.Int,e=>e.theme.colors.textHeadings,e=>e.selected&&(0,o.AH)(["background-color:",";"],e.theme.colors.bg3)),L=o.Ay.a.withConfig({componentId:"sc-5d63727e-30"})(["height:100%;white-space:pre;background:none;border:none;cursor:pointer;padding:0px;text-align:left;flex-grow:0;display:flex;align-items:center;transition:opacity ease-out 0.08s;&:active{outline:1px solid rgba(255,255,255,0.2);}","{transition:background-color ease-out 0.1s;}&:hover{color:",";opacity:1 !important;","{background-color:",";}}"],c.Int,e=>e.theme.colors.textHeadings,c.Int,e=>e.theme.colors.textHeadings);(0,o.Ay)(s.Dp).withConfig({componentId:"sc-5d63727e-31"})(["display:flex;justify-content:center;align-items:center;min-height:40px;min-width:40px;padding:12px;background:",";opacity:0.8;border-radius:3px;&:active{opacity:1;}&:hover{> div{background-color:",";}color:",";}line-height:0;gap:10px;"],e=>e.theme.colors.bg2,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings);let _=o.Ay.div.withConfig({componentId:"sc-5d63727e-32"})(["display:flex;justify-content:center;align-items:center;min-height:40px;min-width:40px;font-weight:600;padding:12px;background:",";opacity:0.8;border-radius:3px;line-height:0;gap:10px;"],e=>e.theme.colors.bg2),F=o.Ay.div.withConfig({componentId:"sc-5d63727e-33"})(["width:28px;height:28px;background-color:",";border-radius:3px;font-weight:700;display:flex;justify-content:center;align-items:center;position:absolute;bottom:5px;right:5px;"],e=>(0,l.No)(.3,e.theme.colors.bg2)),G=o.Ay.div.withConfig({componentId:"sc-5d63727e-34"})(["font-family:",";"],e=>e.theme.fonts.headings);(0,o.Ay)(s.Dp).withConfig({componentId:"sc-5d63727e-35"})(["padding-right:10px;@media (min-width:","px){display:none;}"],a.kJ+.5),(0,o.Ay)(s.Dp).withConfig({componentId:"sc-5d63727e-36"})(["display:none;@media (max-width:","px){display:block;}"],a.kJ),o.Ay.div.withConfig({componentId:"sc-5d63727e-37"})(["display:none;max-width:500px;width:100%;padding:0px 20px;@media (max-width:","px){display:block;}"],a.kJ);let R=o.Ay.div.withConfig({componentId:"sc-5d63727e-38"})(["border-radius:3px;display:flex;flex-direction:row;font-weight:600;font-size:14px;max-height:38px;"]),D=o.Ay.div.withConfig({componentId:"sc-5d63727e-39"})(["display:flex;align-items:center;font-family:",";margin-left:6px;color:",";position:relative;top:0.1rem;gap:2px;> div{position:relative;top:-0.1rem;}"],e=>e.theme.fonts.headings,e=>e.theme.colors.textHeadings),P=(0,o.Ay)(s.ur).withConfig({componentId:"sc-5d63727e-40"})(["padding:12px 16px;border-radius:0 3px 3px 0;margin-right:10px;"]);o.Ay.div.withConfig({componentId:"sc-5d63727e-41"})(["display:flex;flex-direction:column;border:1px solid ",";padding:20px;gap:10px;width:100%;"],e=>e.theme.colors.bg3);let O=o.Ay.div.withConfig({componentId:"sc-5d63727e-42"})(["font-size:0.875rem;flex:0 0 auto;word-break:keep-all;"]),W=o.Ay.input.withConfig({componentId:"sc-5d63727e-43"})(["height:44px;padding:10px 20px;background:",";border:1px solid ",";border-radius:3px;&:disabled{opacity:0.5;}"],e=>e.theme.colors.bg0,e=>e.warn?e.theme.colors.warning:e.theme.colors.bg3),H=(0,o.Ay)(s.Dp).withConfig({componentId:"sc-5d63727e-44"})(["height:44px;background:",";border-bottom:1px solid ",";border-top:1px solid ",";"],e=>e.theme.colors.bg0,e=>e.theme.colors.bg3,e=>e.theme.colors.bg3),Y=(0,o.Ay)(h.N).withConfig({componentId:"sc-5d63727e-45"})(["background:",";border:1px solid ",";border-radius:3px;"," "," "," "," &:disabled{opacity:0.5;}&:focus{","}.ProseMirror{"," ","}p{margin:0;padding:0;line-height:1.625rem;text-indent:0;font-size:1rem;color:",";white-space:",";}"],e=>e.theme.colors.bg0,e=>e.warn?e.theme.colors.warning:e.theme.colors.bg3,e=>e.bottomBorder?"padding: 14px 20px 14px 20px;":"padding: 5px 15px 5px 15px;",e=>e.bottomBorder?"":"border-top: none;",e=>e.bottomBorder?"":"border-bottom: none;",e=>e.bottomBorder?"":"border-radius: 0;",e=>e.opaqueText?"color: "+e.theme.colors.textMain+";":"",e=>e.singleLine?"":"min-height: 6rem;",e=>e.singleLine?"overflow-x: auto;":"",e=>e.opaqueText?(0,l.No)(.3,e.theme.colors.textMain):e.theme.colors.textMain,e=>e.singleLine?"pre":"pre-wrap"),z=o.Ay.div.withConfig({componentId:"sc-5d63727e-46"})(["display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:",";padding:15px 15px 0;border:1px solid ",";border-bottom:none;border-top:none;"],e=>e.theme.colors.bg0,e=>e.theme.colors.bg3),U=o.Ay.div.withConfig({componentId:"sc-5d63727e-47"})(["background:",";border:1px solid ",";border-radius:3px;padding:4px 10px;width:100%;"],e=>e.theme.colors.bg1,e=>e.theme.colors.bg3);(0,o.Ay)(r.A).withConfig({componentId:"sc-5d63727e-48"})(["border:1px solid ",";border-radius:3px;"," "," "," "," color:",";&:disabled{opacity:0.5;}&:focus{","}line-height:1.625rem;"],e=>e.warn?e.theme.colors.warning:e.theme.colors.bg3,e=>e.bottomBorder?"padding: 14px 20px 0 20px;":"padding: 5px 15px 0 15px;",e=>e.bottomBorder?"":"border-top: none;",e=>e.bottomBorder?"":"border-bottom: none;",e=>e.bottomBorder?"":"border-radius: 0;",e=>e.opaqueText?(0,l.No)(.3,e.theme.colors.textMain):e.theme.colors.textMain,e=>e.opaqueText?"color: "+e.theme.colors.textMain+";":"");let Z=o.Ay.div.withConfig({componentId:"sc-5d63727e-49"})(["display:flex;flex-direction:column;gap:10px;*{font-weight:normal !important;}"]);o.Ay.div.withConfig({componentId:"sc-5d63727e-50"})(["flex:2;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;height:44px;gap:15px;margin-left:20px;margin-top:10px;@media (max-width:","px){margin:10px 0 -5px 0;flex:0 0 auto;width:100%;height:80px;}@media (min-width:","px){max-width:300px;}"],a.kJ,a.kJ+.5),o.Ay.button.withConfig({componentId:"sc-5d63727e-51"})(["background-color:",";color:",";height:44px;border-radius:3px;overflow:hidden;cursor:pointer;font-weight:700;flex:1 1 0;width:100%;border:1px solid ",";&:disabled{color:",";opacity:0.5;}&:hover{background-color:",";color:",";}&:active{transform:scale(0.98);}transition:color 100ms,background-color 100ms,transform 150ms;align-self:flex-end;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-left:20px;padding-right:20px;gap:10px;& > span:nth-child(2){font-size:0.875rem;display:inline-flex;flex-direction:row;align-items:center;justify-content:center;padding:1px 10px;color:",";background-color:",";border-radius:3px;font-weight:600;transition:color 100ms,background-color 100ms,transform 150ms;","{margin-left:3px;background-color:",";transition:background-color 100ms,background-color 100ms,transform 150ms;}}&:hover{& > span:nth-child(2){color:",";background-color:",";","{background-color:",";}}}& > *{white-space:pre;word-break:keep-all;}"],e=>e.theme.colors.bg1,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg1,e=>e.theme.colors.bg1,e=>e.theme.colors.textHeadings,c.Int,e=>e.theme.colors.bg1,e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg1,c.Int,e=>e.theme.colors.textHeadings),o.Ay.button.withConfig({componentId:"sc-5d63727e-52"})(["background-color:",";color:",";height:44px;border-radius:3px;overflow:hidden;cursor:pointer;font-weight:700;flex:3 0 auto;border:1px solid ",";&:disabled{color:",";opacity:0.5;}&:hover{background-color:",";color:",";}&:active{transform:scale(0.98);}transition:color 100ms,background-color 100ms,transform 150ms;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-left:20px;padding-right:20px;& > span:nth-child(2){font-size:0.875rem;display:inline-flex;flex-direction:row;align-items:center;justify-content:center;padding:1px 10px;color:",";background-color:",";border-radius:3px;font-weight:600;transition:color 100ms,background-color 100ms,transform 150ms;","{margin-left:3px;background-color:",";transition:background-color 100ms,background-color 100ms,transform 150ms;}}&:hover{& > span:nth-child(2){color:",";background-color:",";","{background-color:",";}}}"],e=>e.theme.colors.bg1,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg1,e=>e.theme.colors.bg1,e=>e.theme.colors.textHeadings,c.Int,e=>e.theme.colors.bg1,e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg1,c.Int,e=>e.theme.colors.textHeadings),o.Ay.button.withConfig({componentId:"sc-5d63727e-53"})(["background-color:",";flex:0 0 auto;cursor:pointer;height:44px;width:60px;align-self:flex-end;border-radius:3px;border:none;display:flex;justify-content:center;align-items:center;flex:0 0 auto;&:disabled{color:",";opacity:0.5;}"],e=>e.theme.colors.bg3,e=>e.theme.colors.bg2),(0,o.Ay)(s.Dp).withConfig({componentId:"sc-5d63727e-54"})(["background-color:",";"],e=>(0,l.No)(.2,e.theme.colors.bg2)),o.Ay.div.withConfig({componentId:"sc-5d63727e-55"})(["display:flex;flex-direction:column;padding:20px;position:absolute;bottom:20px;left:20px;min-width:300px;width:calc(100% - 40px);background-color:",";border-radius:3px;border:1px solid ",";gap:10px;"],e=>e.theme.colors.bg1,e=>e.theme.colors.bg3),o.Ay.div.withConfig({componentId:"sc-5d63727e-56"})(["display:flex;gap:10px;font-family:",";color:",";div{background-color:",";}"],e=>e.theme.fonts.headings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings);let V=o.Ay.div.withConfig({componentId:"sc-5d63727e-57"})(["@media (max-width:","px){display:none !important;}"],e=>e.width??a.kJ);o.Ay.span.withConfig({componentId:"sc-5d63727e-58"})(["@media (max-width:","px){display:none !important;}"],e=>e.width??a.kJ);let q=o.Ay.div.withConfig({componentId:"sc-5d63727e-59"})(["@media (min-width:","px){display:none !important;}"],e=>(e.width??a.kJ)+.5),K=o.Ay.span.withConfig({componentId:"sc-5d63727e-60"})(["color:",";"],e=>e.theme.colors.textHeadings);o.Ay.div.withConfig({componentId:"sc-5d63727e-61"})(["position:relative;display:flex;flex-direction:column;align-items:center;margin-right:20px;max-width:max-content;> button{width:74px;height:74px;}@media (max-width:","px){> button{width:32px;height:32px;}flex-direction:row;}"],a.kJ),o.Ay.div.withConfig({componentId:"sc-5d63727e-62"})(["display:flex;flex-direction:row;background-color:",";border-bottom:1px solid ",";width:100%;"],e=>e.theme.colors.bg1,e=>e.theme.colors.bg3),o.Ay.div.withConfig({componentId:"sc-5d63727e-63"})(["flex:0 0 auto;display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap;padding:11px 20px;border-right:1px solid ",";"],e=>e.theme.colors.bg3),o.Ay.div.withConfig({componentId:"sc-5d63727e-64"})(["flex:1 1 0;display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap;padding:11px 20px;gap:10px;@media (max-width:","px){justify-content:flex-end;}"],a.kJ);let X=o.Ay.div.withConfig({componentId:"sc-5d63727e-65"})(["border-left:1px solid ",";"],e=>e.theme.colors.bg3);o.Ay.div.withConfig({componentId:"sc-5d63727e-66"})(["height:100%;width:8px;background-color:",";border:1px solid ",";border-left:none;border-radius:0 3px 3px 0;display:flex;align-items:flex-end;overflow:hidden;"],e=>e.theme.colors.bg0,e=>e.theme.colors.bg3),o.Ay.div.withConfig({componentId:"sc-5d63727e-67"})(["width:100%;background-color:",";max-height:100%;"],e=>e.warn?e.theme.colors.warning:e.theme.colors.textMain);let J=o.Ay.div.withConfig({componentId:"sc-5d63727e-68"})(["width:0.625rem;height:0.625rem;border-radius:50%;border:1px solid ",";background-color:",";"],e=>(0,l.No)(.9,e.theme.colors.textMain),e=>{let t=Math.min(e.count,1e4)/1e4;return(0,l.jh)(t,e.theme.colors.textMain,e.theme.colors.bg2)})},52505:(e,t,i)=>{"use strict";i.d(t,{_:()=>W});var n=i(94458),o=i(23699),r=i(14723),a=i(2834),s=i(38474),c=i(68658),d=i(77256),l=i(54989),h=i(97223),g=i(41150),u=i(83513),p=i(73484),m=i(61695),x=i(20472),f=i(29857),b=i(92704),y=i(71928),w=i(74406),v=i(46181),j=i(27524),A=i(52746),S=i(75859),I=i(27481),k=i(41963),C=i(88587),T=i(41879),N=i(36814);function M(){let[e,t]=(0,c.useState)(0),i=(0,a.Xr)(h.Nn);return(0,n.jsxs)(T.Ye,{children:[(0,n.jsxs)(f.y1,{style:{cursor:"help"},onClick:()=>{t(e+1),20===e&&((0,I.oR)("Debug settings enabled."),i(e=>{let t={...e,settings:{...e.settings,showDebug:!0}};return(0,k.c7)(t).saveSettings(t.settings),t}))},children:["Version ",C._O]}),(0,n.jsx)(N.J,{})]})}var B=i(36849),E=i(12185),L=i(44334),_=i(54117),F=i(55805),G=i(29415),R=i.n(G),D=i(39612),P=i(21560),O=i(26516);function W(e){let{capture:t}=(0,u.A)(),i=(0,p.B2)(),I=(0,a.md)(h.Nn),k=(0,a.md)(h.A6),[C,T]=(0,a.fp)(h.p_),N=(0,a.Xr)(h.OK),F=(0,a.Xr)(h.H7),G=(0,a.Xr)(h.fo),[W,Y]=(0,a.fp)(h.ND),z=(0,a.Xr)(h.kY),[U,Z]=(0,c.useState)(!1),V=(0,s.useRouter)(),q=(0,a.Xr)(h.BQ),K=I.settings.penName||"Author",X=(0,g.n)(I.settings),J=(0,p.o)(),Q=I.noAccount?"Anonymous Trial":I.subscription.active&&(0,v.ax)(I.subscription)?J(I.subscription.tier)+" Tier":X?"Processing":"Not Subscribed",$=(0,a.Xr)(h.sT),ee=(0,a.Xr)(h.IG),et=(0,m.W)(),ei=(0,x.e)(650,900),en=(0,c.useMemo)(()=>ei.width<=650,[ei]),eo=(0,a.Xr)(D.p3);(0,c.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e.visible&&e.setVisible(!1)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[e.visible,e.setVisible,e]);let er=(0,x.l)(),[ea,es]=(0,c.useState)(0),ec=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(ec.current){let e=ec.current.getBoundingClientRect();es(window.innerHeight-e.top)}},[ec,er.height,er.width,I]),(0,n.jsx)(f.sL,{ref:ec,children:(0,n.jsxs)(f.Dv,{height:ea,visible:e.visible,hangingSubmenu:e.hangingSubmenu,style:{overflow:"auto"},children:[(0,n.jsxs)(f.FV,{children:[(0,n.jsx)(f.fh,{className:"user-avatar",children:(0,n.jsx)(L.H,{size:60})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(f.nG,{children:K}),(0,n.jsx)(f.pH,{children:Q})]})]}),(0,n.jsx)(f.pv,{}),(0,n.jsxs)(f.g8,{children:[(0,n.jsx)(o.N,{initial:!1,children:C.id&&(0,n.jsx)(r.P.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.3,ease:[.22,1,.36,1]},children:(0,n.jsx)(f.qH,{disabled:k,onClick:()=>{k||T({id:""})},additionalClasses:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.fAJ,{style:{width:16}}),(0,n.jsx)("div",{children:i.dashboard.dashboard})]})})},"backToDashboard")}),(0,n.jsx)(f.kx,{children:i.settings.account}),(0,n.jsx)(_.Xf,{children:(0,n.jsx)(f.qH,{onClick:()=>{e.setVisible(!1),q(S.A.Account),w.Xb&&e.setVisible(!1),t("account-settings:clicked",{location:"goose_menu"})},additionalClasses:"submenu-item",disabled:!I.auth_token,children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.Zes,{}),(0,n.jsx)("div",{children:i.menubar.accountSettings})]})})}),(0,n.jsx)(_.p0,{children:(0,n.jsx)(f.qH,{onClick:()=>{V.push("/register")},onAuxClick:e=>{1===e.button&&window.open("/register","_blank")},additionalClasses:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Pay,{style:{height:20,width:20}}),(0,n.jsx)("div",{children:i.general.signUp})]})})}),(0,n.jsx)(f.qH,{onClick:e=>{0===e.button&&(t("logout:clicked",{location:"goose_menu"}),(0,l.gm)().then(et).catch(e=>{(0,y.vV)(e,!1,"Couldn't save:")}))},additionalClasses:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.o4l,{}),(0,n.jsx)("div",{children:I.noAccount?i.general.endSession:i.general.logout})]})}),(0,n.jsx)(f.kx,{children:i.menubar.categoryOther}),"image"===e.page&&(0,n.jsx)(f.qH,{onClick:()=>{N({image:-1,subimage:void 0,variation:0})},children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.Bzy,{style:{width:24,height:24}}),(0,n.jsx)("div",{children:i.features.quickStartGallery})]})}),"image"===e.page&&(0,n.jsx)(f.qH,{onClick:()=>{e.setVisible(!1),eo(D.g1.ImageTools)},children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.mOs,{style:{width:24,height:24}}),(0,n.jsx)("div",{children:i.image.imageTools})]})}),"image"!==e.page&&(0,n.jsx)(R(),{href:"/image",children:(0,n.jsx)(f.Wz,{onClick:()=>{(0,j.I4)("ImageGenClick",{props:{view:en?"mobile":"desktop",button:"menu"}}),t("image_gen:clicked",{location:"goose_menu"})},onAuxClick:e=>{1===e.button&&((0,j.I4)("ImageGenClick",{props:{view:en?"mobile":"desktop",button:"menu"}}),t("image_gen:clicked",{location:"goose_menu"}))},className:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.mOs,{}),(0,n.jsx)("div",{children:i.features.imageGeneration})]})})}),"text"!==e.page&&(0,n.jsx)(R(),{href:"/stories",children:(0,n.jsx)(f.Wz,{onClick:()=>{t("text_gen:clicked",{location:"goose_menu"})},onAuxClick:e=>{1===e.button&&t("text_gen:clicked",{location:"goose_menu"})},className:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.RuZ,{}),(0,n.jsx)("div",{children:i.features.textGeneration})]})})}),(0,n.jsx)(f.qH,{onClick:()=>{e.setVisible(!1),z(!0),t("tokenizer:clicked",{location:"goose_menu"})},additionalClasses:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.GR5,{}),(0,n.jsx)("div",{children:i.features.tokenizer})]})}),"text"===e.page&&(0,n.jsx)(_.Xf,{children:(0,n.jsx)(f.qH,{onClick:()=>{G(!0)},additionalClasses:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(O.FSj,{}),(0,n.jsx)("div",{children:i.features.userScripts})]})})}),(0,n.jsx)(f.kx,{children:i.menubar.categoryHelp}),"image"===e.page&&900>(window.visualViewport?.width||window.innerWidth)&&(0,n.jsx)(R(),{target:"_blank",href:"jp"===i.lang?"https://www.youtube.com/watch?v=o7f0jY_QY8E":"https://www.youtube.com/watch?v=36p56C4KdU4",children:(0,n.jsx)(f.Wz,{className:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.N$i,{}),(0,n.jsx)("div",{children:i.features.iamgeTutorial})]})})}),"image"===e.page&&(window.visualViewport?.width||window.innerWidth)>=900&&(0,n.jsx)(f.qH,{onClick:()=>{F(e=>({...e,state:0})),e.setVisible(!1),t("image_tutorial:clicked",{location:"goose_menu"})},additionalClasses:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.N$i,{}),(0,n.jsx)("div",{children:i.features.iamgeTutorial})]})}),(0,n.jsx)(P.l,{children:"text"===e.page&&(0,n.jsxs)(f.qH,{disabled:700>(window.visualViewport?.width||window.innerWidth),onClick:()=>{e.setVisible(!1),ee(!0),$(e=>({...e,state:E.TutorialStates.WELCOME_SCREEN})),(w.Xb||1200>(window.visualViewport?.width||window.innerWidth))&&e.setVisible(!1),t("tutorial:clicked",{location:"goose_menu"})},additionalClasses:"submenu-item",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(b.N$i,{}),(0,n.jsx)("div",{children:i.features.tutorial})]}),700>(window.visualViewport?.width||window.innerWidth)&&(0,n.jsx)(H,{children:i.menubar.desktopOnly})]})}),(0,n.jsxs)(c.Fragment,{children:[(0,n.jsx)(f.Wz,{href:"https://docs.novelai.net",target:"_blank",rel:"noreferrer",onClick:()=>{t("docs:clicked",{location:"goose_menu"})},className:"submenu-item submenu-item-docs",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.NTw,{}),(0,n.jsx)("div",{children:i.features.docs})]})}),(0,n.jsx)(A.A,{isOpen:U,shouldCloseOnOverlayClick:!0,label:"Tips",onRequestClose:()=>Z(!1),children:(0,n.jsx)(B.X,{})})]}),(0,n.jsx)(f.qH,{onClick:()=>{t("discord:clicked",{location:"goose_menu"}),V.push("https://discord.gg/novelai")},onAuxClick:e=>{1===e.button&&(t("discord:clicked",{location:"goose_menu"}),window.open("https://discord.gg/novelai","_blank"))},additionalClasses:"submenu-item",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(b.EIh,{}),(0,n.jsx)("div",{children:i.menubar.novelAIDiscord})]})}),(0,n.jsx)(M,{})]}),(0,n.jsx)(f.a1,{onClick:()=>e.setVisible(!e.visible)})]})})}let H=F.Ay.div.withConfig({componentId:"sc-1673a2e3-0"})(["font-size:0.875rem;"])},54117:(e,t,i)=>{"use strict";i.d(t,{Xf:()=>a,p0:()=>s});var n=i(94458),o=i(2834),r=i(97223);function a(e){let t=(0,o.md)((0,r.ey)("noAccount"));return(0,n.jsx)(n.Fragment,{children:!t&&e.children})}function s(e){let t=(0,o.md)((0,r.ey)("noAccount"));return(0,n.jsx)(n.Fragment,{children:t&&e.children})}i(46181)},59820:(e,t,i)=>{"use strict";i.d(t,{A:()=>a,h:()=>s});var n=i(68658),o=i(53518),r=i(17309);function a(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>JSON.parse(e),s=(0,n.useRef)((0,o.FB)()),c=()=>{let i=(0,r.Lg)(e);if(i)try{return a(i)}catch{}return t},[d,l]=(0,n.useState)(c()),h=(0,n.useRef)(d);h.current=d;let g=(0,n.useCallback)(t=>{if(l(t),"function"==typeof t){let i=t(h.current);(0,r.ZB)(e,JSON.stringify(i))}else(0,r.ZB)(e,JSON.stringify(t));window.dispatchEvent(new CustomEvent("localStorageChanged",{detail:{listener:s.current,key:e}}))},[e]);return(0,n.useEffect)(()=>{let t=e=>{i&&e.storageArea&&e.storageArea===localStorage&&l(c())},n=t=>{let{listener:i,key:n}=t.detail;n===e&&i!==s.current&&l(c())};return window.addEventListener("storage",t),window.addEventListener("localStorageChanged",n),()=>{window.removeEventListener("storage",t),window.removeEventListener("localStorageChanged",n)}}),[d,g]}function s(e,t){let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=(0,n.useRef)((0,o.FB)()),s=()=>{let i=(0,r.W9)(e);if(i)try{return JSON.parse(i)}catch{}return t},[c,d]=(0,n.useState)(s());return(0,n.useEffect)(()=>{let t=e=>{i&&e.storageArea&&e.storageArea===sessionStorage&&d(s())},n=t=>{let{listener:i,key:n}=t.detail;n===e&&i!==a.current&&d(s())};return window.addEventListener("storage",t),window.addEventListener("sessionStorageChanged",n),()=>{window.removeEventListener("storage",t),window.removeEventListener("sessionStorageChanged",n)}}),[c,t=>{d(t),(0,r.yt)(e,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("sessionStorageChanged",{detail:{listener:a.current,key:e}}))}]}},61693:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>eh,Y9:()=>F});var n=i(94458),o=i(68658),r=i(55805),a=i(96638),s=i(27481),c=i(89077);i(36361);var d=i(95467),l=i(10320),h=i(47926),g=i(92704),u=i(97223),p=i(48370),m=i(88587),x=i(47644),f=i(53875),b=i(71928),y=i(20645),w=i(20472),v=i(41879),j=i(8403),A=i(41963),S=i(84601),I=i(41150),k=i(73484),C=i(41609),T=i(52746),N=i(53710),M=i(83513),B=i(81336),E=i(25660),L=i(2834),_=i(21715);let F=(0,r.Ay)(g.Int).withConfig({componentId:"sc-2d0dc9de-0"})(["height:14px;mask-image:url(",");background-color:"," !important;cursor:default;margin-top:4px;"],e=>e.icon,e=>e.color),G=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-1"})(["margin-bottom:20px;position:relative;line-height:20px;color:",";opacity:0.8;font-size:0.875rem;"],e=>e.color??e.theme.colors.textMain),R=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-2"})(["font-weight:600;font-family:",";color:",";line-height:1.25rem;margin-bottom:5px;"],e=>e.theme.fonts.headings,e=>e.color??e.theme.colors.textMain),D=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-3"})(["outline:1px solid ",";background:",";flex:1 1 0;width:100%;position:relative;max-width:315px;margin-bottom:44px;@media (max-width:","){margin-bottom:54px;}padding-bottom:50px;"],e=>e.color??e.theme.colors.bg3,e=>e.theme.colors.bg1,m.Gx),P=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-4"})(["color:",";font-family:",";margin-top:5px;font-size:1.125rem;font-weight:600;"],e=>e.color,e=>e.theme.fonts.headings),O=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-5"})(["border-top:"," solid #2b2d3f;padding:20px 25px 10px;"],e=>e.border?"1px":"0"),W=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-6"})(["color:",";font-weight:700;margin-bottom:20px;display:flex;flex-direction:row;align-items:center;gap:10px;"],e=>e.color),H=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-7"})(["line-height:3.25rem;> span:first-child{font-size:2.75rem;font-weight:700;}> span:last-child{font-size:1.375rem;font-weight:400;}"]),Y=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-8"})(["position:absolute;width:100%;bottom:-24px;left:0;height:40px;top:-41px;background-color:",";padding:10px 30px;line-height:20px;font-weight:700;color:",";outline:1px solid ",";"],e=>e.color,e=>e.theme.colors.bg1,e=>e.color);r.Ay.span.withConfig({componentId:"sc-2d0dc9de-9"})(["color:",";transform:rotate(14.44deg);position:absolute;top:-1rem;left:5.8rem;"],e=>e.color);let z=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-10"})(["color:",";max-width:1000px;text-align:left;font-size:0.875rem;opacity:0.7;@media (max-width:900px){font-size:0.75rem;}"],e=>e.color),U=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-11"})(["display:flex;flex-direction:column;align-items:stretch;justify-content:center;height:100%;gap:10px;overflow-y:auto;"]),Z=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-12"})(["overflow-y:auto;display:flex;flex-direction:column;gap:10px;height:100%;"]),V=r.Ay.h3.withConfig({componentId:"sc-2d0dc9de-13"})(["margin-top:0;"]),q=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-14"})(["margin-bottom:2rem;"]),K=(0,r.Ay)(c.$n).withConfig({componentId:"sc-2d0dc9de-15"})(["border:2px solid "," !important;color:",";font-weight:bold;padding:0.6rem;justify-content:center;"],e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings),X=(0,r.Ay)(c.$n).withConfig({componentId:"sc-2d0dc9de-16"})(["border:2px solid transparent !important;color:",";padding:0.6rem;justify-content:center;"],e=>e.theme.colors.textMain),J=(0,r.Ay)(c.$n).withConfig({componentId:"sc-2d0dc9de-17"})(["border:2px solid transparent !important;color:",";padding:0.6rem;justify-content:center;"],e=>e.theme.colors.textMain);(0,r.Ay)(c.vx).withConfig({componentId:"sc-2d0dc9de-18"})(["border:2px solid transparent !important;color:",";padding:0.6rem;justify-content:center;"],e=>e.theme.colors.textMain);let Q=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-19"})(["display:flex;flex-direction:row;flex-wrap:wrap;gap:20px;justify-content:center;overflow-y:auto;"]),$=r.Ay.button.withConfig({componentId:"sc-2d0dc9de-20"})(["display:flex;user-select:false;flex-direction:column;background:none;align-items:center;cursor:pointer;flex:1 1 30%;min-width:200px;border:0 !important;margin:0;padding:1px;padding-top:41px;& div{color:",";}"," ","{background-color:",";}> *{margin:0;> *{text-align:left;}&:hover{background-color:",";}}"],e=>e.theme.textMain,e=>e.disabled?"opacity: 0.8;":"",g.Int,e=>e.color,e=>(0,x.jh)(.9,e.theme.colors.bg0,e.theme.colors.textMain)),ee=r.Ay.input.withConfig({componentId:"sc-2d0dc9de-21"})(["margin-bottom:1rem;"]);r.Ay.div.withConfig({componentId:"sc-2d0dc9de-22"})(["margin-top:1rem;font-size:0.875rem;opacity:0.8;"]);let et=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-23"})(["margin-bottom:1rem;font-size:1.1rem;"]),ei=(0,r.Ay)(C.A).withConfig({componentId:"sc-2d0dc9de-24"})(["width:30px;height:30px;align-self:center;"]),en=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-25"})(["color:",";"],e=>e.theme.colors.warning),eo=(0,r.Ay)(g.Wdv).withConfig({componentId:"sc-2d0dc9de-26"})(["width:50px;height:50px;margin-top:60px;margin-bottom:40px;background:",";cursor:default;"],e=>e.theme.colors.textHeadings),er=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-27"})(["font-weight:600;font-family:",";font-size:1.375rem;color:",";"],e=>e.theme.fonts.headings,e=>e.theme.colors.textHeadings);function ea(e){let t=(0,k.B2)(),{width:i}=(0,w.l)(),[r,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{i&&(i>1e3&&r?a(!1):i<=1e3&&!r&&a(!0))},[i]),(0,n.jsxs)(D,{style:e.style,children:[(0,n.jsxs)(O,{children:[(0,n.jsx)(F,{icon:d.A.src,color:y.F.colors.textHeadings}),(0,n.jsx)(P,{color:y.F.colors.textHeadings,children:t.tier.tablet}),(0,n.jsxs)(H,{children:[(0,n.jsx)("span",{children:"$10"}),(0,n.jsx)("span",{children:t.subscription.tierCards.perMonth})]})]}),(0,n.jsxs)(O,{border:!0,children:[(0,n.jsx)(W,{color:y.F.colors.textHeadings,children:t.subscription.tierCards.imageGen}),(0,n.jsx)(R,{children:t.newLanding.subTiers.imageGenAccess}),(0,n.jsx)(G,{children:t.newLanding.subTiers.imageGenAccessSubOnDemand}),(0,n.jsx)(R,{children:t.newLanding.subTiers.anlasPurchaseDiscount[0]+t.newLanding.subTiers.anlasPurchaseDiscount[1]}),(0,n.jsx)(G,{children:t.newLanding.subTiers.anlasPurchaseDiscountSub33}),(0,n.jsxs)(R,{children:["1000 ",(0,n.jsx)(g.qeX,{style:{display:"inline-block",height:"1rem"}})," ",t.general.anlas]}),(0,n.jsx)(G,{children:t.newLanding.subTiers.anlasSub})]}),(0,n.jsxs)(O,{border:!0,children:[(0,n.jsx)(W,{color:y.F.colors.textHeadings,children:t.subscription.tierCards.textGeneration}),(0,n.jsx)(R,{children:"Kayra 13b"}),(0,n.jsx)(G,{children:t.models.kayra.description}),(0,n.jsx)(R,{children:(0,_.LP)(t.subscription.tierCards.tokenMemory,4096)}),(0,n.jsx)(G,{children:(0,_.LP)(t.subscription.tierCards.tokenMemorySub,16384)})]}),(0,n.jsxs)(O,{border:!0,children:[(0,n.jsxs)(W,{color:y.F.colors.textHeadings,style:{cursor:i<=1e3?"pointer":"default"},onClick:e=>{i<=1e3&&(a(e=>!e),e.preventDefault())},children:[t.subscription.tierCards.extraFeatures," ",i<=1e3?r?(0,n.jsx)(g.ZLN,{style:{opacity:.8,width:"12px"}}):(0,n.jsx)(g.Kpk,{style:{opacity:.3,width:"12px"}}):null]}),!r&&(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(R,{children:t.subscription.tierCards.TTS}),(0,n.jsx)(G,{children:t.subscription.tierCards.TTSSub}),(0,n.jsx)(v._C,{min:45,max:45})]})]}),e.children]})}function es(e){let t=(0,k.B2)(),{width:i}=(0,w.l)(),[r,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{i&&(i>1e3&&r?a(!1):i<=1e3&&!r&&a(!0))},[i]),(0,n.jsxs)(D,{style:e.style,color:y.F.colors.textHeadingsOptions[1],children:[(0,n.jsxs)(O,{children:[(0,n.jsx)(Y,{color:y.F.colors.textHeadingsOptions[1],children:t.subscription.tierCards.bestValue}),(0,n.jsx)(F,{icon:l.A.src,color:y.F.colors.textHeadingsOptions[1]}),(0,n.jsx)(P,{color:y.F.colors.textHeadingsOptions[1],children:t.tier.scroll}),(0,n.jsxs)(H,{children:[(0,n.jsx)("span",{children:"$15"}),(0,n.jsx)("span",{children:t.subscription.tierCards.perMonth})]})]}),(0,n.jsxs)(O,{border:!0,children:[(0,n.jsx)(W,{color:y.F.colors.textHeadingsOptions[1],children:t.subscription.tierCards.imageGen}),(0,n.jsx)(R,{children:t.newLanding.subTiers.imageGenAccess}),(0,n.jsx)(G,{children:t.newLanding.subTiers.imageGenAccessSubOnDemand}),(0,n.jsx)(R,{children:t.newLanding.subTiers.anlasPurchaseDiscount[0]+t.newLanding.subTiers.anlasPurchaseDiscount[1]}),(0,n.jsx)(G,{children:t.newLanding.subTiers.anlasPurchaseDiscountSub33}),(0,n.jsxs)(R,{children:["1000 ",(0,n.jsx)(g.qeX,{style:{display:"inline-block",height:"1rem"}})," ",t.general.anlas]}),(0,n.jsx)(G,{children:t.newLanding.subTiers.anlasSub})]}),(0,n.jsxs)(O,{border:!0,children:[(0,n.jsx)(W,{color:y.F.colors.textHeadingsOptions[1],children:t.subscription.tierCards.textGeneration}),(0,n.jsx)(R,{children:"Kayra 13b"}),(0,n.jsx)(G,{children:t.models.kayra.description}),(0,n.jsx)(R,{children:(0,_.LP)(t.subscription.tierCards.tokenMemory,8192)}),(0,n.jsx)(G,{children:(0,_.LP)(t.subscription.tierCards.tokenMemorySub,32768)})]}),(0,n.jsxs)(O,{border:!0,children:[(0,n.jsxs)(W,{color:y.F.colors.textHeadingsOptions[1],style:{cursor:i<=1e3?"pointer":"default"},onClick:e=>{i<=1e3&&(a(e=>!e),e.preventDefault())},children:[t.subscription.tierCards.extraFeatures," ",i<=1e3?r?(0,n.jsx)(g.ZLN,{style:{opacity:.8,width:"12px"}}):(0,n.jsx)(g.Kpk,{style:{opacity:.3,width:"12px"}}):null]}),!r&&(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(R,{children:t.subscription.tierCards.TTS}),(0,n.jsx)(G,{children:t.subscription.tierCards.TTSSub}),(0,n.jsx)(v._C,{min:45,max:45})]})]}),e.children]})}function ec(e){let t=(0,k.B2)(),{width:i}=(0,w.l)(),[r,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{i&&(i>1e3&&r?a(!1):i<=1e3&&!r&&a(!0))},[i]),(0,n.jsxs)(D,{style:e.style,color:y.F.colors.textHeadingsOptions[3],children:[(0,n.jsxs)(O,{children:[(0,n.jsx)(Y,{color:y.F.colors.textHeadingsOptions[3],children:t.subscription.tierCards.forTheEnthusiast}),(0,n.jsx)(F,{icon:h.A.src,color:y.F.colors.textHeadingsOptions[3]}),(0,n.jsx)(P,{color:y.F.colors.textHeadingsOptions[3],children:t.tier.opus}),(0,n.jsxs)(H,{children:[(0,n.jsx)("span",{children:"$25"}),(0,n.jsx)("span",{children:t.subscription.tierCards.perMonth})]})]}),(0,n.jsxs)(O,{border:!0,children:[(0,n.jsx)(W,{color:y.F.colors.textHeadingsOptions[3],children:t.subscription.tierCards.imageGen}),(0,n.jsx)(R,{children:t.newLanding.subTiers.imageGenAccess}),(0,n.jsx)(G,{children:t.newLanding.subTiers.imageGenAccessSubUnlimited}),(0,n.jsx)(R,{children:t.newLanding.subTiers.anlasPurchaseDiscount[0]+t.newLanding.subTiers.anlasPurchaseDiscount[1]}),(0,n.jsx)(G,{children:t.newLanding.subTiers.anlasPurchaseDiscountSub33}),(0,n.jsxs)(R,{children:["10,000 ",(0,n.jsx)(g.qeX,{style:{display:"inline-block",height:"1rem"}})," ",t.general.anlas]}),(0,n.jsx)(G,{children:t.newLanding.subTiers.anlasSub})]}),(0,n.jsxs)(O,{border:!0,children:[(0,n.jsx)(W,{color:y.F.colors.textHeadingsOptions[3],children:t.subscription.tierCards.textGeneration}),(0,n.jsx)(R,{children:"Llama 3 Erato 70b"}),(0,n.jsx)(G,{children:t.models.erato.description}),(0,n.jsx)(R,{children:"Kayra 13b"}),(0,n.jsx)(G,{children:t.models.kayra.description}),(0,n.jsx)(R,{children:(0,_.LP)(t.subscription.tierCards.tokenMemory,8192)}),(0,n.jsx)(G,{children:(0,_.LP)(t.subscription.tierCards.tokenMemorySub,32768)})]}),(0,n.jsxs)(O,{border:!0,children:[(0,n.jsxs)(W,{color:y.F.colors.textHeadingsOptions[3],style:{cursor:i<=1e3?"pointer":"default"},onClick:e=>{i<=1e3&&(a(e=>!e),e.preventDefault())},children:[t.subscription.tierCards.extraFeatures," ",i<=1e3?r?(0,n.jsx)(g.ZLN,{style:{opacity:.8,width:"12px"}}):(0,n.jsx)(g.Kpk,{style:{opacity:.3,width:"12px"}}):null]}),!r&&(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(R,{children:t.subscription.tierCards.TTS}),(0,n.jsx)(G,{children:t.subscription.tierCards.TTSSub}),(0,n.jsx)(R,{children:t.subscription.tierCards.experimentalFeatures}),(0,n.jsx)(G,{children:t.subscription.tierCards.experimentalFeaturesSub})]})]}),e.children]})}let ed=(e,t,i,n)=>{if(!window.Paddle?.Checkout)return void(0,s.oR)("Payment provider failed to load. Please reload the page. Some regions cannot be served by Paddle, please check if that applies to you if this error persists.",{type:"error"});window.Paddle.Checkout.open({product:t,passthrough:JSON.stringify({auth_token:e}),successCallback:e=>{e&&e.checkout&&e.checkout.id&&i(t)},closeCallback:e=>{n(t)}})};function el(e){let{capture:t}=(0,M.A)(),i=(0,k.B2)(),r=(0,L.md)(u.Nn),a=(0,I.n)(r.settings),[s,c]=(0,o.useState)(!m.Nl&&!a),d=(0,L.md)(u.x1),l=i=>{t("subscription_purchase:succeded",{paymentProcessor:f.Br.PADDLE,product:i,location:"subscription"}),c(!1),e.onSuccess()},h=e=>{t("subscription_purchase:closed",{paymentProcessor:f.Br.PADDLE,product:e,location:"subscription"})};return(0,n.jsxs)(U,{children:[(0,n.jsx)(V,{children:i.subscription.tierPricing}),e.explanation?(0,n.jsx)(et,{children:e.explanation}):(0,n.jsx)(n.Fragment,{}),m.Nl&&(0,n.jsxs)(j.SY,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"left",textAlign:"left",margin:10},children:[i.subscription.checkoutDisabled,(0,n.jsx)("br",{}),i.subscription.subLongerActivate]}),a&&(0,n.jsx)(j.yB,{children:(0,n.jsxs)(v.Ye,{children:[(0,n.jsx)(g.Vkb,{}),(0,n.jsx)("div",{style:{width:8}}),(0,n.jsxs)(v.wt,{style:{textAlign:"left",gap:8},children:[(0,n.jsx)("span",{children:i.subscription.alreadyPurchased[0]}),(0,n.jsx)("span",{children:(0,n.jsx)("b",{children:i.subscription.alreadyPurchased[1]})}),(0,n.jsx)("span",{children:(0,_.zw)(i.subscription.alreadyPurchased[2],"support@novelai.net").map((e,t)=>1===t?(0,n.jsx)("a",{href:`mailto:${e}`,children:e},t):(0,n.jsx)("span",{children:e},t))})]})]})}),!a&&(0,n.jsx)(j.ov,{style:{opacity:.8},children:i.subscription.asiaPurchaseDelay}),(0,n.jsx)(Z,{children:(0,n.jsxs)(Q,{children:[(0,n.jsx)($,{color:d.colors.textHeadingsOptions[0],onClick:()=>ed(r.auth_token,m.wr,l,h),disabled:!s,children:(0,n.jsx)(ea,{})}),(0,n.jsx)($,{color:d.colors.textHeadingsOptions[1],onClick:()=>ed(r.auth_token,m.XJ,l,h),disabled:!s,children:(0,n.jsx)(es,{})}),(0,n.jsx)($,{color:d.colors.textHeadingsOptions[3],onClick:()=>ed(r.auth_token,m.Vj,l,h),disabled:!s,children:(0,n.jsx)(ec,{})}),(0,n.jsx)(z,{children:i.subscription.tierCards.finePrintImage})]})})]})}function eh(e){let{capture:t}=(0,M.A)(),i=(0,k.B2)(),r=(0,k.o)(),[c,d]=(0,L.fp)(u.KT),[l,h]=(0,L.fp)(u.Nn),[g,m]=(0,o.useState)(""),[x,y]=(0,o.useState)(""),[w,v]=(0,o.useState)(-1),[j,I]=(0,o.useState)(0);(0,L.md)(u.x1);let[C,F]=(0,o.useState)(!1),G=(0,o.useCallback)(e=>{h(t=>{let i={...t,settings:{...t.settings,unsubSurveyShown:e}};return(0,A.c7)(t).saveSettings(i.settings),i})},[h]);(0,o.useEffect)(()=>()=>{clearTimeout(j)}),(0,o.useEffect)(()=>{m(""),d(0),(0,p.H2)(l.auth_token).request().then(e=>{h({...l,subscription:e.subscription,priority:e.priority}),e.subscription.active?d(3):d(2)}).catch(e=>{(0,b.vV)(e),m(`${e}`)})},[]);let R=(0,o.useCallback)(()=>{e.onClose()},[e]),D=(0,o.useCallback)(()=>{m(""),d(0),h(e=>{let t=Date.now();return(0,A.c7)(e).saveSettings({...e.settings,subscriptionPurchaseAttempt:t}),{...e,settings:{...e.settings,subscriptionPurchaseAttempt:t}}});let e=0,t=()=>(0,p.H2)(l.auth_token).request().then(n=>{n.subscription.active&&n.subscription.paymentProcessorData?.r!==l.subscription.paymentProcessorData?.r?(h(e=>({...e,subscription:n.subscription,priority:n.priority})),m(""),d(5)):e<3?(I(setTimeout(t,2e3)),++e):(m(i.subscription.paymentProcessing),I(setTimeout(t,2e3)))}).catch(e=>{(0,b.vV)(e),m(`${e}`)});setTimeout(t,2e3)},[i.subscription.paymentProcessing,l.auth_token,l.subscription.paymentProcessorData?.r,d,h]),[P,O]=(0,o.useState)(null),[W,H]=(0,o.useState)(!1),[Y,z]=(0,o.useState)(!1),Z=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(""),d(0);let o=0,r=e=>(0,p.H2)(l.auth_token).request().then(n=>{n.subscription.tier||e?(t("gift_key:redeemed",{location:"subscription",giftKeyType:P?.giftKeyType}),h({...l,subscription:n.subscription,priority:n.priority}),d(4),H(!0)):o<3?(I(setTimeout(r,2e3)),++o):(m(i.subscription.processingGiftKey),I(setTimeout(r,2e3)))}).catch(e=>{(0,b.vV)(e),m(`${e}`)});(0,p.q3)(l.auth_token,"giftkey",x,e,n).request().then(t=>{if(O(t),e&&z(!0),t.requiresConfirmation){if("sub"===t.giftKeyType&&l.subscription.paymentProcessorData?.t===f.Br.PADDLE){m(i.subscription.cannotUseSubGiftKeyUnlessGifted),y(""),d(4);return}d(8);return}y(""),setTimeout(()=>r("steps"===t.giftKeyType||e),2e3)}).catch(e=>{if(409===e.status)return void m(i.subscription.cannotSubGiftKey);(0,b.vV)(e),m(`${e}`),d(4)})},[d,l,x,i.subscription.processingGiftKey,i.subscription.cannotUseSubGiftKeyUnlessGifted,i.subscription.cannotSubGiftKey,t,P?.giftKeyType,h]),Q=(0,o.useCallback)(()=>{if(t("unsubscribe_link:clicked",{location:"subscription"}),l.subscription?.paymentProcessorData?.t!==f.Br.PADDLE)return void(0,s.oR)(i.subscription.incorrectSubscriptionTypeForAction,{type:"error"});let e=l.subscription.paymentProcessorData.c;e?window.open(e,"_blank"):(0,s.oR)(i.subscription.unsubscribeLinkMissing,{type:"error"})},[t,i.subscription.incorrectSubscriptionTypeForAction,i.subscription.unsubscribeLinkMissing,l.subscription?.paymentProcessorData]),[$,et]=(0,L.fp)(u.Ui),ea=(0,o.useMemo)(()=>{switch(c){case 1:return(0,n.jsxs)(U,{children:[(0,n.jsx)(el,{onSuccess:D}),g?(0,n.jsx)(en,{children:g}):null]});case 2:return(0,n.jsxs)(U,{children:[(0,n.jsx)(V,{children:e.actionBlocked?i.subscription.needAsubscription:i.subscription.notSubscribed}),(0,n.jsx)(q,{children:i.subscription.upgradeSubscriptionQ}),(0,n.jsx)(K,{onClick:()=>{d(1),t("subscription_tiers:clicked",{location:"subscription"})},children:i.subscription.takeMeThere}),(0,n.jsx)(K,{onClick:()=>{d(4),t("gift_key:clicked",{location:"subscription"})},children:i.subscription.activateGiftKey}),(0,n.jsx)(X,{onClick:R,children:i.subscription.noTakeMeBack}),g?(0,n.jsx)(en,{children:g}):null]});case 3:return(0,n.jsxs)(U,{children:[(0,n.jsx)(V,{children:(0,_.LP)(i.subscription.youAreSubscribedTo,r(l.subscription.tier))}),(0,n.jsxs)(q,{children:[(0,n.jsx)("p",{children:l.subscription.paymentProcessorData?.s==="active"||l.subscription.paymentProcessorData?.s==="high_risk"?(0,_.zw)(i.subscription.yourSubscriptionRenews,a.unix(l.subscription?.expiresAt??0).format("YYYY/MM/DD @ hh:mma")).map((e,t)=>1===t?(0,n.jsx)("strong",{children:e},t):(0,n.jsx)("span",{children:e},t)):(0,_.zw)(i.subscription.yourSubscriptionEnds,a.unix(l.subscription?.expiresAt??0).format("YYYY/MM/DD @ hh:mma")).map((e,t)=>1===t?(0,n.jsx)("strong",{children:e},t):(0,n.jsx)("span",{children:e},t))}),l.subscription.paymentProcessorData?.s==="high_risk"?(0,n.jsx)("p",{children:i.subscription.yourSubScriptionHighRisk}):null]}),l.subscription.paymentProcessorData?.t===f.Br.PADDLE?(0,n.jsx)(K,{onClick:()=>{et(!0),d(0),t("migrate_subscription:clicked",{location:"subscription"})},children:i.subscription.transferToNewPaymentProcessor}):null,l.subscription.paymentProcessorData?.s==="active"||l.subscription.paymentProcessorData?.s==="high_risk"?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T.A,{type:T.q.Large,onRequestClose:()=>{F(!1)},isOpen:C,style:{justifyContent:"center"},children:(0,n.jsxs)(eg,{children:[(0,n.jsx)(B.J,{onClick:()=>{F(!1)},children:(0,n.jsx)("div",{})}),(0,n.jsx)(E.B,{onSurveyClose:e=>{Q(),F(!1),e||G(!0)}})]})}),(0,n.jsx)(J,{onClick:()=>{(0,S.cv)(l.settings,"unsubSurveyShown")?Q():F(!0)},children:i.subscription.unsubscribe}),(0,n.jsx)(J,{onClick:()=>{d(4),t("gift_key:clicked",{location:"subscription"})},children:i.subscription.activateGiftKey}),(0,n.jsx)(X,{onClick:R,children:"OK"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(J,{onClick:()=>{d(7),t("replace_subscription:clicked",{location:"subscription"})},children:i.subscription.replaceSubscription}),(0,n.jsx)(J,{onClick:()=>{d(4),t("gift_key:clicked",{location:"subscription"})},children:i.subscription.activateGiftKey}),(0,n.jsx)(X,{onClick:R,children:"OK"})]}),g?(0,n.jsx)(en,{children:g}):null]});case 4:return(0,n.jsx)(U,{children:W?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(N.oE,{}),(0,n.jsx)(eo,{}),(0,n.jsx)(V,{children:i.subscription.giftKeySuccess}),(0,n.jsx)(q,{children:(0,n.jsxs)(er,{children:[P?.giftKeyType===p.W7.Subscription&&(0,n.jsx)(n.Fragment,{children:(0,_.LP)(i.subscription.giftKeySuccessSubscription,r(P?.tier??0))}),(P?.giftKeyType===p.W7.Steps||P?.giftKeyType===p.W7.SubAndSteps&&Y)&&(0,n.jsx)(n.Fragment,{children:(0,_.LP)(i.subscription.giftKeySuccessAnlas,P?.steps??"unknown number of")}),P?.giftKeyType===p.W7.SubAndSteps&&!Y&&(0,n.jsx)(n.Fragment,{children:(0,_.LP)(i.subscription.giftKeySuccessSubscriptionAndAnlas,r(P?.tier??0),P?.steps??"unknown number of")})]})}),(0,n.jsx)(X,{onClick:R,style:{width:"100%"},children:i.cta.ok})]})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V,{children:i.subscription.activateGiftKey}),(0,n.jsx)(ee,{placeholder:"Key",value:x,onChange:e=>y(e.target.value)}),(0,n.jsx)(K,{onClick:()=>{Z(),t("gift_key:submitted",{location:"subscription"})},children:i.subscription.activate}),g?(0,n.jsx)(en,{children:g}):null]})});case 7:return(0,n.jsxs)(U,{children:[(0,n.jsx)(el,{onSuccess:D,explanation:i.subscription.replaceSubscriptionInfo}),g?(0,n.jsx)(en,{children:g}):null]});case 8:return(0,n.jsxs)(U,{children:[(0,n.jsx)(V,{children:i.subscription.giftKeyConfirmation}),(0,n.jsxs)(q,{children:[P?.giftKeyType===p.W7.Subscription&&(0,n.jsxs)(n.Fragment,{children:[(0,_.zw)(i.subscription.giftKeySubscriptionAlreadySubbedConfirm[0],r(P?.tier??0),P.duration?P.duration/86400+" days":"unknown duration").map((e,t)=>1===t?(0,n.jsx)("strong",{children:e},t):(0,n.jsx)("span",{children:e},t)),(0,n.jsx)("br",{}),i.subscription.giftKeySubscriptionAlreadySubbedConfirm[1]]}),P?.giftKeyType===p.W7.SubAndSteps&&(0,n.jsxs)(n.Fragment,{children:[(0,_.zw)(i.subscription.giftKeySubcriptionAlreadySubbedAndAnlasConfirm[0],r(P?.tier??0),P.duration?P.duration/86400+" days":"unknown duration",P.steps??"unknown number of").map((e,t)=>1===t?(0,n.jsx)("strong",{children:e},t):(0,n.jsx)("span",{children:e},t)),(0,n.jsx)("br",{}),l.subscription.paymentProcessorData?.t===f.Br.PADDLE?(0,n.jsx)(n.Fragment,{children:i.subscription.giftKeySubcriptionAlreadySubbedAndAnlasConfirm[1]}):(0,n.jsx)(n.Fragment,{children:i.subscription.giftKeySubcriptionAlreadySubbedAndAnlasConfirm[2]})]})]}),P?.giftKeyType===p.W7.SubAndSteps&&(0,n.jsx)(K,{onClick:()=>{Z(!0),t("gift_key_redeem_just_anlas:submitted",{location:"subscription"})},children:i.subscription.redeemJustAnlas}),l.subscription.paymentProcessorData?.t!==f.Br.PADDLE&&(0,n.jsx)(K,{onClick:()=>{Z(!1,!0),t("gift_key_replace:submitted",{location:"subscription"})},children:i.subscription.replaceSubscription}),(0,n.jsx)(X,{onClick:()=>d(4),children:i.subscription.noTakeMeBack}),g?(0,n.jsx)(en,{children:g}):null]});default:return(0,n.jsx)(U,{children:g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ei,{visible:!0}),(0,n.jsx)(en,{children:g})]}):(0,n.jsx)(ei,{visible:!0})})}},[t,R,g,x,P?.duration,P?.giftKeyType,P?.steps,P?.tier,i.cta.ok,i.subscription.activate,i.subscription.activateGiftKey,i.subscription.giftKeyConfirmation,i.subscription.giftKeySubcriptionAlreadySubbedAndAnlasConfirm,i.subscription.giftKeySubscriptionAlreadySubbedConfirm,i.subscription.giftKeySuccess,i.subscription.giftKeySuccessAnlas,i.subscription.giftKeySuccessSubscription,i.subscription.giftKeySuccessSubscriptionAndAnlas,i.subscription.transferToNewPaymentProcessor,i.subscription.needAsubscription,i.subscription.noTakeMeBack,i.subscription.notSubscribed,i.subscription.redeemJustAnlas,i.subscription.replaceSubscription,i.subscription.replaceSubscriptionInfo,i.subscription.takeMeThere,i.subscription.unsubscribe,i.subscription.upgradeSubscriptionQ,i.subscription.youAreSubscribedTo,i.subscription.yourSubScriptionHighRisk,i.subscription.yourSubscriptionEnds,i.subscription.yourSubscriptionRenews,Z,D,Q,c,e.actionBlocked,Y,l.settings,l.subscription?.expiresAt,l.subscription.paymentProcessorData?.s,l.subscription.paymentProcessorData?.t,l.subscription.tier,d,G,W,r,C]);return l.information.banStatus!==f.Af.NOT_BANNED?(0,n.jsxs)(U,{style:{maxWidth:"500px"},children:[(0,n.jsx)(V,{children:i.ban.banned[0]}),(0,n.jsx)("div",{children:(0,n.jsx)("a",{href:"https://novelai.net/terms",target:"_blank",rel:"noreferrer",children:i.ban.banned[1]})}),(0,n.jsx)("div",{children:i.ban.banned[2]}),(0,n.jsx)("div",{children:i.ban.banned[3]}),(0,n.jsx)(X,{onClick:R,children:i.cta.ok})]}):(0,n.jsx)(n.Fragment,{children:ea})}r.Ay.div.withConfig({componentId:"sc-2d0dc9de-28"})(["position:relative;display:flex;padding:16px 24px;flex-direction:column;justify-content:center;align-items:",";border-bottom:",";border-right:",";background-color:",";"],e=>e.alignLeft?"flex-start":"center",e=>e.borderBottom?"1px solid #ffffff1a":"none",e=>e.borderRight?"1px solid #ffffff1a":"none",e=>1===e.tier?(0,x.No)(.88,"#D9FFE1"):2===e.tier?(0,x.No)(.88,y.F.colors.textHeadings):3===e.tier?(0,x.No)(.88,y.F.colors.textHeadingsOptions[1]):4===e.tier?(0,x.No)(.88,y.F.colors.textHeadingsOptions[3]):"transparent"),r.Ay.div.withConfig({componentId:"sc-2d0dc9de-29"})(["display:flex;flex-direction:column;font-weight:700;font-size:2.625rem;font-family:",";max-width:353px;line-height:50px;@media (max-width:","){align-items:center;position:unset;> span:last-child{max-width:unset;}margin-bottom:20px;}@media (max-width:900px){align-items:flex-start;width:305px;> span:first-child{font-size:1;}> span:last-child{font-size:1.5rem;max-width:200px;line-height:36px;}}"],e=>e.theme.fonts.headings,m.Gx),r.Ay.div.withConfig({componentId:"sc-2d0dc9de-30"})(["line-height:3.25rem;font-family:",";> span:first-child{font-size:2.75rem;font-weight:700;}> span:last-child{font-size:1.375rem;font-weight:400;}@media (max-width:1200px){> span:first-child{font-size:2rem;}> span:last-child{font-size:1rem;}}"],e=>e.theme.fonts.headings),r.Ay.div.withConfig({componentId:"sc-2d0dc9de-31"})(["position:absolute;width:100%;left:0;top:-15px;display:flex;justify-content:center;height:fit-content;> div{width:fit-content;height:fit-content;background-color:",";padding:4px 16px;line-height:20px;font-weight:700;color:",";outline:1px solid ",";}@media (max-width:1200px){> div{padding:2px 4px;font-size:0.875rem;}}"],e=>e.color,e=>e.theme.colors.textMain,e=>e.color),r.Ay.div.withConfig({componentId:"sc-2d0dc9de-32"})(["position:relative;color:",";opacity:0.64;font-size:0.875rem;margin-top:4px;"],e=>e.color??e.theme.colors.textMain),r.Ay.div.withConfig({componentId:"sc-2d0dc9de-33"})(["color:",";font-weight:600;"],e=>e.color??e.theme.colors.textMain),r.Ay.div.withConfig({componentId:"sc-2d0dc9de-34"})(["background-color:",";padding:20px 24px;border-bottom:1px solid #ffffff1a;grid-column:span 5;font-family:",";font-size:1.25rem;font-weight:700;"],e=>e.theme.colors.bg1,e=>e.theme.fonts.headings),r.Ay.span.withConfig({componentId:"sc-2d0dc9de-35"})(["font-size:1.125rem;font-weight:700;font-family:",";"],e=>e.theme.fonts.headings),(0,r.Ay)(c.Dp).withConfig({componentId:"sc-2d0dc9de-36"})(["padding:24px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;position:relative;width:100%;max-width:400px;"]),r.Ay.div.withConfig({componentId:"sc-2d0dc9de-37"})(["display:flex;flex-direction:column;gap:12px;"]),r.Ay.div.withConfig({componentId:"sc-2d0dc9de-38"})(["display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:16px;> div:last-child{flex:0 0 auto;display:flex;flex-direction:column;align-items:flex-end;}"]),r.Ay.div.withConfig({componentId:"sc-2d0dc9de-39"})(["font-size:1.125rem;font-weight:700;font-family:",";"],e=>e.theme.fonts.headings),r.Ay.a.withConfig({componentId:"sc-2d0dc9de-40"})(["cursor:pointer;left:calc(25px);border:2px solid ",";background-color:",";padding:12px 36px;display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;> div{background-color:",";}&:hover{color:",";background-color:",";> div{background-color:",";}}font-weight:700;"],e=>e.color,e=>e.theme.colors.bg3,e=>e.color,e=>e.theme.colors.bg3,e=>e.color,e=>e.theme.colors.bg3);let eg=r.Ay.div.withConfig({componentId:"sc-2d0dc9de-41"})(["position:relative;background-color:",";padding:50px 30px 30px 30px;display:flex;max-width:400px;width:100vw;flex-direction:column;gap:24px;"],e=>e.theme.colors.bg1)},61695:(e,t,i)=>{"use strict";i.d(t,{Q:()=>y,W:()=>b});var n=i(60050),o=i(75859),r=i(40682),a=i(41102),s=i(79630),c=i(97223),d=i(17309),l=i(53875),h=i(41963),g=i(776),u=i(91844),p=i(73060),m=i(68658),x=i(71928),f=i(62247);let b=()=>(0,p.yF)((0,m.useCallback)((e,t)=>{(0,h.iY)(),r.X.teardown(),(0,d.$1)("session"),t(c.BQ,o.A.Closed),t(c.p_,{loaded:!1,id:""}),t(c.om,[]),t(c.Q_,new f.E6),t(c.Nn,new l.KJ("","")),s.C.keystore=new a.nV,s.C.remoteStories=new Set,s.C.stories=new Map,n.o5().setUser(null),u.Ay.reset(),u.Ay.register({access_mode:(0,x.Mu)()?"pwa":"browser"}),(0,g.u)("/stories",{cache:"no-cache"},1e3,void 0,!1).finally(()=>{window.location.href="/login"})},[])),y=()=>(0,p.yF)((0,m.useCallback)((e,t)=>{(0,h.iY)(),r.X.teardown(),(0,d.$1)("session"),t(c.BQ,o.A.Closed),t(c.p_,{loaded:!1,id:""}),t(c.om,[]),t(c.Q_,new f.E6),t(c.Nn,new l.KJ("","",!0)),s.C.keystore=new a.nV,s.C.remoteStories=new Set,s.C.stories=new Map,n.o5().setUser(null),u.Ay.reset(),u.Ay.register({access_mode:(0,x.Mu)()?"pwa":"browser"})},[]))},69320:(e,t,i)=>{var n={".":30657,"./":30657,"./Icons/Amazon":74792,"./Icons/Amazon.js":74792,"./Icons/Amex":43743,"./Icons/Amex.js":43743,"./Icons/Applepay":29070,"./Icons/Applepay.js":29070,"./Icons/Aura":7455,"./Icons/Aura.js":7455,"./Icons/Bb":71228,"./Icons/Bb.js":71228,"./Icons/Bitcoin":63810,"./Icons/Bitcoin.js":63810,"./Icons/Boleto":56989,"./Icons/Boleto.js":56989,"./Icons/Bradesco":73859,"./Icons/Bradesco.js":73859,"./Icons/Caixa":16672,"./Icons/Caixa.js":16672,"./Icons/Cielo":3110,"./Icons/Cielo.js":3110,"./Icons/Cirrus":99944,"./Icons/Cirrus.js":99944,"./Icons/Diners":8381,"./Icons/Diners.js":8381,"./Icons/DirectDebit":17217,"./Icons/DirectDebit.js":17217,"./Icons/Discover":20123,"./Icons/Discover.js":20123,"./Icons/Ebay":47445,"./Icons/Ebay.js":47445,"./Icons/Elavon":71383,"./Icons/Elavon.js":71383,"./Icons/Elo":95482,"./Icons/Elo.js":95482,"./Icons/Eway":86370,"./Icons/Eway.js":86370,"./Icons/Generic":68977,"./Icons/Generic.js":68977,"./Icons/Global":34451,"./Icons/Global.js":34451,"./Icons/Googlepay":68571,"./Icons/Googlepay.js":68571,"./Icons/Hsbc":42466,"./Icons/Hsbc.js":42466,"./Icons/Itau":99731,"./Icons/Itau.js":99731,"./Icons/Jcb":14943,"./Icons/Jcb.js":14943,"./Icons/Maestro":18261,"./Icons/Maestro.js":18261,"./Icons/Mastercard":85156,"./Icons/Mastercard.js":85156,"./Icons/Pagseguro":67611,"./Icons/Pagseguro.js":67611,"./Icons/Paypal":48487,"./Icons/Paypal.js":48487,"./Icons/Rede":60010,"./Icons/Rede.js":60010,"./Icons/Sage":73096,"./Icons/Sage.js":73096,"./Icons/Santander":49452,"./Icons/Santander.js":49452,"./Icons/Shopify":64174,"./Icons/Shopify.js":64174,"./Icons/Skrill":5787,"./Icons/Skrill.js":5787,"./Icons/SkrillMoneybookers":94768,"./Icons/SkrillMoneybookers.js":94768,"./Icons/Solo":46363,"./Icons/Solo.js":46363,"./Icons/Stone":28101,"./Icons/Stone.js":28101,"./Icons/Visa":46517,"./Icons/Visa.js":46517,"./Icons/VisaElectron":1027,"./Icons/VisaElectron.js":1027,"./Icons/Wallet":65713,"./Icons/Wallet.js":65713,"./Icons/Western":83282,"./Icons/Western.js":83282,"./Icons/Worldpay":28166,"./Icons/Worldpay.js":28166,"./Icons/transparent/AmazonTransparent":58323,"./Icons/transparent/AmazonTransparent.js":58323,"./Icons/transparent/BbTransparent":49315,"./Icons/transparent/BbTransparent.js":49315,"./Icons/transparent/BoletoTransparent":83412,"./Icons/transparent/BoletoTransparent.js":83412,"./Icons/transparent/BradescoTransparent":36250,"./Icons/transparent/BradescoTransparent.js":36250,"./Icons/transparent/CaixaTransparent":13553,"./Icons/transparent/CaixaTransparent.js":13553,"./Icons/transparent/CieloTransparent":31035,"./Icons/transparent/CieloTransparent.js":31035,"./Icons/transparent/ElavonTransparent":26442,"./Icons/transparent/ElavonTransparent.js":26442,"./Icons/transparent/GenericTransparent":8862,"./Icons/transparent/GenericTransparent.js":8862,"./Icons/transparent/GlobalTransparent":50554,"./Icons/transparent/GlobalTransparent.js":50554,"./Icons/transparent/HsbcTransparent":15849,"./Icons/transparent/HsbcTransparent.js":15849,"./Icons/transparent/ItauTransparent":18014,"./Icons/transparent/ItauTransparent.js":18014,"./Icons/transparent/PagseguroTransparent":93112,"./Icons/transparent/PagseguroTransparent.js":93112,"./Icons/transparent/PaypalTransparent":55978,"./Icons/transparent/PaypalTransparent.js":55978,"./Icons/transparent/RedeTransparent":54433,"./Icons/transparent/RedeTransparent.js":54433,"./Icons/transparent/SantanderTransparent":63921,"./Icons/transparent/SantanderTransparent.js":63921,"./Icons/transparent/StoneTransparent":86350,"./Icons/transparent/StoneTransparent.js":86350,"./Icons/transparent/WalletTransparent":70584,"./Icons/transparent/WalletTransparent.js":70584,"./Icons/transparent/WorldpayTransparent":93777,"./Icons/transparent/WorldpayTransparent.js":93777,"./index":30657,"./index.js":30657,"./remoteImages":64823,"./remoteImages.js":64823,"./test":24427,"./test.js":24427};function o(e){return i(r(e))}function r(e){if(!i.o(n,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id=69320},75586:(e,t,i)=>{"use strict";i.d(t,{Av:()=>x,Fx:()=>u,K6:()=>g,Qm:()=>h,bo:()=>c,hf:()=>d,ls:()=>l,w3:()=>f,xw:()=>p});var n=i(72191),o=i(49882),r=i(23585),a=i(57259),s=i(18333);let c=e=>{let t="";for(let i=0;i<e.childCount;i++){let n=e.child(i);t+=i+1!==e.childCount?n.textContent+"\n":n.textContent}return t.replace(/\r/g,"")},d=e=>{let t=[],i=new Set(["bold","italic","underline","strikethrough","inline_code"]);for(let n=0;n<e.childCount;n++){let o=[],r="",s=e.child(n);for(let e of s.children){for(let t of e.marks)if(i.has(t.type.name)){let i=r.length,n=r.length+e.nodeSize;o.push({position:i,length:n-i,format:(0,a.S7)(t)})}r+=e.text}o.sort((e,t)=>e.position-t.position).sort((e,t)=>t.format-e.format);for(let e=1;e<o.length;e++){let t=o[e-1],i=o[e];t.format===i.format&&t.position+t.length===i.position&&(t.length+=i.length,o.splice(e,1),e--)}let c=new Map,d=[],l=[];for(let{position:e,length:t,format:i}of o){let n=e;if(" "===r[n])for(;" "===r[n]&&n<r.length;)n++;d.push({position:n,format:i});let o=e+t;if(" "===r[o-1])for(;" "===r[o-1]&&o>0;)o--;l.push({position:o,format:i})}for(let{position:e,format:t}of d){let i=c.get(e)??e,n=a.B[t].start;r=r.slice(0,i)+n+r.slice(i);for(let t=e;t<r.length;t++)c.set(t,(c.get(t)??t)+n.length)}for(let{position:e,format:t}of l){let i=c.get(e)??e,n=a.B[t].end;r=r.slice(0,i)+n+r.slice(i);for(let t=e;t<r.length;t++)c.set(t,(c.get(t)??t)+n.length)}switch(s.attrs.source){case a.Y1.instruction:r=`{ ${r} }`;break;case a.Y1.action:case a.Y1.dialogue:r=`> ${r}`}t.push(r)}return t.join("\n").replace(/\r/g,"")},l=e=>{let t=o.$t.create({schema:r.wQ}).tr;return((e,t)=>{for(let[i,n]of e.split(/\r?\n/).entries()){let e=""===n?r.wQ.nodes.paragraph.create():r.wQ.nodes.paragraph.create(null,r.wQ.text(n));0===i?t.replaceWith(0,t.doc.content.size,e):t.insert(t.doc.content.size,e)}})(e,t),new n.Ji(t.doc.content,0,0)},h=e=>(/^<html>\s*<body>\s*<!--StartFragment--></.test(e)||(e=(e=e.replace(/^<html>\s*<body>\s*<!--StartFragment-->/,"<html><body>\x3c!--StartFragment--\x3e<p>")).replace(/<!--EndFragment-->\s*<\/body>\s*<\/html>$/,"</p>\x3c!--StartFragment--\x3e</body></html>")),e.replace(/<br[^>]*>/g,"\n")),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.steps.reduce((e,t)=>{if(0===e.length)return[t];let i=e.length-1,n=e[i].merge(t);return n?(e[i]=n,e):[...e,t]},t)},u=function(e,t,i,n){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=new Map,a=[],s=[];return e.doc.content.nodesBetween(t,i,(e,t,i)=>{if(i)return!1;s.push({node:e,start:t,end:t+e.nodeSize});let c=e.textContent;if(o)for(let e of n)r.set(e,t-1);for(let e=0;e<c.length;e++)for(let i of n)if(c[e]===i){let n=r.get(i);void 0===n?r.set(i,t+e):(o?a.push({start:n+2,end:t+e+1}):a.push({start:n+1,end:t+e+2}),r.delete(i))}for(let[,i]of r.entries())o?a.push({start:i+2,end:t+e.nodeSize-1}):a.push({start:i+1,end:t+e.nodeSize-1});return r.clear(),!1}),{pairs:a=a.filter(e=>{let{start:t,end:i}=e;return t!==i}),nodes:s}},p=(e,t)=>{let i=e.posAtDOM(t,0),n=[...t.children].reduce((t,i)=>{let n=e.posAtDOM(i,0),o=e.state.doc.nodeAt(n);return t+(o?.nodeSize??0)},0);return o.U3.create(e.state.doc,i,i+n)};function m(e){return e?{sectionId:e.node(e.depth).attrs.id,offset:e.parentOffset}:null}let x=(e,t,i)=>{if(0===e.from&&e.to===t.state.doc.content.size){let e={from:null,to:null,anchor:null,head:null};if(!i||!i.document)return e;{let t=i.document.withPushedHistory().getSections();if(0!==t.length)return e;{let i=t[0],n=t[t.length-1];return i.section.type!==s.gX.text||n.section.type!==s.gX.text?e:{from:{sectionId:i.id,offset:0},to:{sectionId:n.id,offset:n.section.text.length},anchor:{sectionId:i.id,offset:0},head:{sectionId:n.id,offset:n.section.text.length}}}}}let n=e.$anchor,o=e.$head,r=e.$from,a=e.$to;return{from:m(r),to:m(a),anchor:m(n),head:m(o)}};function f(e,t){if(t<0)throw Error("offsetFromEnd must be non-negative");let i=c(e.content),n=i.slice(0,i.length-t);return(n=n.replace(/\n/g,"\n\n")).length+1}},76599:(e,t,i)=>{"use strict";i.d(t,{Im:()=>u,JU:()=>r,KI:()=>m,P:()=>f,VY:()=>x,d1:()=>p,dR:()=>y,fI:()=>d,fN:()=>a,hE:()=>s,hK:()=>b,jJ:()=>g,kY:()=>c,lU:()=>h,tY:()=>l,zE:()=>w});var n=i(55805),o=i(47644);let r=n.Ay.div.withConfig({componentId:"sc-a5de7a29-0"})(["color:",";padding-right:10px;font-weight:600;padding-bottom:8px;"],e=>e.theme.colors.textHeadings),a=n.Ay.div.withConfig({componentId:"sc-a5de7a29-1"})(["color:",";font-size:1.1rem;padding-right:10px;font-weight:600;"],e=>e.theme.colors.textHeadings),s=n.Ay.div.withConfig({componentId:"sc-a5de7a29-2"})(["color:",";font-family:",";font-size:1.375rem;padding-right:10px;font-weight:600;@media (max-width:800px){font-size:1.125rem;}"],e=>e.theme.colors.textHeadings,e=>e.theme.fonts.headings),c=n.Ay.div.withConfig({componentId:"sc-a5de7a29-3"})(["background-color:",";color:",";font-size:0.875rem;height:100%;max-width:min(min(max(700px,65vw),800px),100vw);min-width:min(600px,100vw);height:650px;display:flex;overflow-y:auto;flex-direction:column;button{font-size:1rem;}@media (max-width:800px){height:var(--app-height,100%);font-size:1rem;}"],e=>e.theme.colors.bg2,e=>e.theme.colors.textMain);n.Ay.input.withConfig({componentId:"sc-a5de7a29-4"})(["padding:10px;background-color:",";"],e=>e.theme.colors.bg1);let d=n.Ay.div.withConfig({componentId:"sc-a5de7a29-5"})(["padding-left:30px;padding-right:10px;display:flex;flex-direction:row;align-items:top;justify-content:space-between;> div:not(:last-child){margin-right:30px;}width:100%;"]),l=n.Ay.div.withConfig({componentId:"sc-a5de7a29-6"})(["width:100%;overflow-x:auto;"]),h=n.Ay.div.withConfig({componentId:"sc-a5de7a29-7"})(["display:flex;> :not(:last-child){margin-right:10px;}justify-content:center;align-items:center;"]),g=n.Ay.div.withConfig({componentId:"sc-a5de7a29-8"})(["white-space:pre-wrap;overflow-y:auto;line-height:1.375rem;"]);n.Ay.div.withConfig({componentId:"sc-a5de7a29-9"})(["display:flex;flex-direction:row;align-items:center;cursor:pointer;> :not(:last-child){margin-right:10px;}user-select:none;opacity:0.7;"]);let u=n.Ay.div.withConfig({componentId:"sc-a5de7a29-10"})(["display:flex;flex-direction:row;width:max-content;> span{margin-right:10px;}span{background-color:",";padding:6px 15px 6px 15px;color:",";font-weight:600;}"],e=>e.theme.colors.bg3,e=>(0,o.No)(.3,e.theme.colors.textMain));n.Ay.div.withConfig({componentId:"sc-a5de7a29-11"})(["font-weight:600;padding-bottom:8px;"]);let p=n.Ay.div.withConfig({componentId:"sc-a5de7a29-12"})(["flex-shrink:0;display:flex;flex-direction:row;align-items:center;flex-wrap:wrap;gap:10px;max-width:100%;div{margin:0px;}> :not(:last-child){margin-right:10px;}> div{margin-bottom:10px;}button{padding-left:25px;padding-right:25px;min-width:150px;display:flex;justify-content:center;}"]);n.Ay.div.withConfig({componentId:"sc-a5de7a29-13"})(["margin-bottom:10px;"]),n.Ay.div.withConfig({componentId:"sc-a5de7a29-14"})(["display:flex;margin-bottom:5px;margin-top:5px;vertical-align:middle;"]);let m=n.Ay.div.withConfig({componentId:"sc-a5de7a29-15"})(["display:flex;flex-direction:row;padding-left:30px;"]),x=n.Ay.div.withConfig({componentId:"sc-a5de7a29-16"})(["white-space:pre-wrap;width:100%;line-height:1.375rem;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;"," -webkit-box-orient:vertical;"],e=>e.clamp?"-webkit-line-clamp: 5;":"");n.Ay.div.withConfig({componentId:"sc-a5de7a29-17"})(["display:flex;flex-direction:row;justify-content:center;> :not(:last-child){margin-right:30px;}button{background-color:",";border:0;color:",";cursor:pointer;padding:10px;transition:background ",";&:hover{background:",";}}"],e=>e.theme.colors.bg1,e=>e.theme.colors.textMain,e=>e.theme.transitions.interactive,e=>e.theme.colors.bg0),n.Ay.div.withConfig({componentId:"sc-a5de7a29-18"})(["display:grid;grid-template-columns:33% 33% 33%;> div{margin-right:20px;margin-bottom:10px;}width:100%;"]),n.Ay.div.withConfig({componentId:"sc-a5de7a29-19"})(["display:flex;flex-direction:column;justify-content:flex-end;"]),n.Ay.div.withConfig({componentId:"sc-a5de7a29-20"})(["display:grid;grid-template-columns:auto;width:100%;padding:20px 0;> div{padding:20px 20px;}> div:nth-child(2n-1){background:",";}"],e=>e.theme.colors.bg1);let f=n.Ay.div.withConfig({componentId:"sc-a5de7a29-21"})(["overflow-y:auto;> :nth-child(1){margin-bottom:20px;}> :nth-child(2){margin-bottom:20px;}> :nth-child(4){margin-top:20px;}"]),b=n.Ay.div.withConfig({componentId:"sc-a5de7a29-22"})(["border-top:1px solid ",";position:sticky;width:100%;top:0;"],e=>e.theme.colors.bg3),y=(0,n.Ay)(d).withConfig({componentId:"sc-a5de7a29-23"})(["padding-top:30px;"]),w=(0,n.Ay)(d).withConfig({componentId:"sc-a5de7a29-24"})(["padding:20px 30px;margin-top:auto;border-top:1px solid ",";flex-wrap:wrap;gap:10px;"],e=>e.theme.colors.bg3)},79754:(e,t,i)=>{"use strict";i.d(t,{A:()=>b});var n=i(94458),o=i(14723),r=i(52973),a=i(23699),s=i(68658),c=i(55805),d=i(84601),l=i(88587),h=i(97223),g=i(20472),u=i(74406),p=i(2834);let m=new Set(["INPUT","TEXTAREA","SELECT"]),x=(0,c.Ay)(o.P.div).withConfig({componentId:"sc-7f121369-0"})(["",";display:flex;flex-direction:column;flex-grow:0;position:relative;",";",";height:100%;transition:flex 300ms cubic-bezier(0.25,1,0.5,1),max-width 300ms cubic-bezier(0.25,1,0.5,1),min-width 300ms cubic-bezier(0.25,1,0.5,1);touch-action:pan-y;*{touch-action:pan-y;}@media (max-width:350px){min-width:100vw;}user-select:none;z-index:200;@media (max-width:","){",";",";}@media (max-width:","){height:100%;position:absolute;top:0;",";> div{",";",";}}"],e=>e.shown?"":"pointer-events: none",e=>e.modalSidebar?"":e.shown?"flex: 1;":"flex: 0.00001",e=>e.modalSidebar?"":"overflow: hidden;",e=>e.breakpointDesktop,e=>e.shown?"":"position : absolute",e=>e.shown?"":e.left?"left:0":"right:0",e=>e.breakpointMobile,e=>e.left?"left:0":"right:0",e=>e.left?"":"right:0",e=>e.left?"":"position:absolute"),f=(0,c.Ay)(o.P.div).withConfig({componentId:"sc-7f121369-1"})(["position:absolute;",";width:6px;height:100%;top:0;cursor:col-resize;background:transparent;z-index:1000;pointer-events:auto;touch-action:none;&:hover{background:","40;}&:active{background:","80;}"],e=>e.left?"right: 0":"left: 0",e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings);function b(e){let t=(0,p.md)((0,h.ey)("settings")),i=(0,d.cv)(t,"siteTheme"),[c,b]=(0,s.useState)(e.initialOffset??0),[v,j]=(0,s.useState)(()=>{if(e.storageKey)try{let t=localStorage.getItem(`${e.storageKey}-width`);if(t){let e=Number.parseInt(t);if(!Number.isNaN(e))return e}}catch{}return e.defaultWidth}),[A,S]=(0,s.useState)(!1),[I,k]=(0,s.useState)(0),C=(0,g.l)(),T=(0,s.useRef)(null),N=(0,s.useRef)(null),M=v??c;(0,s.useEffect)(()=>{T.current&&!v&&b(T.current.clientWidth)},[C.width,v]),(0,s.useEffect)(()=>{if(e.storageKey&&void 0!==v)try{localStorage.setItem(`${e.storageKey}-width`,String(v))}catch{}},[v,e.storageKey]);let B=e.open,E=e.setOpen,L=e.left?-1:1,_=(0,r.z)(L*(e.initialOffset??0),{stiffness:400,damping:40});(0,s.useEffect)(()=>{e.open?_.set((e.left,0)):_.set(e.left?-M:M)},[e.open,M]);let F=function(i){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.noDragPoint&&C.width>e.noDragPoint||!u.Wd||!1===t.gestureControl)return!1;if(i.target){let e=i.target;if(!n&&!document.querySelector("#app")?.contains(e)||m.has(e.tagName))return!1}return!0},G=(t,i)=>{if(A)return;if(N.current&&t.target){let e=t.target;if(N.current.contains(e))return}if(!F(t,e.modalSidebar))return;let n=B?Math.max(Math.min(i.offset.x,0),-M):Math.max(Math.min(i.offset.x,M),0);e.left||(n=B?Math.max(Math.min(i.offset.x,M),0):Math.max(Math.min(i.offset.x,0),-M)),e.left?_.set(B?n:n-M):_.set(B?n:n+M)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.N,{children:B&&C.width<(e.overlayPoint??800)?(0,n.jsx)(w,{initial:{opacity:0},animate:{opacity:.7,transition:{ease:"easeInOut"}},exit:{opacity:0},onClick:()=>E(!1),style:e.overylayStyle},"sidebarOverlay"):(0,n.jsx)(n.Fragment,{})}),(0,n.jsx)(x,{left:e.left,shown:B,style:{height:"100%",width:M,...e.style,...!e.modalSidebar?B?{minWidth:M}:{minWidth:"0"}:{},...!e.modalSidebar?B?{maxWidth:M}:{maxWidth:"0"}:{}},onPan:G,onPanEnd:(t,i)=>{if(A)return;if(N.current&&t.target){let e=t.target;if(N.current.contains(e))return}if(!F(t,e.modalSidebar))return;let n=Math.abs(i.offset.x)*i.velocity.x;n<-1e4?(_.set(e.left?-M:0),E(!e.left)):n>1e4?(_.set(e.left?0:M),E(e.left)):Math.abs(_.get())<M/2?(_.set(0),E(!0)):(_.set(L*M),E(!1))},breakpointDesktop:e.breakpointDesktop??i.breakpoints.desktop??`${l.sn+1}px`,breakpointMobile:e.breakpointMobile??i.breakpoints.mobile??`${l.sn}px`,modalSidebar:e.modalSidebar,children:(0,n.jsxs)(o.P.div,{ref:T,initial:{x:L*(e.initialOffset??0)},style:{x:_,height:"100%",width:e.resizable?"100%":"min-content",maxWidth:"100vw",overflowX:"hidden",overflowY:"auto"},children:[e.children,!e.noHandle&&(0,n.jsx)(y,{left:e.left,onPan:G}),e.resizable&&B&&(0,n.jsx)(f,{ref:N,left:e.left,onPan:(t,i)=>{if(!e.resizable)return;let n=e.left?i.offset.x:-i.offset.x;j(Math.max(e.minWidth??200,Math.min(e.maxWidth??800,I+n)))},onPanEnd:()=>{S(!1),e.onWidthChange&&v&&e.onWidthChange(v)},onPanStart:()=>{S(!0),k(M)}})]})})]})}let y=(0,c.Ay)(o.P.div).withConfig({componentId:"sc-7f121369-2"})(["position:absolute;",";width:20px;height:100%;top:0;pointer-events:auto;"],e=>e.left?"right: -20px":"left: -20px"),w=(0,c.Ay)(o.P.div).withConfig({componentId:"sc-7f121369-3"})(["position:absolute;left:0;top:0;width:100%;height:100%;background:",";z-index:101;"],e=>e.theme.colors.bg0)},82123:(e,t,i)=>{"use strict";i.d(t,{GQ:()=>h,So:()=>d,cp:()=>c,dN:()=>u,et:()=>s,v_:()=>g,vu:()=>l,wr:()=>m,yY:()=>p});var n=i(99884),o=i(55805),r=i(89077),a=i(92704);let s=(0,o.Ay)(r.Dp).withConfig({componentId:"sc-ccf96697-0"})(["width:104px;height:40px;display:flex;align-items:center;justify-content:flex-end;padding:5px;@media (max-width:500px){width:44px;}"]),c=(0,o.Ay)(n.dp).withConfig({componentId:"sc-ccf96697-1"})(["width:50px;.react-colorful__saturation{border-radius:5px 5px 0 0;}.react-colorful__last-control{border-radius:0;}"]),d=(0,o.Ay)(n.HC).withConfig({componentId:"sc-ccf96697-2"})(["border-radius:0 0 5px 5px;"]),l=o.Ay.div.withConfig({componentId:"sc-ccf96697-3"})(["margin:0 20px 20px 20px;z-index:1;@media (max-width:550px){right:0;left:unset;}@media (max-width:375px){left:0;right:unset;}"]),h=o.Ay.div.withConfig({componentId:"sc-ccf96697-4"})(["background-color:",";padding:20px 20px 20px 20px;"],e=>e.theme.colors.bg2),g=o.Ay.div.withConfig({componentId:"sc-ccf96697-5"})(["background-color:",";width:30px;height:30px;"],e=>e.theme.colors.textMain),u=o.Ay.div.withConfig({componentId:"sc-ccf96697-6"})(["width:30px;height:30px;"]);(0,o.Ay)(r.Dp).withConfig({componentId:"sc-ccf96697-7"})(["padding:8px;height:44px;min-width:58px;padding:10px 20px;width:max-content;display:flex;align-items:center;justify-content:center;gap:10px;background-color:",";color:",";border:solid 1px ",";border-radius:3px;> div{width:18px;height:18px;background-color:",";}&:hover{color:",";> div{background-color:",";}}flex-direction:row;justify-content:space-between;align-items:center;padding-left:20px;padding-right:20px;& > span:nth-child(3){font-size:0.875rem;display:flex;flex-direction:row;align-items:center;justify-content:center;padding:1px 10px;color:",";background-color:",";border-radius:3px;font-weight:600;transition:color 100ms,background-color 100ms,transform 150ms;line-height:1.25rem;> ","{margin-left:3px;background-color:",";}}"],e=>e.selected?e.theme.colors.textHeadings:e.theme.colors.bg2,e=>e.selected?e.theme.colors.bg0:e.theme.colors.textMain,e=>e.selected?e.theme.colors.textHeadings:e.theme.colors.bg3,e=>e.selected?e.theme.colors.bg0:e.theme.colors.textMain,e=>e.selected?e.theme.colors.bg3:e.theme.colors.textHeadings,e=>e.selected?e.theme.colors.bg0:e.theme.colors.textHeadings,e=>e.theme.colors.bg1,e=>e.theme.colors.textHeadings,a.Int,e=>e.theme.colors.bg1);let p=(0,o.Ay)(r.ur).withConfig({componentId:"sc-ccf96697-8"})(["display:flex;align-items:center;justify-content:center;height:44px;line-height:0px;background-color:",";color:",";border-radius:3px;font-weight:600;&:hover{background-color:",";}&:disabled{color:",";opacity:0.5;}&:focus{background-color:",";}& > span{margin-left:5px;font-size:0.875rem;display:inline-flex;flex-direction:row;align-items:center;justify-content:center;padding:5px 10px;color:",";background-color:",";border-radius:3px;font-weight:600;transition:color 100ms,background-color 100ms,transform 150ms;","{margin-left:3px;background-color:",";transition:background-color 100ms,background-color 100ms,transform 150ms;}}&:hover{& > span{color:",";background-color:",";","{background-color:",";}}}"],e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg2,e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg2,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg1,a.Int,e=>e.theme.colors.textHeadings,e=>e.theme.colors.textHeadings,e=>e.theme.colors.bg1,a.Int,e=>e.theme.colors.textHeadings);(0,o.Ay)(r.Dp).withConfig({componentId:"sc-ccf96697-9"})(["display:flex;align-items:center;justify-content:center;height:44px;line-height:0px;color:",";"],e=>e.theme.colors.warning);let m=o.Ay.div.withConfig({componentId:"sc-ccf96697-10"})(["background-color:",";padding:20px 20px 20px 20px;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;@media (max-width:800px){padding:20px 10px 20px 10px;}"],e=>e.theme.colors.bg1)},82708:(e,t,i)=>{"use strict";i.d(t,{FE:()=>b,J:()=>A,ih:()=>w,lo:()=>j});var n=i(94458),o=i(68658),r=i(77256),a=i(55805),s=i(24094),c=i(79630),d=i(97223),l=i(47644),h=i(41879),g=i(40336),u=i(98602),p=i(88567),m=i(6152),x=i(73484),f=i(2834);let b=a.Ay.span.withConfig({componentId:"sc-d8feb502-0"})(["cursor:",";background:",";display:inline-block;padding:6px 19px !important;user-select:none;font-size:1rem;color:",";border:2px solid ",";font-weight:600;"],e=>e.disabled?"not-allowed":"pointer",e=>e.selected?e.theme.colors.bg3:e.theme.colors.bg0,e=>e.selected?e.theme.colors.textHeadings:(0,l.No)(.5,e.theme.colors.textMain),e=>e.focused?e.theme.colors.bg0:"transparent"),y=a.Ay.div.withConfig({componentId:"sc-d8feb502-1"})(["color:",";font-family:",";margin-bottom:4px;font-weight:400;"],e=>e.theme.colors.textMain,e=>e.theme.fonts.default),w=a.Ay.div.withConfig({componentId:"sc-d8feb502-2"})(["display:flex;flex-direction:column;padding-top:5px;> :not(:last-child){margin-bottom:15px;}flex:0 0 auto;"," > div > div{font-family:",";font-weight:400;}"," > div{font-family:",";font-weight:400;}","{input:{font-size:1rem;font-weight:400;}}"],g.Sc,e=>e.theme.fonts.default,u.QE,e=>e.theme.fonts.default,u.$t);a.Ay.div.withConfig({componentId:"sc-d8feb502-3"})(["align-items:flex-end;display:grid;gap:20px;flex:0 0 auto;grid-template-columns:1fr 1fr 1fr 1fr;& > div{justify-content:space-between;display:flex;flex-direction:column;}input{min-height:40px;}"]);let v=a.Ay.div.withConfig({componentId:"sc-d8feb502-4"})(["align-items:flex-end;display:grid;gap:20px;flex:0 0 auto;grid-template-columns:1fr 1fr 1fr;& > div{justify-content:space-between;display:flex;flex-direction:column;}input{min-height:40px;}"]),j=a.Ay.div.withConfig({componentId:"sc-d8feb502-5"})(["align-items:flex-end;display:grid;gap:20px;flex:0 0 auto;grid-template-columns:1fr 1fr;& > div{justify-content:space-between;display:flex;flex-direction:column;}input{min-height:40px;}"]);function A(e){let t=(0,x.B2)(),i=(0,f.md)(d.p_),a=c.C.stories.get(i.id),l=(0,f.Xr)((0,d.nU)("")),[g,u]=(0,o.useState)(""),[b,A]=(0,o.useState)(""),[S,I]=(0,o.useState)(""),[k,C]=(0,o.useState)("");(0,o.useEffect)(()=>{if(!e.config){u(""),A(""),I(""),C(""),B(""),N(""),L(""),R(""),F("");return}u(e.config.tokenBudget.toString()),A(e.config.reservedTokens.toString()),I(e.config.budgetPriority.toString()),C(e.config.insertionPosition.toString()),B(e.config.suffix),N(e.config.prefix),L(e.config.trimDirection),R(e.config.insertionType),F(e.config.maximumTrimType)},[e.config]);let[T,N]=(0,o.useState)(""),[M,B]=(0,o.useState)(""),[E,L]=(0,o.useState)(s.SL.DoNotTrim),[_,F]=(0,o.useState)(s.Vm.NewLine),[G,R]=(0,o.useState)(s.Vm.NewLine);return(0,n.jsxs)(w,{style:{opacity:e.disabled?"0.5":"1"},children:[(0,n.jsxs)(v,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(y,{children:(0,n.jsxs)(h.Ye,{style:{justifyContent:"flex-start"},children:[(0,n.jsx)("span",{children:t.contextSettings.prefix}),(0,n.jsx)(p.A,{delay:1,tooltip:t.contextSettings.prefixTooltip,children:(0,n.jsx)(r.tjz,{style:{opacity:.3,marginLeft:"0.3rem"}})})]})}),(0,n.jsx)("input",{"aria-label":t.contextSettings.prefix,value:T.replace(/\n/g,"\\n"),disabled:void 0===e.config||!0===e.disabled,type:"text",onChange:t=>{var i;i=t.target.value,e.config&&a&&(N(i.replace(/\\n/g,"\n")),e.config.prefix=i.replace(/\\n/g,"\n"),e.onUpdate&&e.onUpdate(),e.save?e.save():l(a.save()))}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(y,{children:(0,n.jsxs)(h.Ye,{style:{justifyContent:"flex-start"},children:[(0,n.jsx)("span",{children:t.contextSettings.suffix}),(0,n.jsx)(p.A,{delay:1,tooltip:t.contextSettings.suffixTooltip,children:(0,n.jsx)(r.tjz,{style:{opacity:.3,marginLeft:"0.3rem"}})})]})}),(0,n.jsx)("input",{"aria-label":t.contextSettings.suffix,value:M.replace(/\n/g,"\\n"),disabled:void 0===e.config||!0===e.disabled,type:"text",onChange:t=>{var i;i=t.target.value,e.config&&a&&(B(i.replace(/\\n/g,"\n")),e.config.suffix=i.replace(/\\n/g,"\n"),e.onUpdate&&e.onUpdate(),e.save?e.save():l(a.save()))}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(y,{children:(0,n.jsxs)(h.Ye,{style:{justifyContent:"flex-start"},children:[(0,n.jsx)("span",{children:t.contextSettings.tokenBudget}),(0,n.jsx)(p.A,{delay:1,tooltip:t.contextSettings.tokenBudgetTooltip,children:(0,n.jsx)(r.tjz,{style:{opacity:.3,marginLeft:"0.3rem"}})})]})}),(0,n.jsx)("input",{"aria-label":t.contextSettings.tokenBudget,value:e.config?g:"",disabled:void 0===e.config||!0===e.disabled,type:"text",onChange:t=>{(t=>{if(e.config&&a){let i=t.replace(/[^\d.]+/g,""),n=i.match(/((0?\.\d*)|(\d+))/g);n&&(i=n[0]),u(i);let o=Number.parseFloat(i);o<0&&u((o=0).toString()),Number.isNaN(o)&&(o=0),e.config.tokenBudget=o,e.onUpdate&&e.onUpdate(),e.save?e.save():l(a.save())}})(t.target.value)}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(y,{children:(0,n.jsxs)(h.Ye,{style:{justifyContent:"flex-start"},children:[(0,n.jsx)("span",{children:t.contextSettings.reservedTokens}),(0,n.jsx)(p.A,{delay:1,tooltip:t.contextSettings.reservedTokensTooltip,children:(0,n.jsx)(r.tjz,{style:{opacity:.3,marginLeft:"0.3rem"}})})]})}),(0,n.jsx)("input",{"aria-label":t.contextSettings.reservedTokens,value:e.config?b:"",disabled:void 0===e.config||!0===e.disabled,type:"text",onChange:t=>{(t=>{if(e.config&&a){let i=t.replace(/[^\d.]+/g,""),n=i.match(/((0?\.\d*)|(\d+))/g);n&&(i=n[0]),A(i);let o=Number.parseFloat(i);o<0&&A((o=0).toString()),Number.isNaN(o)&&(o=0),e.config.reservedTokens=o,e.onUpdate&&e.onUpdate(),e.save?e.save():l(a.save())}})(t.target.value)}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(y,{children:(0,n.jsxs)(h.Ye,{style:{justifyContent:"flex-start"},children:[(0,n.jsx)("span",{children:t.contextSettings.insertionOrder}),(0,n.jsx)(p.A,{delay:1,tooltip:t.contextSettings.insertionOrderTooltip,children:(0,n.jsx)(r.tjz,{style:{opacity:.3,marginLeft:"0.3rem"}})})]})}),(0,n.jsx)("input",{"aria-label":t.contextSettings.insertionOrder,value:e.config?S:"",disabled:void 0===e.config||!0===e.disabled,type:"text",onChange:t=>{(t=>{if(e.config&&a){let i=t.replace(/[^\d-]+/g,""),n=i.match(/(-)?(\d+)/g);n&&(i=n[0]),I(i);let o=Number.parseInt(i);Number.isNaN(o)&&(o=0),e.config.budgetPriority=o,e.onUpdate&&e.onUpdate(),e.save?e.save():l(a.save())}})(t.target.value)}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(y,{children:(0,n.jsxs)(h.Ye,{style:{justifyContent:"flex-start"},children:[(0,n.jsx)("span",{children:t.contextSettings.insertionPosition}),(0,n.jsx)(p.A,{delay:1,tooltip:t.contextSettings.insertionPositionTooltip,children:(0,n.jsx)(r.tjz,{style:{opacity:.3,marginLeft:"0.3rem"}})})]})}),(0,n.jsx)("input",{"aria-label":t.contextSettings.insertionPosition,value:e.config?k:"",disabled:void 0===e.config||!0===e.disabled,type:"text",onChange:t=>{(t=>{if(e.config&&a){let i=t.replace(/[^\d-]+/g,""),n=i.match(/(-)?(\d+)/g);n&&(i=n[0]),C(i);let o=Number.parseInt(i);Number.isNaN(o)&&(o=0),e.config.insertionPosition=o,e.onUpdate&&e.onUpdate(),e.save?e.save():l(a.save())}})(t.target.value)}})]})]}),(0,n.jsxs)(j,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(y,{children:(0,n.jsxs)(h.Ye,{style:{justifyContent:"flex-start"},children:[(0,n.jsx)("span",{children:t.contextSettings.trimDirection}),(0,n.jsx)(p.A,{delay:1,tooltip:t.contextSettings.trimDirectionTooltip,children:(0,n.jsx)(r.tjz,{style:{opacity:.3,marginLeft:"0.3rem"}})})]})}),(0,n.jsx)(m.A,{name:t.contextSettings.trimDirection,selected:E,choices:[s.SL.TrimTop,s.SL.TrimBottom,s.SL.DoNotTrim],names:[t.contextSettings.trimDirectionLabels.top,t.contextSettings.trimDirectionLabels.bottom,t.contextSettings.trimDirectionLabels.doNotTrim],disabled:void 0===e.config||!0===e.disabled,onChoiceSelected:t=>{e.config&&a&&(L(t),e.config.trimDirection=t,e.onUpdate&&e.onUpdate(),e.save?e.save():l(a.save()))}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(y,{children:(0,n.jsxs)(h.Ye,{style:{justifyContent:"flex-start"},children:[(0,n.jsx)("span",{children:t.contextSettings.maximumTrimType}),(0,n.jsx)(p.A,{delay:1,tooltip:t.contextSettings.maximumTrimTypeTooltip,children:(0,n.jsx)(r.tjz,{style:{opacity:.3,marginLeft:"0.3rem"}})})]})}),(0,n.jsx)(m.A,{name:t.contextSettings.maximumTrimType,selected:_,choices:[s.Vm.NewLine,s.Vm.Sentence,s.Vm.Token],names:[t.contextSettings.maximumTrimTypeLabels.newline,t.contextSettings.maximumTrimTypeLabels.sentence,t.contextSettings.maximumTrimTypeLabels.token],disabled:void 0===e.config||!0===e.disabled,onChoiceSelected:t=>{e.config&&a&&(F(t),e.config.maximumTrimType=t,e.onUpdate&&e.onUpdate(),e.save?e.save():l(a.save()))}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(y,{children:(0,n.jsxs)(h.Ye,{style:{justifyContent:"flex-start"},children:[(0,n.jsx)("span",{children:t.contextSettings.insertionType}),(0,n.jsx)(p.A,{delay:1,tooltip:t.contextSettings.insertionTypeTooltip,children:(0,n.jsx)(r.tjz,{style:{opacity:.3,marginLeft:"0.3rem"}})})]})}),(0,n.jsx)(m.A,{name:t.contextSettings.insertionType,selected:G,choices:[s.Vm.NewLine,s.Vm.Sentence,s.Vm.Token],names:[t.contextSettings.insertionTypeLabels.newline,t.contextSettings.insertionTypeLabels.sentence,t.contextSettings.insertionTypeLabels.token],disabled:void 0===e.config||!0===e.disabled,onChoiceSelected:t=>{e.config&&a&&(R(t),e.config.insertionType=t,e.onUpdate&&e.onUpdate(),e.save?e.save():l(a.save()))}})]})]})]})}},91849:(e,t,i)=>{"use strict";i.d(t,{zz:()=>B,qu:()=>W,T$:()=>H,gf:()=>Y,wc:()=>L,ym:()=>E});var n=i(94458),o=i(68658),r=i(55805),a=i(41963),s=i(84601),c=i(97223),d=i(82123),l=i(50884),h=i(89077),g=i(47644),u=i(74700),p=i(52746),m=i(73484),x=i(2834);i(92704),i(29415);var f=i(39612),b=i(53875),y=i(48370),w=i(81336),v=i(71928),j=i(83513),A=i(27481),S=i(19058),I=i(38474),k=i(17309),C=i(96638),T=i.n(C),N=i(21715),M=i(46181);function B(e){let t=(0,m.B2)(),[i,r]=(0,o.useState)(!1),[l,h]=(0,x.fp)(c.Nn),[g,f]=(0,x.fp)((0,c.aQ)(e.settingFlag));return((0,o.useEffect)(()=>{f(!(0,s.cv)(l.settings,e.settingFlag))}),l.noAccount||!1===l.information.emailVerified||!0===(0,s.cv)(l.settings,e.settingFlag)||!l.authenticated)?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(p.A,{type:p.q.Large,isOpen:g,onRequestClose:()=>f(!1),children:(0,n.jsxs)(_,{children:[(0,n.jsx)(F,{children:e.leadText??t.license.lead}),(0,n.jsx)(G,{children:e.licenseText}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",gap:"30px",marginTop:"30px",flexWrap:"wrap",width:"100%"},children:[(0,n.jsx)(u.Jg,{value:i,setValue:r,label:t.license.agree}),(0,n.jsx)(d.yY,{style:{width:"100%",maxWidth:"280px"},disabled:!i,onClick:()=>{i&&(h(t=>{let i={...t,settings:{...t.settings,[e.settingFlag]:!0}};return(0,a.c7)(i).saveSettings(i.settings),i}),f(!1))},children:t.common.accept})]})]})})}let E=`Copyright (c) 2022 Robin Rombach and Patrick Esser and contributors

CreativeML Open RAIL-M
dated August 22, 2022

Section I: PREAMBLE

Multimodal generative models are being widely adopted and used, and have the potential to transform the way artists, among other individuals, conceive and benefit from AI or ML technologies as a tool for content creation.

Notwithstanding the current and potential benefits that these artifacts can bring to society at large, there are also concerns about potential misuses of them, either due to their technical limitations or ethical considerations.

In short, this license strives for both the open and responsible downstream use of the accompanying model. When it comes to the open character, we took inspiration from open source permissive licenses regarding the grant of IP rights. Referring to the downstream responsible use, we added use-based restrictions not permitting the use of the Model in very specific scenarios, in order for the licensor to be able to enforce the license in case potential misuses of the Model may occur. At the same time, we strive to promote open and responsible research on generative models for art and content generation.

Even though downstream derivative versions of the model could be released under different licensing terms, the latter will always have to include - at minimum - the same use-based restrictions as the ones in the original license (this license). We believe in the intersection between open and responsible AI development; thus, this License aims to strike a balance between both in order to enable responsible open-science in the field of AI.

This License governs the use of the model (and its derivatives) and is informed by the model card associated with the model.

NOW THEREFORE, You and Licensor agree as follows:

1. Definitions

- "License" means the terms and conditions for use, reproduction, and Distribution as defined in this document.
- "Data" means a collection of information and/or content extracted from the dataset used with the Model, including to train, pretrain, or otherwise evaluate the Model. The Data is not licensed under this License.
- "Output" means the results of operating a Model as embodied in informational content resulting therefrom.
- "Model" means any accompanying machine-learning based assemblies (including checkpoints), consisting of learnt weights, parameters (including optimizer states), corresponding to the model architecture as embodied in the Complementary Material, that have been trained or tuned, in whole or in part on the Data, using the Complementary Material.
- "Derivatives of the Model" means all modifications to the Model, works based on the Model, or any other model which is created or initialized by transfer of patterns of the weights, parameters, activations or output of the Model, to the other model, in order to cause the other model to perform similarly to the Model, including - but not limited to - distillation methods entailing the use of intermediate data representations or methods based on the generation of synthetic data by the Model for training the other model.
- "Complementary Material" means the accompanying source code and scripts used to define, run, load, benchmark or evaluate the Model, and used to prepare data for training or evaluation, if any. This includes any accompanying documentation, tutorials, examples, etc, if any.
- "Distribution" means any transmission, reproduction, publication or other sharing of the Model or Derivatives of the Model to a third party, including providing the Model as a hosted service made available by electronic or other remote means - e.g. API-based or web access.
- "Licensor" means the copyright owner or entity authorized by the copyright owner that is granting the License, including the persons or entities that may have rights in the Model and/or distributing the Model.
- "You" (or "Your") means an individual or Legal Entity exercising permissions granted by this License and/or making use of the Model for whichever purpose and in any field of use, including usage of the Model in an end-use application - e.g. chatbot, translator, image generator.
- "Third Parties" means individuals or legal entities that are not under common control with Licensor or You.
- "Contribution" means any work of authorship, including the original version of the Model and any modifications or additions to that Model or Derivatives of the Model thereof, that is intentionally submitted to Licensor for inclusion in the Model by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, "submitted" means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Model, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as "Not a Contribution."
- "Contributor" means Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Model.

Section II: INTELLECTUAL PROPERTY RIGHTS

Both copyright and patent grants apply to the Model, Derivatives of the Model and Complementary Material. The Model and Derivatives of the Model are subject to additional terms as described in Section III.

2. Grant of Copyright License. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare, publicly display, publicly perform, sublicense, and distribute the Complementary Material, the Model, and Derivatives of the Model.
3. Grant of Patent License. Subject to the terms and conditions of this License and where and as applicable, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in this paragraph) patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Model and the Complementary Material, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Model to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Model and/or Complementary Material or a Contribution incorporated within the Model and/or Complementary Material constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for the Model and/or Work shall terminate as of the date such litigation is asserted or filed.

Section III: CONDITIONS OF USAGE, DISTRIBUTION AND REDISTRIBUTION

4. Distribution and Redistribution. You may host for Third Party remote access purposes (e.g. software-as-a-service), reproduce and distribute copies of the Model or Derivatives of the Model thereof in any medium, with or without modifications, provided that You meet the following conditions:
Use-based restrictions as referenced in paragraph 5 MUST be included as an enforceable provision by You in any type of legal agreement (e.g. a license) governing the use and/or distribution of the Model or Derivatives of the Model, and You shall give notice to subsequent users You Distribute to, that the Model or Derivatives of the Model are subject to paragraph 5. This provision does not apply to the use of Complementary Material.
You must give any Third Party recipients of the Model or Derivatives of the Model a copy of this License;
You must cause any modified files to carry prominent notices stating that You changed the files;
You must retain all copyright, patent, trademark, and attribution notices excluding those notices that do not pertain to any part of the Model, Derivatives of the Model.
You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions - respecting paragraph 4.a. - for use, reproduction, or Distribution of Your modifications, or for any such Derivatives of the Model as a whole, provided Your use, reproduction, and Distribution of the Model otherwise complies with the conditions stated in this License.
5. Use-based restrictions. The restrictions set forth in Attachment A are considered Use-based restrictions. Therefore You cannot use the Model and the Derivatives of the Model for the specified restricted uses. You may use the Model subject to this License, including only for lawful purposes and in accordance with the License. Use may include creating any content with, finetuning, updating, running, training, evaluating and/or reparametrizing the Model. You shall require all of Your users who use the Model or a Derivative of the Model to comply with the terms of this paragraph (paragraph 5).
6. The Output You Generate. Except as set forth herein, Licensor claims no rights in the Output You generate using the Model. You are accountable for the Output you generate and its subsequent uses. No use of the output can contravene any provision as stated in the License.

Section IV: OTHER PROVISIONS

7. Updates and Runtime Restrictions. To the maximum extent permitted by law, Licensor reserves the right to restrict (remotely or otherwise) usage of the Model in violation of this License, update the Model through electronic means, or modify the Output of the Model based on updates. You shall undertake reasonable efforts to use the latest version of the Model.
8. Trademarks and related. Nothing in this License permits You to make use of Licensors trademarks, trade names, logos or to otherwise suggest endorsement or misrepresent the relationship between the parties; and any rights not expressly granted herein are reserved by the Licensors.
9. Disclaimer of Warranty. Unless required by applicable law or agreed to in writing, Licensor provides the Model and the Complementary Material (and each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Model, Derivatives of the Model, and the Complementary Material and assume any risks associated with Your exercise of permissions under this License.
10. Limitation of Liability. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Model and the Complementary Material (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages.
11. Accepting Warranty or Additional Liability. While redistributing the Model, Derivatives of the Model and the Complementary Material thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability.
12. If any provision of this License is held to be invalid, illegal or unenforceable, the remaining provisions shall be unaffected thereby and remain valid as if such provision had not been set forth herein.

END OF TERMS AND CONDITIONS




Attachment A

Use Restrictions

You agree not to use the Model or Derivatives of the Model:
- In any way that violates any applicable national, federal, state, local or international law or regulation;
- For the purpose of exploiting, harming or attempting to exploit or harm minors in any way;
- To generate or disseminate verifiably false information and/or content with the purpose of harming others;
- To generate or disseminate personal identifiable information that can be used to harm an individual;
- To defame, disparage or otherwise harass others;
- For fully automated decision making that adversely impacts an individuals legal rights or otherwise creates or modifies a binding, enforceable obligation;
- For any use intended to or which has the effect of discriminating against or harming individuals or groups based on online or offline social behavior or known or predicted personal or personality characteristics;
- To exploit any of the vulnerabilities of a specific group of persons based on their age, social, physical or mental characteristics, in order to materially distort the behavior of a person pertaining to that group in a manner that causes or is likely to cause that person or another person physical or psychological harm;
- For any use intended to or which has the effect of discriminating against individuals or groups based on legally protected characteristics or categories;
- To provide medical advice and medical results interpretation;
- To generate or disseminate information for the purpose to be used for administration of justice, law enforcement, immigration or asylum processes, such as predicting an individual will commit fraud/crime commitment (e.g. by text profiling, drawing causal relationships between assertions made in documents, indiscriminate and arbitrarily-targeted use).
`,L=`META LLAMA 3 COMMUNITY LICENSE AGREEMENT
Meta Llama 3 Version Release Date: April 18, 2024

Agreement means the terms and conditions for use, reproduction, distribution and modification of the Llama Materials set forth herein.
Documentation means the specifications, manuals and documentation accompanying Meta Llama 3 distributed by Meta at https://llama.com/get-started/.
Licensee or you means you, or your employer or any other person or entity (if you are entering into this Agreement on such person or entitys behalf), of the age required under applicable laws, rules or regulations to provide legal consent and that has legal authority to bind your employer or such other person or entity if you are entering in this Agreement on their behalf.
MetaLlama 3 means the foundational large language models and software and algorithms, including machine-learning model code, trained model weights, inference-enabling code, training-enabling code, fine-tuning enabling code and other elements of the foregoing distributed by Meta at https://llama.com/llama-downloads.
Llama Materials means, collectively, Metas proprietary Meta Llama 3 and Documentation (and any portion thereof) made available under this Agreement.
Meta or we means Meta Platforms Ireland Limited (if you are located in or, if you are an entity, your principal place of business is in the EEA or Switzerland) and Meta Platforms, Inc. (if you are located outside of the EEA or Switzerland).
By clicking I Accept below or by using or distributing any portion or element of the Llama Materials, you agree to be bound by this Agreement.

1. License Rights and Redistribution.
a. Grant of Rights. You are granted a non-exclusive, worldwide, non-transferable and royalty-free limited license under Metas intellectual property or other rights owned by Meta embodied in the Llama Materials to use, reproduce, distribute, copy, create derivative works of, and make modifications to the Llama Materials.
b. Redistribution and Use.
i. If you distribute or make available the Llama Materials (or any derivative works thereof), or a product or service that uses any of them, including another AI model, you shall (A) provide a copy of this Agreement with any such Llama Materials; and (B) prominently display Built with Meta Llama 3 on a related website, user interface, blogpost, about page, or product documentation. If you use the Llama Materials to create, train, fine tune, or otherwise improve an AI model, which is distributed or made available, you shall also include Llama 3 at the beginning of any such AI model name.

ii. If you receive Llama Materials, or any derivative works thereof, from a Licensee as part of an integrated end user product, then Section 2 of this Agreement will not apply to you.

iii. You must retain in all copies of the Llama Materials that you distribute the following attribution notice within a Notice text file distributed as a part of such copies: Meta Llama 3 is licensed under the Meta Llama 3 Community License, Copyright \xa9 Meta Platforms, Inc. All Rights Reserved.

iv. Your use of the Llama Materials must comply with applicable laws and regulations (including trade compliance laws and regulations) and adhere to the Acceptable Use Policy for the Llama Materials (available at https://llama.com/llama3/use-policy), which is hereby incorporated by reference into this Agreement.
v. You will not use the Llama Materials or any output or results of the Llama Materials to improve any other large language model (excluding Meta Llama 3 or derivative works thereof).

2. Additional Commercial Terms. If, on the Meta Llama 3 version release date, the monthly active users of the products or services made available by or for Licensee, or Licensees affiliates, is greater than 700 million monthly active users in the preceding calendar month, you must request a license from Meta, which Meta may grant to you in its sole discretion, and you are not authorized to exercise any of the rights under this Agreement unless or until Meta otherwise expressly grants you such rights.
3. Disclaimer of Warranty. UNLESS REQUIRED BY APPLICABLE LAW, THE LLAMA MATERIALS AND ANY OUTPUT AND RESULTS THEREFROM ARE PROVIDED ON AN AS IS BASIS, WITHOUT WARRANTIES OF ANY KIND, AND META DISCLAIMS ALL WARRANTIES OF ANY KIND, BOTH EXPRESS AND IMPLIED, INCLUDING, WITHOUT LIMITATION, ANY WARRANTIES OF TITLE, NON-INFRINGEMENT, MERCHANTABILITY, OR FITNESS FOR A PARTICULAR PURPOSE. YOU ARE SOLELY RESPONSIBLE FOR DETERMINING THE APPROPRIATENESS OF USING OR REDISTRIBUTING THE LLAMA MATERIALS AND ASSUME ANY RISKS ASSOCIATED WITH YOUR USE OF THE LLAMA MATERIALS AND ANY OUTPUT AND RESULTS.
4. Limitation of Liability. IN NO EVENT WILL META OR ITS AFFILIATES BE LIABLE UNDER ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, TORT, NEGLIGENCE, PRODUCTS LIABILITY, OR OTHERWISE, ARISING OUT OF THIS AGREEMENT, FOR ANY LOST PROFITS OR ANY INDIRECT, SPECIAL, CONSEQUENTIAL, INCIDENTAL, EXEMPLARY OR PUNITIVE DAMAGES, EVEN IF META OR ITS AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF ANY OF THE FOREGOING.
5. Intellectual Property.
a. No trademark licenses are granted under this Agreement, and in connection with the Llama Materials, neither Meta nor Licensee may use any name or mark owned by or associated with the other or any of its affiliates, except as required for reasonable and customary use in describing and redistributing the Llama Materials or as set forth in this Section 5(a). Meta hereby grants you a license to use Llama 3 (the Mark) solely as required to comply with the last sentence of Section 1.b.i. You will comply with Metas brand guidelines (currently accessible at https://about.meta.com/brand/resources/meta/company-brand/). All goodwill arising out of your use of the Mark will inure to the benefit of Meta.
b. Subject to Metas ownership of Llama Materials and derivatives made by or for Meta, with respect to any derivative works and modifications of the Llama Materials that are made by you, as between you and Meta, you are and will be the owner of such derivative works and modifications.

c. If you institute litigation or other proceedings against Meta or any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Llama Materials or Meta Llama 3 outputs or results, or any portion of any of the foregoing, constitutes infringement of intellectual property or other rights owned or licensable by you, then any licenses granted to you under this Agreement shall terminate as of the date such litigation or claim is filed or instituted. You will indemnify and hold harmless Meta from and against any claim by any third party arising out of or related to your use or distribution of the Llama Materials.

6. Term and Termination. The term of this Agreement will commence upon your acceptance of this Agreement or access to the Llama Materials and will continue in full force and effect until terminated in accordance with the terms and conditions herein. Meta may terminate this Agreement if you are in breach of any term or condition of this Agreement. Upon termination of this Agreement, you shall delete and cease use of the Llama Materials. Sections 3, 4 and 7 shall survive the termination of this Agreement.
7. Governing Law and Jurisdiction. This Agreement will be governed and construed under the laws of the State of California without regard to choice of law principles, and the UN Convention on Contracts for the International Sale of Goods does not apply to this Agreement. The courts of California shall have exclusive jurisdiction of any dispute arising out of this Agreement.`,_=r.Ay.div.withConfig({componentId:"sc-10de0ee6-0"})(["padding:20px;background:",";display:flex;flex-direction:column;"],e=>e.theme.colors.bg2),F=r.Ay.div.withConfig({componentId:"sc-10de0ee6-1"})(["font-size:1.275rem;font-weight:600;font-family:",";color:",";margin-bottom:10px;"],e=>e.theme.fonts.headings,e=>e.theme.colors.textHeadings),G=r.Ay.div.withConfig({componentId:"sc-10de0ee6-2"})(["background-color:",";padding:20px;white-space:pre-wrap;overflow-y:auto;"],e=>e.theme.colors.bg1),R=r.Ay.div.withConfig({componentId:"sc-10de0ee6-3"})(["background:",";display:flex;flex-direction:column;justify-content:flex-end;align-items:center;min-width:300px;max-width:560px;height:100%;overflow-y:auto;border-radius:4px;border:1px solid ",";max-height:max-content;"],e=>(0,g.No)(.5,e.theme.colors.bg2),e=>e.theme.colors.bg3),D=r.Ay.div.withConfig({componentId:"sc-10de0ee6-4"})(["background:",";"],e=>e.theme.colors.bg2);(0,r.Ay)(h.ur).withConfig({componentId:"sc-10de0ee6-5"})(["background-color:",";color:",";border-radius:4px;&:hover{background-color:",";}"],e=>e.theme.colors.textMain,e=>e.theme.colors.bg0,e=>e.theme.colors.textMain),(0,r.Ay)(h.Eo).withConfig({componentId:"sc-10de0ee6-6"})(["background-color:",";color:",";border:1px solid ",";border-radius:4px;&:hover{background-color:",";}"],e=>e.theme.colors.bg0,e=>e.theme.colors.textMain,e=>e.theme.colors.textMain,e=>e.theme.colors.bg0);let P=r.Ay.div.withConfig({componentId:"sc-10de0ee6-7"})(["font-size:1.275rem;font-weight:600;font-family:",";margin-bottom:5px;"],e=>e.theme.fonts.headings);var O=function(e){return e[e.Base=0]="Base",e[e.Loading=1]="Loading",e[e.Success=2]="Success",e[e.NoMigrationNeeded=3]="NoMigrationNeeded",e}(O||{});function W(e){let[t,i]=(0,x.fp)(c.Nn),r=(0,m.B2)(),[d,g]=(0,x.fp)(f.j3),[u,k]=(0,x.fp)(c.Ui),[C,B]=(0,o.useState)(0);(0,o.useEffect)(()=>{t.authenticated&&t.subscription.paymentProcessorData?.t===b.Br.PADDLE&&(0,M.ax)(t.subscription)&&!f.sg.has(d)&&k(!0)},[d,t.authenticated,t.subscription,t.subscription.paymentProcessorData?.t,k]);let E=(0,I.useRouter)();(0,o.useEffect)(()=>{E.isReady&&("/image"===E.pathname&&!(0,s.cv)(t.settings,"migrateSubscriptionShown")&&t.subscription.paymentProcessorData?.t===b.Br.PADDLE&&(0,M.ax)(t.subscription)?k(!0):"open"===E.query.migrateSubscription&&t.subscription.paymentProcessorData?.t===b.Br.PADDLE&&(0,M.ax)(t.subscription)?(E.replace(E.pathname,void 0,{shallow:!0}),k(!0)):"open"===E.query.migrateSubscription&&(E.replace(E.pathname,void 0,{shallow:!0}),k(!0),B(3)))},[E.isReady]);let L=()=>{k(!1),B(0),t.subscription.paymentProcessorData?.t===b.Br.PADDLE&&g(y.oM.naiDiffusionV4CuratedPreview),i(e=>{let t={...e,settings:{...e.settings,migrateSubscriptionShown:!0}};return(0,a.c7)(t).saveSettings(t.settings),t})},{migrateSubscription:_,iframeModal:F}=function(e){let{capture:t}=(0,j.A)(),i=(0,m.B2)(),[r,a]=(0,x.fp)(c.Nn),[d,l]=(0,o.useState)(""),h=(0,o.useRef)(null),[g,u]=(0,o.useState)(!1),f=(0,o.useCallback)(t=>{e.onError&&e.onError(t)},[e]),A=(0,o.useCallback)(()=>{e.onCompleted&&e.onCompleted()},[e]),S=(0,o.useCallback)(()=>{e.onCanceled&&e.onCanceled()},[e]),I=(0,o.useCallback)(()=>{e.onGotPaymentUrl&&e.onGotPaymentUrl()},[e]),k=(0,o.useCallback)(()=>{if(r.subscription.paymentProcessorData?.t!==b.Br.PADDLE)return void f(i.subscription.cannotMigrate);(0,y.St)(r.auth_token,(0,s.cv)(r.settings,"uiLanguage")).request().then(e=>{e.paymentUrl&&(T.current=!0,I(),l(e.paymentUrl),u(!0))}).catch(e=>{(0,v.vV)(e),f(`${e}`)})},[i.subscription.cannotMigrate,f,I,r.auth_token,r.subscription.paymentProcessorData?.t]),C=(0,o.useCallback)((e,t)=>{let i=0,n=()=>{(0,y.H2)(r.auth_token).request().then(o=>{e(o)?(a(e=>({...e,subscription:o.subscription,priority:o.priority})),A()):i<15?(h.current=setTimeout(n,2e3),++i):f(t)}).catch(e=>{(0,v.vV)(e),f(`${e}`)})};n()},[A,f,r.auth_token,a]),T=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{let e=e=>{T.current&&("cb.close"===e.data&&(u(!1),t("subscription_migrated:closed",{location:"subscription"}),S(),T.current=!1),e.data?.key==="cb.success"&&(u(!1),t("subscription_migrated:succeded",{location:"subscription"}),C(e=>e.subscription.paymentProcessorData?.t!==b.Br.PADDLE,i.subscription.paymentProcessing),T.current=!1))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[t,C,i.subscription.paymentProcessing,S,e,a]),{migrateSubscription:k,iframeModal:(0,n.jsx)(p.A,{type:p.q.Large,onRequestClose:()=>{},isOpen:g,style:{justifyContent:"flex-end",overflow:"hidden",width:"100vw",maxWidth:"100vw"},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.J,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"4px"},onClick:()=>{S(),u(!1),T.current=!1},children:(0,n.jsx)("div",{})}),(0,n.jsx)(w.v,{title:"payment",src:d})]})})}}({onCompleted:()=>{B(2)},onCanceled:()=>{B(0)},onError:e=>{A.oR.error(e),B(0)}}),[G,O]=(0,x.fp)(c.G1),[W,H]=(0,x.fp)((0,c.aQ)("stableLicenseAgree")),[Y,z]=(0,x.fp)(c.YZ),U=(0,o.useMemo)(()=>T().unix(t.subscription?.expiresAt??0).format("YYYY/MM/DD"),[t.subscription?.expiresAt]);return e.naidv4Text&&(W||Y)||2!==C&&3!==C&&(!1===t.authenticated||t.subscription.paymentProcessorData?.t!==b.Br.PADDLE||!(0,M.ax)(t.subscription))?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.A,{type:p.q.Large,isOpen:u,onRequestClose:()=>{L()},shouldCloseOnOverlayClick:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.J,{onClick:()=>{L()},children:(0,n.jsx)("div",{})}),(0,n.jsx)(R,{children:(0,n.jsxs)(D,{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",maxWidth:"100vw",overflowX:"hidden",minHeight:"200px",width:"500px"},children:[1===C&&(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,n.jsx)(S.k,{visible:!0})}),0===C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P,{style:{alignSelf:"flex-start"},children:(0,n.jsx)(l.f4,{children:r.image.naidv4MigratePaymentNoticeTitle})}),(0,n.jsx)("p",{style:{marginTop:"20px",whiteSpace:"pre-wrap"},children:r.image.naidv4MigratePaymentNotice1}),(0,n.jsxs)("p",{style:{whiteSpace:"pre-wrap"},children:[(0,n.jsx)("span",{children:r.image.naidv4MigratePaymentNotice2[0]}),(0,n.jsx)("a",{href:"https://x.com/andjdavies/status/1836292129666056631",children:(0,n.jsx)("span",{children:r.image.naidv4MigratePaymentNotice2[1]})}),(0,n.jsx)("span",{children:r.image.naidv4MigratePaymentNotice2[2]}),(0,n.jsx)("span",{children:(0,n.jsx)("strong",{children:r.image.naidv4MigratePaymentNotice2[3]})}),(0,n.jsx)("span",{children:r.image.naidv4MigratePaymentNotice2[4]})]}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{children:r.image.naidv4MigratePaymentNotice2b})}),(0,n.jsxs)("p",{style:{whiteSpace:"pre-wrap"},children:[(0,n.jsx)("span",{children:r.image.naidv4MigratePaymentNotice3[0]}),(0,n.jsx)("span",{children:(0,n.jsx)("strong",{children:r.image.naidv4MigratePaymentNotice3[1]})}),(0,n.jsx)("span",{children:(0,N.LP)(r.image.naidv4MigratePaymentNotice3[2],U)})]}),(0,n.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:r.image.naidv4MigratePaymentNotice4}),(0,n.jsx)(h.ur,{style:{borderRadius:"4px"},onClick:()=>{_(),B(1)},children:r.subscription.updateYourBillingInformation})]}),2===C&&(0,n.jsxs)("div",{children:[(0,n.jsx)(P,{style:{alignSelf:"flex-start"},children:(0,n.jsx)(l.f4,{children:r.image.naidv4MigratePaymentNoticeSuccessHeader})}),(0,n.jsx)("p",{children:(0,N.LP)(r.image.naidv4MigratePaymentNoticeSuccess1,U)}),(0,n.jsx)("p",{children:r.image.naidv4MigratePaymentNoticeSuccess2}),(0,n.jsx)(h.ur,{style:{borderRadius:"4px",margin:"auto",padding:"10px 30px"},onClick:()=>{L()},children:r.cta.ok})]}),3===C&&(0,n.jsxs)("div",{children:[(0,n.jsx)(P,{style:{alignSelf:"flex-start"},children:(0,n.jsx)(l.f4,{children:r.image.noMigrationNeeded})}),(0,n.jsx)("p",{children:r.image.notAPaddleSubscription}),(0,n.jsx)(h.ur,{style:{borderRadius:"4px",margin:"auto",padding:"10px 30px"},onClick:()=>{L()},children:r.cta.ok})]})]})})]})}),F]})}function H(){let[e,t]=(0,x.fp)(c.Nn),i=(0,m.B2)(),r=(0,x.Xr)(c.ms),a=(0,x.Xr)(c.Uv),[s,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{"true"===(0,k.W9)("paymentDueModalDisabled")&&d(!0)},[s]);let g=()=>{d(!0),sessionStorage.setItem("paymentDueModalDisabled","true")};return e.subscription.paymentProcessorData?.s!=="payment_due"||s?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p.A,{type:p.q.Large,isOpen:!0,onRequestClose:()=>{g()},shouldCloseOnOverlayClick:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.J,{onClick:()=>{g()},children:(0,n.jsx)("div",{})}),(0,n.jsx)(R,{children:(0,n.jsxs)(D,{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",maxWidth:"100vw",overflowX:"hidden",minHeight:"200px",width:"500px"},children:[(0,n.jsx)(P,{style:{alignSelf:"flex-start"},children:(0,n.jsx)(l.f4,{children:i.subscription.paymentDue})}),(0,n.jsx)("span",{children:i.subscription.paymentDueText}),(0,n.jsx)(h.ur,{style:{borderRadius:"4px",margin:"auto",padding:"10px 30px"},onClick:()=>{a({open:!0,blocked:!1}),r({type:c.sL.UpdatePaymentMethod,data:{}}),g()},children:i.subscription.updatePaymentMethod})]})})]})})})}function Y(e){let t=e.page??"image",[i,o]=(0,x.fp)(c.Nn),r=(0,m.B2)();(0,x.Xr)(c.ms);let a=(0,x.Xr)(c.Uv),[s,d]=(0,x.fp)(c.Wg),[g,u]=(0,x.fp)(c.ZZ),f=()=>{d(!1)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p.A,{type:p.q.Large,isOpen:s,onRequestClose:()=>{f()},shouldCloseOnOverlayClick:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.J,{onClick:()=>{f()},children:(0,n.jsx)("div",{})}),(0,n.jsx)(R,{children:(0,n.jsxs)(D,{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",maxWidth:"100vw",overflowX:"hidden",minHeight:"200px",width:"500px"},children:[(0,n.jsx)(P,{style:{alignSelf:"flex-start"},children:(0,n.jsx)(l.f4,{children:r.image.recaptchaBlockedTitle})}),(0,n.jsx)("span",{children:"image"===t?r.image.recaptchaBlocked:r.image.recaptchaBlockedNoAnlas}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",justifyContent:"center",alignItems:"center",marginTop:"20px",width:"100%"},children:[(0,n.jsx)(h.WM,{style:{borderRadius:"4px",margin:"auto",padding:"10px 30px",width:"100%",maxWidth:"200px",justifyContent:"center"},onClick:()=>{a({open:!0,blocked:!1}),f()},children:r.cta.subscribe}),"image"===t&&(0,n.jsx)(h.WM,{style:{borderRadius:"4px",margin:"auto",padding:"10px 30px",width:"100%",maxWidth:"200px",justifyContent:"center"},onClick:()=>{u(!0),f()},children:r.trial.purchaseAnlas}),(0,n.jsx)(h.ur,{style:{borderRadius:"4px",margin:"auto",padding:"10px 30px",width:"100%",maxWidth:"200px",justifyContent:"center"},onClick:()=>{f()},children:r.cta.ok})]})]})})]})})})}},91860:(e,t,i)=>{"use strict";i.d(t,{$4:()=>B,Z5:()=>I,j3:()=>S,lZ:()=>v,uW:()=>M});var n=i(94458),o=i(55805),r=i(89077),a=i(97223),s=i(53875),c=i(2834),d=i(73484),l=i(68658),h=i(27481),g=i(17309),u=i(92704),p=i(46181),m=i(38474),x=i(52746),f=i(81336),b=i(47644),y=i(84601),w=i(41963);let v=o.Ay.div.withConfig({componentId:"sc-dde47321-0"})(["width:100%;display:flex;flex-direction:column;justify-content:space-around;align-items:center;flex:0 0 auto !important;background:",";z-index:99;"],e=>e.theme.colors.bg3),j=o.Ay.div.withConfig({componentId:"sc-dde47321-1"})(["color:",";width:100%;font-size:1.125rem;padding:10px 20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;font-weight:700;"],e=>e.theme.colors.textMain),A=o.Ay.span.withConfig({componentId:"sc-dde47321-2"})(["color:",";"],e=>e.theme.colors.textHeadings);function S(){let e=(0,d.B2)(),t=(0,c.md)(a.Nn),[i,o]=(0,c.fp)(a.Ui),[h,m]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{"true"===(0,g.W9)("naidv4MigratePaymentNoticeDisabled")&&m(!0)},[h]),t.subscription.paymentProcessorData?.t!==s.Br.PADDLE||!(0,p.ax)(t.subscription)||h)?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)(j,{style:{flexWrap:"nowrap"},children:[(0,n.jsx)("div",{}),(0,n.jsxs)(r.Dp,{onClick:()=>o(!0),style:{fontSize:"1rem",fontWeight:700},children:[(0,n.jsx)("span",{children:e.image.naidv4MigrateBanner[0]}),(0,n.jsx)(A,{children:e.image.naidv4MigrateBanner[1]}),(0,n.jsx)("span",{children:e.image.naidv4MigrateBanner[2]})]}),(0,n.jsx)(r.ur,{onClick:()=>{m(!0),sessionStorage.setItem("naidv4MigratePaymentNoticeDisabled","true")},children:(0,n.jsx)(u.w0d,{})})]})}function I(){let e=(0,d.B2)(),t=(0,c.md)(a.Nn),i=(0,m.useRouter)(),[o,s]=(0,l.useState)(!1),[h,b]=(0,l.useState)(!1),y=(0,c.Xr)(a.ms),w=(0,c.Xr)(a.Uv);(0,l.useEffect)(()=>{"true"===(0,g.W9)("paymentDueBannerDisabled")&&b(!0)},[h]);let v=(0,l.useRef)(!1);return((0,l.useEffect)(()=>{!v.current&&(v.current=!0,i.isReady&&void 0!==i.query.updatePaymentMethod&&(t.subscription.paymentProcessorData?.s==="payment_due"?(w({open:!0,blocked:!1}),y({type:a.sL.UpdatePaymentMethod,data:{}})):(0,p.ax)(t.subscription)&&s(!0),i.replace(i.pathname,i.asPath.split("?")[0],{shallow:!0})))},[i.isReady]),o)?(0,n.jsx)(x.A,{type:x.q.Large,isOpen:!0,onRequestClose:()=>{close()},shouldCloseOnOverlayClick:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.J,{onClick:()=>{close()},children:(0,n.jsx)("div",{})}),(0,n.jsx)(k,{children:(0,n.jsxs)(C,{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",maxWidth:"100vw",overflowX:"hidden",minHeight:"200px",width:"500px"},children:[(0,n.jsx)(T,{style:{alignSelf:"flex-start"},children:(0,n.jsx)(N,{children:e.subscription.paymentMethodUpdateNotNeeded})}),(0,n.jsx)("span",{children:e.subscription.subscriptionAlreadyPayedFor}),(0,n.jsx)(r.ur,{style:{borderRadius:"4px",margin:"auto",padding:"10px 30px"},onClick:()=>{s(!1)},children:e.cta.ok})]})})]})}):t.subscription.paymentProcessorData?.s!=="payment_due"||h?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)(j,{style:{flexWrap:"nowrap"},children:[(0,n.jsx)("div",{}),(0,n.jsxs)(r.Dp,{onClick:()=>{w({open:!0,blocked:!1}),y({type:a.sL.UpdatePaymentMethod,data:{}})},style:{fontSize:"1rem",fontWeight:700},children:[(0,n.jsx)("span",{children:e.subscription.paymentDueSeparated[0]}),(0,n.jsx)(A,{children:e.subscription.paymentDueSeparated[1]})]}),(0,n.jsx)(r.ur,{onClick:()=>{b(!0),sessionStorage.setItem("paymentDueBannerDisabled","true")},children:(0,n.jsx)(u.w0d,{})})]})}let k=o.Ay.div.withConfig({componentId:"sc-dde47321-3"})(["background:",";display:flex;flex-direction:column;justify-content:flex-end;align-items:center;min-width:300px;max-width:560px;height:100%;overflow-y:auto;border-radius:4px;border:1px solid ",";max-height:max-content;"],e=>(0,b.No)(.5,e.theme.colors.bg2),e=>e.theme.colors.bg3),C=o.Ay.div.withConfig({componentId:"sc-dde47321-4"})(["background:",";"],e=>e.theme.colors.bg2),T=o.Ay.div.withConfig({componentId:"sc-dde47321-5"})(["font-size:1.275rem;font-weight:600;font-family:",";margin-bottom:5px;"],e=>e.theme.fonts.headings),N=o.Ay.span.withConfig({componentId:"sc-dde47321-6"})(["color:",";"],e=>e.theme.colors.textHeadings);function M(){let[e,t]=(0,l.useState)(!1),i=(0,d.B2)(),o=(0,c.md)(a.Nn),s=(0,m.useRouter)(),[u,p]=(0,l.useState)(!1),b=(0,c.Xr)(a.Uv),y=(0,c.Xr)(a.ms);(0,l.useEffect)(()=>{"true"===(0,g.W9)("addressRequiredBannerDisabled")&&p(!0)},[u]);let w=()=>{b({open:!0,blocked:!1}),y({type:a.sL.AddBillingInformation,data:{}})},v=()=>{t(!1)},A=(0,l.useRef)(!1);return((0,l.useEffect)(()=>{if(!A.current&&o.authenticated&&!o.noAccount){if(A.current=!0,o.information.needsAddressChange&&!u)return void w();s.isReady&&void 0!==s.query.updateAddress&&(o.information.needsAddressChange?w():(0,h.oR)(i.subscription.addressUpdateNotRequired,{type:"info",toastId:"address_update"}),s.replace(s.pathname,s.asPath.split("?")[0],{shallow:!0}))}},[s.isReady,o]),o.information.needsAddressChange)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{style:{flexWrap:"nowrap"},children:(0,n.jsx)("div",{style:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)(r.Dp,{onClick:()=>{w()},style:{fontSize:"1rem",fontWeight:700},children:[(0,n.jsxs)("span",{children:[i.subscription.addressRequired," "]}),(0,n.jsx)(N,{children:i.subscription.addAddress})]})})}),(0,n.jsx)(x.A,{type:x.q.Large,isOpen:e,onRequestClose:()=>{v()},shouldCloseOnOverlayClick:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.J,{onClick:()=>{v()},children:(0,n.jsx)("div",{})}),(0,n.jsx)(k,{children:(0,n.jsxs)(C,{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",paddingTop:40,maxWidth:"100vw",overflowX:"hidden",minHeight:"200px",width:"300px"},children:[(0,n.jsx)(T,{style:{alignSelf:"flex-start"},children:(0,n.jsx)(N,{children:i.subscription.updateBillingInformation})}),(0,n.jsx)("span",{children:i.subscription.addressRequired}),(0,n.jsx)(r.ur,{style:{borderRadius:"4px",margin:"auto",padding:"10px 30px",marginTop:20},onClick:()=>{t(!1),w()},children:i.subscription.addAddress})]})})]})})]}):(0,n.jsx)(n.Fragment,{})}function B(){let e=(0,d.B2)(),[t,i]=(0,c.fp)(a.Nn);return(0,l.useMemo)(()=>(0,y.cv)(t.settings,"tosFlag"),[t.settings])>=1?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(j,{style:{flexWrap:"nowrap"},children:[(0,n.jsxs)("div",{style:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",flexWrap:"wrap",fontSize:"1rem",fontWeight:400},children:[(0,n.jsxs)("span",{children:[e.banner.tosUpdateText," "]}),(0,n.jsx)("a",{href:"jp"===e.lang?"https://blog.novelai.net/novelai-%E7%94%BB%E5%83%8F%E3%82%AD%E3%83%A3%E3%83%83%E3%82%B7%E3%83%B3%E3%82%B0%E6%A9%9F%E8%83%BD%E3%81%AE%E5%B0%8E%E5%85%A5-715456e86dc4":"https://blog.novelai.net/7dff4c292228",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(N,{children:e.banner.tosUpdateLearnMore})}),(0,n.jsx)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(N,{children:e.banner.tosUpdateViewTerms})})]}),(0,n.jsx)(r.Dp,{onClick:()=>{i(e=>{let t={...e,settings:{...e.settings,tosFlag:1}};return(0,w.c7)(t).saveSettings(t.settings),t})},style:{fontSize:"1rem",fontWeight:700,marginLeft:"10px",padding:"8px"},children:(0,n.jsx)(u.ejf,{})})]})})}},92356:(e,t,i)=>{"use strict";i.d(t,{p:()=>o,r:()=>r});var n=i(39612);async function o(e,t){return new Promise((i,o)=>{let r=new Image;r.addEventListener("load",()=>{let e=document.createElement("canvas"),a=document.createElement("canvas"),s=e.getContext("2d"),c=a.getContext("2d");if(!s||!c)return void o(Error("Could not create canvas context"));let d=r.width,l=r.height;e.width=d,e.height=l,s.drawImage(r,0,0,d,l);let h=t/Math.max(d,l);a.width=Math.floor(d*h),a.height=Math.floor(l*h),(0,n.vy)().resize(e,a,{filter:"lanczos3"}).then(()=>{i(a.toDataURL("image/jpeg",.8))}).catch(()=>{c.imageSmoothingEnabled=!0,c.imageSmoothingQuality="high",c.drawImage(r,0,0,a.width,a.height),i(a.toDataURL("image/jpeg",.8))})}),r.addEventListener("error",()=>o(Error("Failed to load image"))),e.startsWith("data:image/")||(e=`data:image/png;base64,${e}`),r.src=e})}async function r(e,t){return new Promise((i,r)=>{let a=new Blob([e],{type:"image/png"}),s=new FileReader;s.addEventListener("load",()=>{o(s.result,t).then(i).catch(r)}),s.addEventListener("error",()=>{i(`data:image/png;base64,${n.yP}`)}),s.readAsDataURL(a)})}},98602:(e,t,i)=>{"use strict";i.d(t,{$t:()=>x,Az:()=>u,BN:()=>y,C6:()=>m,QE:()=>p,Zl:()=>c,bm:()=>h,f9:()=>f,gV:()=>l,kC:()=>s,m5:()=>b,pN:()=>g,u_:()=>d});var n=i(55805),o=i(61056),r=i(89077),a=i(92704);let s=n.Ay.div.withConfig({componentId:"sc-9453fde5-0"})(["display:flex;flex-direction:column;margin:15px;margin-top:0;font-size:0.875rem;@media (max-width:","){margin-right:15px;}","{height:100%;}&:not(:first-child){margin-top:20px;}"],e=>e.theme.breakpoints.mobile,o.r9),c=n.Ay.div.withConfig({componentId:"sc-9453fde5-1"})(["display:flex;justify-content:space-between;flex-wrap:wrap;margin:0 0 2px 0;"]),d=n.Ay.div.withConfig({componentId:"sc-9453fde5-2"})(["display:flex;justify-content:space-between;flex-wrap:wrap;margin:0 0 8px 0;opacity:0.6;"]),l=n.Ay.div.withConfig({componentId:"sc-9453fde5-3"})(["display:flex;flex-direction:row;align-items:center;font-size:",";font-weight:600;font-family:",";label{font-size:1rem;}"],e=>e.small?"0.875rem":"1rem",e=>e.small?e.theme.fonts.default:e.theme.fonts.headings),h=n.Ay.div.withConfig({componentId:"sc-9453fde5-4"})(["cursor:",";font-size:0.875rem;opacity:",";font-weight:normal;display:flex;&:hover{opacity:",";}","{width:14px;margin:auto 6px;}"],e=>e.onClick?"pointer":"normal",e=>e.onClick?.8:.5,e=>e.onClick?1:.5,a.Int),g=(0,n.Ay)(r.Dp).withConfig({componentId:"sc-9453fde5-5"})(["cursor:",";font-size:0.875rem;opacity:",";font-weight:normal;display:flex;&:hover{opacity:",";}","{width:14px;margin:auto 6px;}"],e=>e.onClick?"pointer":"normal",e=>e.onClick?.8:.5,e=>e.onClick?1:.5,a.Int),u=n.Ay.div.withConfig({componentId:"sc-9453fde5-6"})(["display:flex;flex-direction:row;gap:10px;> div:hover{opacity:1;}"]),p=n.Ay.div.withConfig({componentId:"sc-9453fde5-7"})(["display:flex;font-family:",";font-size:1rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"],e=>e.simple?e.theme.fonts.default:e.theme.fonts.headings),m=n.Ay.div.withConfig({componentId:"sc-9453fde5-8"})(["display:flex;opacity:0.7;font-size:0.875rem;margin:0;margin-bottom:5px;"]),x=n.Ay.div.withConfig({componentId:"sc-9453fde5-9"})(["display:flex;justify-content:space-between;font-size:",";input{font-weight:bold;}> :nth-child(1){display:flex;flex-direction:row;> :nth-child(2){font-size:",";margin-right:2px;padding:0px;padding-left:2px;min-width:1rem;max-width:4rem;border-radius:2px;background-color:transparent;&:focus{background-color:",";}color:",";}}margin-bottom:5px;align-items:baseline;"],e=>e.simple?"1rem":"1.1rem",e=>e.simple?"1rem":"1.1rem",e=>e.theme.colors.bg0,e=>e.focused?e.theme.colors.textHeadings:e.theme.colors.textMain),f=n.Ay.div.withConfig({componentId:"sc-9453fde5-10"})(["display:flex;justify-content:space-between;font-size:0.875rem;font-weight:600;position:relative;> :nth-child(1){display:flex;align-items:flex-end;> :nth-child(2){font-size:0.875rem;margin-left:3px;margin-right:2px;padding:0px;padding-left:2px;min-width:1rem;max-width:4rem;font-weight:bold;border-radius:1px;background-color:transparent;&:focus{background-color:",";}color:",";}> :nth-child(3){opacity:0.9;}}> :nth-child(2){font-weight:normal;}margin-bottom:8px;align-items:baseline;"],e=>e.theme.colors.bg0,e=>e.focused?e.theme.colors.textHeadings:e.theme.colors.textMain),b=n.Ay.div.withConfig({componentId:"sc-9453fde5-11"})(["left:calc(50% - 0.5px);bottom:-3px;position:absolute;background-color:",";opacity:0.3;width:2px;height:60%;"],e=>e.theme.colors.textMain),y=n.Ay.div.withConfig({componentId:"sc-9453fde5-12"})(["color:",";font-size:0.875rem;font-weight:600;opacity:0.8;margin-top:5px;margin-bottom:5px;"],e=>e.theme.colors.warning)}}]);