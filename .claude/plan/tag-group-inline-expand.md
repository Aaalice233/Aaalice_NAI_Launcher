# Tag Group å†…è”å±•å¼€é‡æ„

## ç›®æ ‡
å°†"ç®¡ç†ç»„"å¯¹è¯æ¡†åŠŸèƒ½æ•´åˆåˆ°ä¸»é¢æ¿ï¼Œåˆ†ç±»å¯ç›´æ¥ç‚¹å‡»å±•å¼€/æ”¶èµ·

## æ–°å¸ƒå±€è®¾è®¡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœ€å°çƒ­åº¦é˜ˆå€¼ [1.0K] â•â•â•â•â•â•â•â•â•â•â•â• [æ¢å¤é»˜è®¤][â˜‘][â˜] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¶ ğŸ¨ å‘è‰²    Hair Color Ã—                         â”‚
â”‚ â–¼ ğŸ‘ ç³è‰²                                          â”‚
â”‚   â”‚ â˜‘ Eyes        â˜ Eye Color                     â”‚
â”‚ â–¶ ğŸ’‡ å‘å‹    Hair Ã— Hair Styles Ã—                 â”‚
â”‚ ...                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ‰§è¡Œæ­¥éª¤

### 1. è½¬æ¢ Panel ä¸º StatefulWidget
- `TagGroupMappingPanel`: ConsumerWidget â†’ ConsumerStatefulWidget
- æ·»åŠ çŠ¶æ€ï¼š`Set<TagSubCategory> _expandedCategories`

### 2. é‡æ„é¡¶éƒ¨å·¥å…·æ  `_PostCountSlider`
- ç§»é™¤"ç®¡ç†ç»„"æŒ‰é’®
- æ·»åŠ "æ¢å¤é»˜è®¤"æŒ‰é’®åˆ°æ»‘å—è¡Œ
- æ·»åŠ "å…¨é€‰"/"å–æ¶ˆå…¨é€‰"æŒ‰é’®

### 3. æ–°å¢ `_buildExpandableCategoryRow()`
æ”¶èµ·çŠ¶æ€ï¼š
- å·¦ä¾§ï¼šå±•å¼€å›¾æ ‡ + åˆ†ç±»å›¾æ ‡ + åˆ†ç±»å
- å³ä¾§ï¼šå·²é€‰ tag group çš„ Chips

å±•å¼€çŠ¶æ€ï¼š
- æ ‡é¢˜è¡ŒåŒä¸Š
- å­åŒºåŸŸï¼šè¯¥åˆ†ç±»ä¸‹æ‰€æœ‰å¯é€‰çš„ tag group å‹¾é€‰åˆ—è¡¨
- ä» `DanbooruTagGroupTree` è·å–è¯¥åˆ†ç±»çš„æ‰€æœ‰ tag groups
- æ˜¾ç¤ºå‹¾é€‰æ¡† + åç§°ï¼Œå¯ç‚¹å‡»åˆ‡æ¢

### 4. å®ç°å‹¾é€‰é€»è¾‘
- ç‚¹å‡»åˆ†ç±»è¡Œï¼šåˆ‡æ¢å±•å¼€/æ”¶èµ·
- ç‚¹å‡»å‹¾é€‰æ¡†ï¼šè°ƒç”¨ provider æ›´æ–°æ˜ å°„é…ç½®
- éœ€è¦å¤„ç†ï¼šæ–°å¢æ˜ å°„ / åˆ‡æ¢å¯ç”¨çŠ¶æ€

### 5. åˆ é™¤ä¸éœ€è¦çš„ä»£ç 
- ç§»é™¤ `tag_group_manage_dialog.dart` çš„ import
- ç§»é™¤ `_showManageGroupsDialog()` æ–¹æ³•

### 6. æ·»åŠ æ‚¬æµ®é¢„è§ˆ
- å¤ç”¨ tag_group_manage_dialog ä¸­çš„ tooltip é€»è¾‘

## æ–‡ä»¶å˜æ›´
- `lib/presentation/screens/prompt_config/tag_group_mapping_panel.dart` (é‡æ„)

## ä¾èµ–
- `DanbooruTagGroupTree` - è·å–åˆ†ç±»ä¸‹çš„ tag groups
- `tagGroupMappingNotifierProvider` - æ›´æ–°æ˜ å°„é…ç½®
